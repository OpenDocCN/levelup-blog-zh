<html>
<head>
<title>Mutable, immutable… Everything is an object!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可变的，不可变的…一切都是对象！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/mutable-immutable-everything-is-an-object-898490075bce?source=collection_archive---------8-----------------------#2020-01-16">https://levelup.gitconnected.com/mutable-immutable-everything-is-an-object-898490075bce?source=collection_archive---------8-----------------------#2020-01-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1cf2cbca11c4bad5ef7f9caa9eac1e92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rkUuHV4hJ26uJFvzqPAtQw.png"/></div></div></figure><p id="5543" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Python最强大的特性之一就是一切都是对象，包括函数。Python中的函数是一级对象。这也意味着每个实体都有一些元数据(称为属性)和相关的功能(称为方法)。</p><p id="4165" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">不同的编程语言以不同的方式定义<strong class="kd iu">对象</strong>。在某些情况下，它意味着所有对象都必须有属性和方法；在其他情况下，这意味着所有对象都是可子类化的。</p><p id="6164" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在Python中，定义更宽松；有些对象既没有属性也没有方法，而且不是所有的对象都是可子类化的。但是一切都是对象，因为它可以被赋给一个变量或者作为一个函数的参数传递。</p><p id="1540" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一些对象是:</p><ul class=""><li id="822c" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky le lf lg lh bi translated">整数</li><li id="8825" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">用线串</li><li id="7d99" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">列表</li><li id="0998" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">功能</li><li id="729b" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">等等。(全部)</li></ul><p id="ad61" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们可能认为是一个<strong class="kd iu">变量</strong>，而不是认为它是一个<strong class="kd iu">名称</strong>。当我们给一个变量赋值时:</p><pre class="ln lo lp lq gt lr ls lt lu aw lv bi"><span id="eac3" class="lw lx it ls b gy ly lz l ma mb">&lt;name&gt; = &lt;object&gt;</span></pre><p id="9bf8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们实际上是将一个名为的绑定到一个对象上。这意味着一个对象可以绑定多个名字。</p><h1 id="0697" class="mc lx it bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">id和类型</h1><p id="e902" class="pw-post-body-paragraph kb kc it kd b ke mz kg kh ki na kk kl km nb ko kp kq nc ks kt ku nd kw kx ky im bi translated">为了了解为什么Python中的一切都是对象，我们有了函数T0和T1。</p><p id="f5b7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> id() </strong> —是Python中的内置函数，接受一个参数，用于返回对象的身份。</p><p id="522e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ne nf ng ls b">id</code>语法:</p><pre class="ln lo lp lq gt lr ls lt lu aw lv bi"><span id="af89" class="lw lx it ls b gy ly lz l ma mb">id(object)</span></pre><p id="931c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ne nf ng ls b">id</code>举例:</p><figure class="ln lo lp lq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/06e59939f20bf9bef910c28bb8604c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pjHg1PuR8vIDx6sSaE70XA.png"/></div></div></figure><p id="f868" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在生命周期中，身份必须是唯一的和不变的。具有非重叠生存期的两个对象可能具有相同的id()值。</p><figure class="ln lo lp lq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/9167a708db1f9b0b67a6555db98caaef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyS7LelmbUdZpS7yr2rEug.png"/></div></div></figure><p id="975e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们把它和C联系起来，那么它们实际上是内存地址，在Python中是唯一的id。</p><p id="02ba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> type() </strong> —是Python中的内置函数，是返回作为参数传递的对象的类类型的方法</p><p id="711a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ne nf ng ls b">type</code>语法:</p><pre class="ln lo lp lq gt lr ls lt lu aw lv bi"><span id="66d4" class="lw lx it ls b gy ly lz l ma mb">type(object)</span></pre><p id="522f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe ne nf ng ls b">type</code>举例:</p><figure class="ln lo lp lq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/d973c6af5897917f944b2fbe37d663a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-nc8kJPPoWY7My4WRSNyqg.png"/></div></div></figure><p id="40bc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从上面的代码中，我们得到了不同的类型<code class="fe ne nf ng ls b">a</code>是类的类型<em class="ni">字符串</em>，<code class="fe ne nf ng ls b">b</code>是类的类型<em class="ni"> int </em>而<code class="fe ne nf ng ls b">c</code>是类的类型<em class="ni">列表</em>。</p><h1 id="7199" class="mc lx it bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">可变和不可变对象</h1><p id="42ce" class="pw-post-body-paragraph kb kc it kd b ke mz kg kh ki na kk kl km nb ko kp kq nc ks kt ku nd kw kx ky im bi translated">原来Python有两种对象性质:<code class="fe ne nf ng ls b">mutable</code>和<code class="fe ne nf ng ls b">immutable</code>。</p><p id="3eb8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">可变对象的值在创建后可以被改变</strong>。<strong class="kd iu">不可变对象的值不能是</strong>。</p><p id="e591" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一个<code class="fe ne nf ng ls b">list</code>是一个<strong class="kd iu">可变对象</strong>。您可以创建一个列表，添加一些值，然后列表就会被更新。</p><figure class="ln lo lp lq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/7e63d69b675ef9ff7dd19bddbbc322bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MCYIGeZGfgqrFR1vy46NPw.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">可变对象</figcaption></figure><p id="13ba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一个<code class="fe ne nf ng ls b">string</code>是一个<strong class="kd iu">不可变的对象</strong>。一旦创建了字符串，就不能更改其值。</p><figure class="ln lo lp lq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/ac05addb7c79679d5d74459bef02eb58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G2KxMrh9oosAsPmmBwSAbg.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">不可变对象</figcaption></figure><p id="96de" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当你改变一个字符串时，你实际上是将它重新绑定到一个新创建的字符串对象上。原始对象保持不变，即使有可能不再引用它。</p><p id="4319" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">即使我们正在使用<code class="fe ne nf ng ls b">+=</code>并且<em class="ni">看起来</em>我们正在修改字符串，我们实际上只是得到了一个包含更改结果的新字符串。</p><p id="2d59" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">不可变变量在创建后不能更改。如果你想改变一个不可变的变量，比如一个字符串，你必须创建一个新的实例，并将变量绑定到新的实例。可变变量可以就地改变。</p><p id="f76b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">警告<strong class="kd iu"> : </strong>一个不可变的元组可以包含可变元素，比如list ex: <code class="fe ne nf ng ls b">(1, 2, [3, 4, 5])</code>。元组中对列表的引用可以保持不变，即使列表的内容被修改。</p><figure class="ln lo lp lq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/ffa1a73b91521c8237e311b491ff4cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3yAeI1z__11AGkUajhkOTw.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">修改元组内的列表</figcaption></figure><h1 id="6969" class="mc lx it bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">关键要点</h1><p id="aacd" class="pw-post-body-paragraph kb kc it kd b ke mz kg kh ki na kk kl km nb ko kp kq nc ks kt ku nd kw kx ky im bi translated">一个<em class="ni">可变</em>对象表现出时变行为。通过绑定到可变对象的所有名称，可以看到对可变对象的更改。</p><p id="1b5b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一个<em class="ni">不可变的</em>对象不会表现出随时间变化的行为。不可变对象的值在创建后不能修改。它们<em class="ni">可以</em>用于计算<strong class="kd iu">新</strong>对象的值</p><p id="3154" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们将可变对象传递给一个函数，那么被传递的对象(原始对象)的值可能会被修改</p><figure class="ln lo lp lq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/f4cb9b99d5a38653080f9474de9d95a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TkvBTdpnfaLxUaIWUMckpg.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">将可变对象传递给函数</figcaption></figure><p id="54bc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在另一种情况下，如果我们将不可变的对象传递给一个函数，被传递的对象仍将保持其原始值</p><figure class="ln lo lp lq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/1c1ab869f910fa1a4c8d5d3ce5b8ede2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LAYNldwSTknIkwBPXgdygw.png"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">将不可变对象传递给函数</figcaption></figure><h2 id="426c" class="lw lx it bd md nn no dn mh np nq dp ml km nr ns mp kq nt nu mt ku nv nw mx nx bi translated">资源:</h2><div class="ny nz gp gr oa ob"><a href="https://jakevdp.github.io/WhirlwindTourOfPython/03-semantics-variables.html" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">基本Python语义:变量和对象</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">在Python中给变量赋值就像把一个变量名放在等号(=)的左边一样简单:这可能看起来…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">jakevdp.github.io</p></div></div><div class="ok l"><div class="ol l om on oo ok op jz ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a href="https://medium.com/@larmalade/python-everything-is-an-object-and-some-objects-are-mutable-4f55eb2b468b" rel="noopener follow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">Python:一切都是对象，有些对象是可变的</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">Python作为一种易于读写的语言而享有盛誉，这是当之无愧的。它有很棒的文档和…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">medium.com</p></div></div></div></a></div><div class="ny nz gp gr oa ob"><a href="https://jeffknupp.com/blog/2013/02/14/drastically-improve-your-python-understanding-pythons-execution-model/" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">大幅改进您的Python:理解Python的执行模型</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">刚接触Python的人经常会对自己代码的行为感到惊讶。他们期待一个但是，似乎没有任何理由…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">jeffknupp.com</p></div></div><div class="ok l"><div class="oq l om on oo ok op jz ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a href="https://www.geeksforgeeks.org/id-function-python/" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">Python - GeeksforGeeks中的id()函数</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">简介id()是Python中的一个内置函数。语法:id(object)正如我们所看到的，该函数接受单个…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">www.geeksforgeeks.org</p></div></div><div class="ok l"><div class="or l om on oo ok op jz ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a href="https://stackoverflow.com/questions/865911/is-everything-an-object-in-python-like-ruby" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">python中的一切都是像ruby一样的对象吗？</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">感谢贡献一个堆栈溢出的答案！请务必回答问题。提供详细信息并分享…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">stackoverflow.com</p></div></div><div class="ok l"><div class="os l om on oo ok op jz ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a href="https://jeffknupp.com/blog/2013/02/14/drastically-improve-your-python-understanding-pythons-execution-model/" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">大幅改进您的Python:理解Python的执行模型</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">刚接触Python的人经常会对自己代码的行为感到惊讶。他们期待一个但是，似乎没有任何理由…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">jeffknupp.com</p></div></div><div class="ok l"><div class="oq l om on oo ok op jz ob"/></div></div></a></div></div></div>    
</body>
</html>