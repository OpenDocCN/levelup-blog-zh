<html>
<head>
<title>A short introduction to CSS variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS变量简介</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/short-intro-to-css-variables-eecd3377d4f2?source=collection_archive---------2-----------------------#2019-08-08">https://levelup.gitconnected.com/short-intro-to-css-variables-eecd3377d4f2?source=collection_archive---------2-----------------------#2019-08-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3024bd8ce5dd4a0111b0f0980c4216a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_T8eXvjJTXggxpTOK5g6qg.png"/></div></div></figure><p id="16e9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用CSS变量，我们可以为属性设置一个值，并在我们的CSS代码中重用它。这几乎可以理解为我们在JavaScript中使用变量的方式。</p><h2 id="9179" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">我们什么时候需要CSS变量？</h2><p id="1732" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">当我们在做一个项目时，我们需要对许多元素使用相同的值(文本颜色、背景、边框等)。在这种情况下，我们可以设置CSS变量，然后访问它，而不是重写相同的代码。例如，如果您有一个调色板或标准化的间距，您可以将它们直接存储在CSS中以重用它们。</p><p id="fd96" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">CSS变量有其他的名字，如“自定义属性”或“级联变量”。</p><p id="1c91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">属性名的值以前缀为<code class="fe lu lv lw lx b">--property-name: value</code>的两个破折号开始。</p><pre class="ly lz ma mb gt mc lx md me aw mf bi"><span id="3c33" class="kw kx iq lx b gy mg mh l mi mj">--border: 2px solid #fafafa;</span></pre><p id="c5c8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用<code class="fe lu lv lw lx b">var()</code>评估房产的价值</p><pre class="ly lz ma mb gt mc lx md me aw mf bi"><span id="c285" class="kw kx iq lx b gy mg mh l mi mj">div {<br/>  border: var(--border);<br/>}</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="e613" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每当我们需要设置属性时，我们都需要定义属性的范围。</p><figure class="ly lz ma mb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/f6bb833d3d715345d7c2c19c5e0ee8af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NoOFnIvgipxJQMo58StRxA.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated"><a class="ae mw" href="https://gist.github.com/Jagathishrex/d911a701e8662efe3c0f42598052094d" rel="noopener ugc nofollow" target="_blank">代码链接</a></figcaption></figure><p id="5da4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在考虑这样一种情况，我们需要将div内的文本颜色设置为红色，而span内的文本颜色应该为蓝色。对于这种情况，我们需要在两个范围(div和span)中定义颜色属性。</p><figure class="ly lz ma mb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/5cc5330c30d82fbae1e54f91ae9cb745.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aYMpTPcN0w1npC8IMp33Tg.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated"><a class="ae mw" href="https://gist.github.com/Jagathishrex/d911a701e8662efe3c0f42598052094d" rel="noopener ugc nofollow" target="_blank">代码链接</a></figcaption></figure><p id="876b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以结果会是</p><figure class="ly lz ma mb gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/7328ad8fcd6a46d8f19234bbf9e804eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*9x_NnIETYOpmZ7aKiJLo7A.png"/></div></figure><p id="7dc5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您需要一个在所有范围/元素中都通用的属性，那么您可以在<code class="fe lu lv lw lx b">:root</code>中定义该属性。</p><figure class="ly lz ma mb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/b19091c006d06d86bc3ae62d07e3f9aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZT-Clp_Sep3y5vCKrZ71fQ.png"/></div></div></figure><p id="e93f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在考虑代码:</p><figure class="ly lz ma mb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/f5c59d0704b16661126f1cb6d3dfe3a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P4ffxVSLxznR1vj2MPpxiw.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated"><a class="ae mw" href="https://gist.github.com/Jagathishrex/d911a701e8662efe3c0f42598052094d" rel="noopener ugc nofollow" target="_blank">代码链接</a></figcaption></figure><p id="405e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的代码中，我们没有为带有类<code class="fe lu lv lw lx b">.four</code>的div提供文本颜色属性，但是文本的颜色是红色。这是因为属性的值是默认继承的。因此，如果当前div没有特定的值，那么该属性将从父类继承，就像普通的CSS一样！</p><h2 id="d9fa" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">后备值</h2><pre class="ly lz ma mb gt mc lx md me aw mf bi"><span id="77e8" class="kw kx iq lx b gy mg mh l mi mj">.two{</span><span id="9253" class="kw kx iq lx b gy nb mh l mi mj">   color: var(--color, brown);</span><span id="2a1d" class="kw kx iq lx b gy nb mh l mi mj">}</span></pre><p id="65b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这种情况下，我们没有为<code class="fe lu lv lw lx b">--color</code>变量定义任何值，所以我们可以提供一个<code class="fe lu lv lw lx b">default value</code>，它将返回到这个值。</p><p id="c5ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的例子中，如果浏览器找不到变量<code class="fe lu lv lw lx b">--color</code>，我们告诉浏览器使用<code class="fe lu lv lw lx b">brown</code>颜色。</p><p id="6e2a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们也可以这样使用它:</p><pre class="ly lz ma mb gt mc lx md me aw mf bi"><span id="1413" class="kw kx iq lx b gy mg mh l mi mj">.two{</span><span id="4512" class="kw kx iq lx b gy nb mh l mi mj">      color : var<strong class="lx ir">(</strong>--color, var<strong class="lx ir">(</strong>--textcolor, brown<strong class="lx ir">))</strong>;</span><span id="2802" class="kw kx iq lx b gy nb mh l mi mj">}</span></pre><p id="0d77" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的代码中，如果浏览器找不到<code class="fe lu lv lw lx b">--color</code>，那么它将搜索<code class="fe lu lv lw lx b">--textcolor</code>，如果找不到<code class="fe lu lv lw lx b">--textcolor</code>，那么它将使用<code class="fe lu lv lw lx b">brown</code>颜色。</p><h2 id="ffbb" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">处理无效值</h2><p id="de72" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">考虑一下</p><pre class="ly lz ma mb gt mc lx md me aw mf bi"><span id="8c3c" class="kw kx iq lx b gy mg mh l mi mj">.four {</span><span id="a8ba" class="kw kx iq lx b gy nb mh l mi mj">  --size : 16px;</span><span id="c05a" class="kw kx iq lx b gy nb mh l mi mj">}</span><span id="3276" class="kw kx iq lx b gy nb mh l mi mj">.four {</span><span id="d604" class="kw kx iq lx b gy nb mh l mi mj">    color : var(--size);</span><span id="4d1a" class="kw kx iq lx b gy nb mh l mi mj">}</span></pre><p id="cf00" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe lu lv lw lx b">--size</code>属性不能应用于<code class="fe lu lv lw lx b">color</code>属性。在这种情况下，浏览器将尝试以下操作:</p><ul class=""><li id="73a0" class="nc nd iq ka b kb kc kf kg kj ne kn nf kr ng kv nh ni nj nk bi translated">首先尝试从父母那里继承财产</li><li id="0e7f" class="nc nd iq ka b kb nl kf nm kj nn kn no kr np kv nh ni nj nk bi translated">如果元素没有父元素，则应用默认值(在我们的例子中，应用黑色)</li></ul><h2 id="8251" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">在Javascript中使用CSS变量</h2><p id="d8b5" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">要获取CSS变量的值:</p><pre class="ly lz ma mb gt mc lx md me aw mf bi"><span id="d732" class="kw kx iq lx b gy mg mh l mi mj">let element = document.querySelector('.two');</span><span id="8848" class="kw kx iq lx b gy nb mh l mi mj">getComputedStyle(element).getPropertyValue('--textcolor')</span></pre><p id="2cc5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要访问内联样式，您需要:</p><pre class="ly lz ma mb gt mc lx md me aw mf bi"><span id="94b8" class="kw kx iq lx b gy mg mh l mi mj">element.style.getPropertyValue("--textcolor");</span></pre><p id="a748" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要在内联样式上设置变量:</p><pre class="ly lz ma mb gt mc lx md me aw mf bi"><span id="f304" class="kw kx iq lx b gy mg mh l mi mj">element.style.setProperty("--textcolor", yellow );</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><blockquote class="nq"><p id="37da" class="nr ns iq bd nt nu nv nw nx ny nz kv dk translated">如果你发现这个有用的惊喜🎁我<a class="ae mw" href="https://www.paypal.me/jagathishSaravanan?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="8e9a" class="nr ns iq bd nt nu nv nw nx ny nz kv dk translated">开心就分享😃 😆 🙂。</p><p id="7caa" class="nr ns iq bd nt nu nv nw nx ny nz kv dk translated">跟随<a class="ae mw" href="https://medium.com/u/f9ffc26e7e69?source=post_page---------------------------" rel="noopener"> Javascript吉普🚙</a>如果你觉得值得。</p></blockquote></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><div class="ly lz ma mb gt oa"><a href="https://gitconnected.com/learn/javascript" rel="noopener  ugc nofollow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">学习JavaScript -最佳JavaScript教程(2019) | gitconnected</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">JavaScript是世界上最流行的编程语言之一——它随处可见。JavaScript是一种…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">gitconnected.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo jw oa"/></div></div></a></div></div></div>    
</body>
</html>