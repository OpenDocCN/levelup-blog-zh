<html>
<head>
<title>Material-UI: How to Implement Dark Mode and Edit Theme Colors</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Material-UI:如何实现黑暗模式和编辑主题颜色</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/material-ui-how-to-implement-dark-mode-and-edit-theme-colors-effcfa0893b9?source=collection_archive---------1-----------------------#2020-07-21">https://levelup.gitconnected.com/material-ui-how-to-implement-dark-mode-and-edit-theme-colors-effcfa0893b9?source=collection_archive---------1-----------------------#2020-07-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6945" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">对于第一次使用的用户来说，自定义材质界面可能会有点混乱。下面我们来探讨一下如何编辑主题。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/fa2b16ba69f85d6ece5a44dab6e9965c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RdzHCmUpIw8zGZRxrgZnXA.png"/></div></div></figure><p id="8bad" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lq" href="https://material-ui.com/" rel="noopener ugc nofollow" target="_blank"> Material-UI </a>是一个React组件库，遵循Google的<a class="ae lq" href="https://material.io/design/introduction" rel="noopener ugc nofollow" target="_blank"> Material Design </a>指南。因此，它提供了一个干净的用户界面体验，既可访问又跨浏览器兼容。默认情况下，它以亮模式出现，所以本文将讨论如何切换到暗模式。作为奖励，我们还将探索如何编辑主题颜色。</p><h1 id="713f" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">基础:用纱线或npm安装</h1><p id="b2ee" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">Material-UI网站本身很好地解释了安装，但是概括一下，在您的终端中，在您的项目目录中运行以下代码。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="b8f6" class="mt ls it mp b gy mu mv l mw mx">yarn add @material-ui/core<br/>// or<br/>npm install @material-ui/core</span></pre><p id="1811" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，将Roboto字体添加到HTML文件的头中。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="8a60" class="mt ls it mp b gy mu mv l mw mx">&lt;link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&amp;display=swap" /&gt;<!-- --> </span></pre><p id="d517" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是最起码的要求！然而，如果你最终使用了Material-UI的图标，你将需要安装额外的软件包。 <a class="ae lq" href="https://material-ui.com/getting-started/installation/" rel="noopener ugc nofollow" target="_blank">如果您希望使用图标，请参考其安装页面</a>获取更多说明。</p><h1 id="31cf" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">切换到黑暗模式</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/61066919eb355f4dc5c29f2a2f9825ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bNlJpldtfljrtTaLWKQQUg.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">Material-UI的网站处于黑暗模式，这也是一个在你自己的应用中实现的例子。</figcaption></figure><p id="99af" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">黑暗模式对眼睛来说更容易，幸运的是Material-UI允许快速定制主题。这是一个包含四个步骤的过程，应该会产生下面的index.js文件。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">请注意第6–7行(导入)、第9–13行(定义我们的自定义主题)和第16–19行(将其应用到我们的应用程序)。</figcaption></figure><p id="2dd1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们看看如何一步一步地实现这一点。</p><h2 id="313c" class="mt ls it bd lt ng nh dn lx ni nj dp mb ld nk nl md lh nm nn mf ll no np mh nq bi translated">第1步:导入createMuiTheme和ThemeProvider</h2><p id="f50b" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">在index.js文件中，像这样导入<code class="fe nr ns nt mp b">ThemeProvider</code>和<code class="fe nr ns nt mp b">createMuiTheme</code>。您可以在上面代码的第6行看到这一点。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="d587" class="mt ls it mp b gy mu mv l mw mx">import { ThemeProvider, createMuiTheme } from '@material-ui/core/styles';</span></pre><h2 id="2a2d" class="mt ls it bd lt ng nh dn lx ni nj dp mb ld nk nl md lh nm nn mf ll no np mh nq bi translated">第二步:定义你的主题</h2><p id="a160" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">我们可以传递一个对象给<code class="fe nr ns nt mp b">createMuiTheme</code>,它定义了我们想要定制的部分。具体来说，如果我们想将主题切换到黑暗模式，并且不做任何其他花哨的事情，这就是它看起来的样子。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="44f4" class="mt ls it mp b gy mu mv l mw mx">const theme = createMuiTheme({<br/>  palette: {<br/>    type: "dark",<br/>  }<br/>});</span></pre><p id="b7ca" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我建议观看<code class="fe nr ns nt mp b">console.log</code>中的<code class="fe nr ns nt mp b">theme</code>，以充分了解这里正在发生的事情。如果你想知道你还能编辑什么，<a class="ae lq" href="https://material-ui.com/customization/default-theme/" rel="noopener ugc nofollow" target="_blank">你可以在这里查看默认的主题对象</a>。</p><h2 id="6080" class="mt ls it bd lt ng nh dn lx ni nj dp mb ld nk nl md lh nm nn mf ll no np mh nq bi translated">步骤3:用ThemeProvider包装应用程序</h2><p id="751c" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">因为我们现在已经定义了我们想要在我们的<code class="fe nr ns nt mp b">theme</code>变量中的内容，现在让我们使用它，以及我们之前导入的<code class="fe nr ns nt mp b">ThemeProvider</code>。<code class="fe nr ns nt mp b">ThemeProvider</code>包装你的应用，并为其提供你定义的主题。它看起来会像这样。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="e738" class="mt ls it mp b gy mu mv l mw mx">ReactDOM.render(<br/>  &lt;ThemeProvider theme={theme}&gt;<br/>    &lt;App /&gt;<br/>  &lt;/ThemeProvider&gt;,<br/>  document.getElementById('root')<br/>);</span></pre><p id="f780" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请注意，<code class="fe nr ns nt mp b">ThemeProvider</code>被赋予了一个主题道具，我们正在传递我们的<code class="fe nr ns nt mp b">theme</code>。</p><h2 id="ce00" class="mt ls it bd lt ng nh dn lx ni nj dp mb ld nk nl md lh nm nn mf ll no np mh nq bi translated">最后一步:导入CSS基线</h2><p id="b7ec" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">最后，如果你现在启动你的应用程序，你会注意到背景仍然是白色的。这是因为我们必须添加一个CSS重置/规范化的应用程序，以保持与我们的主题同步的风格。为此，我们需要组件<code class="fe nr ns nt mp b">CssBaseline</code>。用下面的代码将其导入index.js。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="ff9b" class="mt ls it mp b gy mu mv l mw mx">import CssBaseline from ‘@material-ui/core/CssBaseline’;</span></pre><p id="cfb8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在把它插在<code class="fe nr ns nt mp b">ThemeProvider</code>里面，在你的<code class="fe nr ns nt mp b">App</code>组件之前，像这样。</p><pre class="kj kk kl km gt mo mp mq mr aw ms bi"><span id="702b" class="mt ls it mp b gy mu mv l mw mx">ReactDOM.render(<br/>  &lt;ThemeProvider theme={theme}&gt;<br/>    &lt;CssBaseline /&gt;<br/>    &lt;App /&gt;<br/>  &lt;/ThemeProvider&gt;,<br/>  document.getElementById('root')<br/>);</span></pre><p id="71e4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你完了！你应该会看到你的应用程序的背景现在变成了深灰色，你拥有的任何材质UI组件现在都将是它们的暗模式版本。</p><p id="84ea" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你想了解更多关于<code class="fe nr ns nt mp b">CssBaseline</code>的信息，Material-UI实际上引用了<a class="ae lq" href="http://nicolasgallagher.com/about-normalize-css/" rel="noopener ugc nofollow" target="_blank"> normalize.css </a>作为类似于<code class="fe nr ns nt mp b">CssBaseline</code>的功能。我还发现通过<a class="ae lq" href="https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/CssBaseline/CssBaseline.js" rel="noopener ugc nofollow" target="_blank">解析CssBaseline.js </a>的代码有助于明确它到底做了什么。</p><h1 id="69bb" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">编辑颜色</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/1852e4eed5b99703d8dd671424377592.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UzrvxRDLudzF8ZE-KK3_YQ.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">Material-UI的颜色选择器可以帮助你可视化你理想的配色方案。<a class="ae lq" href="https://material-ui.com/customization/color/#playground" rel="noopener ugc nofollow" target="_blank">https://material-ui.com/customization/color/#playground</a></figcaption></figure><p id="24ec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我们有了黑暗模式，也许我们想使用不同于默认提供的颜色。这可以很容易地通过对我们现在的代码做一些小的编辑来实现。您可以在提供给<code class="fe nr ns nt mp b">createMuiTheme</code>的对象中更改颜色和其他样式选择。</p><h2 id="bba1" class="mt ls it bd lt ng nh dn lx ni nj dp mb ld nk nl md lh nm nn mf ll no np mh nq bi translated">选择颜色</h2><p id="967b" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">有三种不同的工具可以用来选择配色方案。</p><p id="c000" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以访问Material-UI网站上的<a class="ae lq" href="https://material-ui.com/customization/color/#playground" rel="noopener ugc nofollow" target="_blank">页面</a>来选择你想要的配色方案。正如页面所提到的，您可以复制右边的对象，并向您的主题提供从<code class="fe nr ns nt mp b">createMuiTheme</code>中得到的值。</p><p id="c6d4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你也可以从材料网站使用<a class="ae lq" href="https://material.io/resources/color/" rel="noopener ugc nofollow" target="_blank">这个颜色选择器，它有一个优秀的可访问性标签，用于检查易读性和多个预览图像。它唯一的缺点是提供的例子只是在亮模式下，但是它可以给你一个很好的选择颜色的主意(特别是如果你要包括亮/暗模式切换)。</a></p><p id="6976" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你想看什么颜色搭配你选择的某种颜色，你也可以从材料设计查看<a class="ae lq" href="https://material.io/design/color/the-color-system.html#tools-for-picking-colors" rel="noopener ugc nofollow" target="_blank">这一页</a>。它包括一个颜色选择器，可以让您看到颜色的补色、相似色和三原色。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/09c861e960d2368c9a7c5170308fba5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M2IRDbNVbm0eGz2w5zqdMA.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">材质的颜色工具。<a class="ae lq" href="https://material.io/resources/color/#!/?view.left=0&amp;view.right=0&amp;primary.color=FFA726&amp;secondary.color=F4FF81" rel="noopener ugc nofollow" target="_blank">https://material.io/resources/color/#!/?view.left=0&amp;view . right = 0&amp;primary . color = FFA 726&amp;secondary . color = f4ff 81</a></figcaption></figure><h2 id="9656" class="mt ls it bd lt ng nh dn lx ni nj dp mb ld nk nl md lh nm nn mf ll no np mh nq bi translated">向主题添加颜色</h2><p id="c31c" class="pw-post-body-paragraph ku kv it kw b kx mj ju kz la mk jx lc ld ml lf lg lh mm lj lk ll mn ln lo lp im bi translated">一旦你决定了你喜欢的颜色，实现它们就像编辑传入<code class="fe nr ns nt mp b">createMuiTheme</code>的对象一样简单。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne nf l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">请参见第8行(导入)和第13–16行(编辑传递到createMuiTheme中的对象)。</figcaption></figure><p id="0a23" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意我们从Material-UI导入<code class="fe nr ns nt mp b">red</code>的第8行。材料-UI具有基于2014材料设计调色板的预定义调色板，您可以导入这些调色板。你只需要将它们原样提供给<code class="fe nr ns nt mp b">primary</code>或<code class="fe nr ns nt mp b">secondary</code>，比如上面第13行，因为所选颜色(色调)的所有阴影都包括在内。</p><p id="b121" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您也可以选择提供十六进制颜色代码，如第15行所示。但是，请注意，提供了一个带有<code class="fe nr ns nt mp b">main</code>键的对象，而不是从Material-UI导入的颜色。</p><p id="d957" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">作为最后一个替代选项，如果您不想提供十六进制颜色代码，但仍想使用材料设计调色板中的特定颜色，也可以使用之前导入的颜色。比如上面的十六进制色码<code class="fe nr ns nt mp b">‘#b9f6ca’</code>也可以写成<code class="fe nr ns nt mp b">green[‘A100’]</code>，只要导入<code class="fe nr ns nt mp b">green</code>。先前的颜色选择器提供了色调名称和阴影编号。</p><p id="2590" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">注意，只有<code class="fe nr ns nt mp b">main</code>颜色需要提供给<code class="fe nr ns nt mp b">createMuiTheme</code>，因为其他属性如<code class="fe nr ns nt mp b">light</code>、<code class="fe nr ns nt mp b">dark</code>和<code class="fe nr ns nt mp b">contrastText</code>都是由<code class="fe nr ns nt mp b">createMuiTheme</code>使用<code class="fe nr ns nt mp b">main</code>颜色作为参考来计算的。也就是说，如果你想更多地控制配色方案，你也可以自己定义！</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><p id="8583" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这样！为了进一步阅读，看一看材料设计的黑暗主题基础文档，以更深入地了解其设计原则。<a class="ae lq" href="https://material.io/design/color/dark-theme.html" rel="noopener ugc nofollow" target="_blank">https://material.io/design/color/dark-theme.html</a></p><p id="b996" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">编码快乐！</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h2 id="0ccd" class="mt ls it bd lt ng nh dn lx ni nj dp mb ld nk nl md lh nm nn mf ll no np mh nq bi translated">资源</h2><ul class=""><li id="87c0" class="oc od it kw b kx mj la mk ld oe lh of ll og lp oh oi oj ok bi translated"><a class="ae lq" href="https://material-ui.com/getting-started/installation/" rel="noopener ugc nofollow" target="_blank">物料界面安装文档</a></li><li id="beb7" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><a class="ae lq" href="https://material-ui.com/customization/theming/" rel="noopener ugc nofollow" target="_blank">物料-界面主题化单据</a></li><li id="3e0d" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><a class="ae lq" href="https://material-ui.com/customization/default-theme/" rel="noopener ugc nofollow" target="_blank">材质界面默认主题</a></li><li id="1e00" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><a class="ae lq" href="http://nicolasgallagher.com/about-normalize-css/" rel="noopener ugc nofollow" target="_blank">关于normalize.css </a></li><li id="1899" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><a class="ae lq" href="https://material-ui.com/customization/color/" rel="noopener ugc nofollow" target="_blank">材质-UI颜色文档，包括颜色工具</a></li><li id="92c8" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><a class="ae lq" href="https://material.io/resources/color/#!/?view.left=0&amp;view.right=0" rel="noopener ugc nofollow" target="_blank">材质设计颜色选择器</a></li><li id="e11e" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><a class="ae lq" href="https://material.io/design/color/the-color-system.html#tools-for-picking-colors" rel="noopener ugc nofollow" target="_blank">材质设计调色板生成器</a></li><li id="00bb" class="oc od it kw b kx ol la om ld on lh oo ll op lp oh oi oj ok bi translated"><a class="ae lq" href="https://material.io/design/color/dark-theme.html" rel="noopener ugc nofollow" target="_blank">材质设计黑暗主题原则</a></li></ul></div></div>    
</body>
</html>