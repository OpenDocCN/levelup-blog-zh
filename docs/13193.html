<html>
<head>
<title>Is Ansible dying? Yes, Kinda…</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">安西贝尔快死了吗？是的，有点…</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/is-ansible-dying-yes-kinda-e381b1a61bcc?source=collection_archive---------1-----------------------#2022-08-16">https://levelup.gitconnected.com/is-ansible-dying-yes-kinda-e381b1a61bcc?source=collection_archive---------1-----------------------#2022-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1b6e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">Ansible | Terraform |配置|裸机|云</h2><div class=""/><div class=""><h2 id="2f95" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">受欢迎程度和兴趣是两回事</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/077475e33ef19a7fb29ba15b93cc9f38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yi8z-QU6EgToODnxPsomwA.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@itssecondkaki?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Sei </a>在<a class="ae lh" href="https://unsplash.com/s/photos/end?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="852a" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">三个原因</h1><ul class=""><li id="4f15" class="ma mb it mc b md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">Stackoverflow开发调查和谷歌趋势。</li><li id="993a" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated">向云的转变意味着向平台的转变。安装一个操作系统，这是可行的。</li><li id="e90e" class="ma mb it mc b md ms mf mt mh mu mj mv ml mw mn mo mp mq mr bi translated">我写的文章几乎没有什么吸引力。</li></ul></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="f043" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">排名第一的Stackoverflow调查和谷歌趋势</h1><p id="d022" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">让我们看看最近两年的Stackoverflow报告，类别“其他工具”。</p><div class="nw nx gp gr ny nz"><a href="https://insights.stackoverflow.com/survey/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jd gy z fp oe fr fs of fu fw jc bi translated">堆栈溢出</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">2022年，来自180多个国家和地区的70，000多份反馈，我们的年度开发者调查考察了…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">insights.stackoverflow.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on lb nz"/></div></div></a></div><h2 id="f09e" class="oo lj it bd lk op oq dn lo or os dp ls mh ot ou lu mj ov ow lw ml ox oy ly iz bi translated">流行技术</h2><p id="c241" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">在这一类别中，Ansible和Terraform在2021年几乎持平，但Terraform显然在2022年比Ansible更快地受到欢迎，Terraform超过Ansible近2%。这两个工具在过去的一年里都增长强劲，而其他类似的工具如Puppet或Chef则远远落后。</p><div class="ks kt ku kv gt ab cb"><figure class="oz kw pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/00ece2e5c1b26bec3be83929ac7b046e.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*oCuxgc6uKSPBlzb2Rynzrg.png"/></div></figure><figure class="oz kw pf pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/b02249125400989e21090675cf6b3a58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*lTvCVWtDxHizQita47g9Sg.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk pg di ph pi translated">2021(左)，2022(右)</figcaption></figure></div><h2 id="e8e0" class="oo lj it bd lk op oq dn lo or os dp ls mh ot ou lu mj ov ow lw ml ox oy ly iz bi translated">被爱与恐惧</h2><p id="4104" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">回答“喜欢”Terraform的人在过去一年中从68.9%增加到69.2%，而回答“喜欢”的人从56%增加到57.9%，增加了近两个百分点，但仍远远落后于Terraform(超过10%)。</p><div class="ks kt ku kv gt ab cb"><figure class="oz kw pj pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/baa4f3c056418d3c1ac92a2b211501f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*yoGTIu4QdaiRlifKOrTlRw.png"/></div></figure><figure class="oz kw pk pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/2a8e6203351723f53705726b3bf5c792.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*uFfsSE5yrrEhOYICrni7KA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk pl di pm pi translated">2021(左)，2022(右)</figcaption></figure></div><h2 id="51c1" class="oo lj it bd lk op oq dn lo or os dp ls mh ot ou lu mj ov ow lw ml ox oy ly iz bi translated">受通缉的</h2><p id="e977" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">“想要的”调查结果证实了我们的预期:Terraform增长了2%以上，而Ansible远远落后，仅增长了1.2%。</p><div class="ks kt ku kv gt ab cb"><figure class="oz kw pn pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/b01c80ce101e3938ce16f6c6717dc33b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*PFeSHQ7AZwqdv5vV0v85wQ.png"/></div></figure><figure class="oz kw po pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/73210854b28e3d16dec2b39650b0868c.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*0teN3WW2q1ZRGYqRNQbohA.png"/></div></figure></div><h2 id="27fa" class="oo lj it bd lk op oq dn lo or os dp ls mh ot ou lu mj ov ow lw ml ox oy ly iz bi translated">调查摘要</h2><p id="bb30" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">我们可以观察到Ansible仍然是一项受欢迎的技术，并且在该类别中也有显著增长。然而，目标群体更喜欢Terraform，对它的需求远远超过Ansible。</p><p id="f246" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">谷歌趋势(<code class="fe pu pv pw px b">Ansible</code> vs <code class="fe pu pv pw px b">Terraform</code>)只是证实了这一点:Ansible趋势正在缓慢下降，而Terraform趋势正在稳步增长，似乎在2022年超过Ansible后加快了速度。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi py"><img src="../Images/0bb6049de3022d28fb4e564c717dd2e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xm7A1zxgEmOFv1OznereXg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">谷歌趋势，Ansible vs Terraform，过去5年</figcaption></figure><p id="a2aa" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">纵观历史趋势，更明显的是Terraform正在接管。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pz"><img src="../Images/0a26d5a6e882fa26870ee94b1851d6f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N7469Bf41GTTA2GDfquAbw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">谷歌趋势，Ansible vs Terraform，自2013年以来</figcaption></figure></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="1e9f" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">#2向云基础架构的转变</h1><p id="7b44" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">在看了调查和趋势之后，让我们做一个现实的检查，为什么会发生这种情况。</p><p id="e35a" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">无论是在公共云提供商还是内部，向云基础架构的转变似乎都是合理的。世界正在向云端移动。因此，对Terraform解决方案(启动和拆除)的需求高于Ansible(安装操作系统/裸机)的需求。而在云中，你处理的是映像，所以你不需要用Ansible安装或更新包——你替换的是节点。</p><h2 id="f774" class="oo lj it bd lk op oq dn lo or os dp ls mh ot ou lu mj ov ow lw ml ox oy ly iz bi translated">但是为什么Ansible没有Terraform那么受人喜爱呢？</h2><p id="83b6" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">是什么让它用起来如此…不舒服？</p><p id="3f5a" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">实际上，我会质疑Ansible本身使用起来不舒服。毕竟它很容易开始，你可以清楚地定义你希望它执行的步骤。它很强大！</p><p id="ed53" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">根据我的经验，这个领域的一些同事也证实了这一点，坏名声的原因可能在于与Ansible的使用相关的问题和“事件”。在许多情况下，Ansible要么在本地工作站上执行，要么在中央“部署”主机上执行，但在这两种情况下都是手动执行的。如果你坚持这种方法，你将不可避免地遇到随之而来的问题:员工会改变代码并执行它来测试它——然后代码还没有被测试、提交给VCS或评审就投入生产了。</p><p id="9feb" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">所以我得出结论:不是技术，而是缺少支持<strong class="mc jd"> GitOps </strong>的工具:在合并到master之前在管道中测试，并在标记后自动(半)部署。这需要在剧本中开发可变角色并组合它们的训练，但这是完全可能的！</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="9bbe" class="li lj it bd lk ll ne ln lo lp nf lr ls ki ng kj lu kl nh km lw ko ni kp ly lz bi translated">#3我写的文章几乎没有什么吸引力</h1><p id="12ff" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">我最近发表了2篇关于如何用Ansible进行本地测试的文章。正如我们在上一节中发现的那样，每个人都想使用云，而Terraform使用起来更加愉快。因此，可以理解的是，这种趋势正在下降。</p><p id="e22f" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">也难怪裸机经理群体的缩小对Ansible表现出了很少的兴趣——它是众所周知的(包括它的缺陷),每个人都找到了自己的方法。</p><p id="7f22" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">然而，除非您以自动化的方式部署Ansible，否则您会一次又一次地遇到设计上的问题。由于与之相关的问题，这使得它使用起来很不舒服。</p><p id="7b73" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">我的文章关注于改善这种情况并自信地部署。通过在不同的发行版(和版本，如果需要的话)上本地测试您的更改，并提交被证明有效的代码。下一步是使用它来自动化GitOps管道中的一切——所以请继续关注！</p><blockquote class="qa"><p id="1879" class="qb qc it bd qd qe qf qg qh qi qj mn dk translated">因为:必须有人提供裸机！</p></blockquote><p id="25d7" class="pw-post-body-paragraph nj nk it mc b md qk kd nl mf ql kg nm mh qm no np mj qn nr ns ml qo nu nv mn im bi translated">因此，通过使用Molecule测试您的代码，让您的每一天变得更加愉快:</p><div class="nw nx gp gr ny nz"><a href="https://betterprogramming.pub/testing-ansible-roles-locally-with-molecule-on-linux-and-windows-a0903ec92496" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jd gy z fp oe fr fs of fu fw jc bi translated">在Linux和Windows上用Molecule在本地测试角色</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">加快您的开发周期，满怀信心地发布</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">better编程. pub</p></div></div><div class="oi l"><div class="qp l ok ol om oi on lb nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a rel="noopener  ugc nofollow" target="_blank" href="/test-windows-ansible-roles-on-local-libvirt-vms-within-minutes-e5dfa031bc4"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jd gy z fp oe fr fs of fu fw jc bi translated">在几分钟内测试本地libvirt虚拟机上的Windows Ansible角色。</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">在几分钟内启动Windows虚拟机，测试您的可行角色。</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oi l"><div class="qq l ok ol om oi on lb nz"/></div></div></a></div></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><p id="ba23" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">感谢您的关注！</p><pre class="ks kt ku kv gt qr px qs qt aw qu bi"><span id="71fb" class="oo lj it px b gy qv qw l qx qy"><strong class="px jd">Want to Connect? </strong>If you want to support me, sign up for Medium through my membership link: <a class="ae lh" href="https://drpsychick.org/membership" rel="noopener ugc nofollow" target="_blank"><em class="qz">https://drpsychick.org/membership</em></a> or visit me on GitHub.</span></pre><h1 id="7c6d" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">参考</h1><p id="a086" class="pw-post-body-paragraph nj nk it mc b md me kd nl mf mg kg nm mh nn no np mj nq nr ns ml nt nu nv mn im bi translated">Ansible /分子</p><div class="nw nx gp gr ny nz"><a href="https://github.com/drpsychick/ansible-testing" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jd gy z fp oe fr fs of fu fw jc bi translated">GitHub-DrPsychick/ansible-testing:一个ansi ble角色，允许为…</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">允许创建SystemD实例来测试角色的一个角色</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">github.com</p></div></div><div class="oi l"><div class="ra l ok ol om oi on lb nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://www.ansible.com" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jd gy z fp oe fr fs of fu fw jc bi translated">Ansible是简单的IT自动化</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">Ansible是自动化应用和IT基础设施的最简单方式。应用程序部署+配置管理+…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">www.ansible.com</p></div></div><div class="oi l"><div class="rb l ok ol om oi on lb nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://molecule.readthedocs.io/en/latest/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jd gy z fp oe fr fs of fu fw jc bi translated">可翻译的分子-分子文档</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">Molecule只支持Ansible的最新两个主要版本(N/N-1)，也就是说如果最新版本是2.9.x…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">分子. readthedocs.io</p></div></div><div class="oi l"><div class="rc l ok ol om oi on lb nz"/></div></div></a></div><p id="092a" class="pw-post-body-paragraph nj nk it mc b md pp kd nl mf pq kg nm mh pr no np mj ps nr ns ml pt nu nv mn im bi translated">更多关于Terraform的信息</p><div class="nw nx gp gr ny nz"><a href="https://medium.com/swlh/design-principles-and-practices-for-terraform-276b2c463563" rel="noopener follow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd jd gy z fp oe fr fs of fu fw jc bi translated">地形的设计原则和实践</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">为了让我的工作更受欢迎，我遵循了一些Terraform原则和实践。</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">medium.com</p></div></div><div class="oi l"><div class="rd l ok ol om oi on lb nz"/></div></div></a></div></div></div>    
</body>
</html>