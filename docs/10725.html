<html>
<head>
<title>Vue.js: replace <a> with <router-link> in dynamic HTML</router-link></a></title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js:在动态HTML  中将<a>替换为<router-link/></a></h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/vue-js-replace-a-with-router-link-in-dynamic-html-c423beea0d17?source=collection_archive---------0-----------------------#2022-01-05">https://levelup.gitconnected.com/vue-js-replace-a-with-router-link-in-dynamic-html-c423beea0d17?source=collection_archive---------0-----------------------#2022-01-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/afac3ac77400b5ec3acafc257951dccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e0arrjKzZuUDfeVs_IVjng.png"/></div></div></figure><p id="0491" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当使用<code class="fe kw kx ky kz b">v-html</code>(例如显示从你的CMS中提取的文章)时，最好用Vue Router的<code class="fe kw kx ky kz b">&lt;router-link&gt;</code>替换内部链接，以确保当用户点击链接时，你的应用程序不会不必要地重新加载。</p><p id="f586" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个例子使用一个独立的组件来封装我们的功能:</p><figure class="la lb lc ld gt jr"><div class="bz fp l di"><div class="le lf l"/></div></figure><p id="48e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注入发生在组件的<code class="fe kw kx ky kz b">mounted()</code>回调中。首先，我们需要包含动态内容的DOM元素。在我们这里是直接:<code class="fe kw kx ky kz b">this.$el</code>。现在检索动态内容里面的所有主播:<code class="fe kw kx ky kz b">this.$el.getElementsByTagName('a')</code></p><p id="8bab" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迭代每个元素，删除指向外部网站的链接。</p><p id="e662" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Vue Router <a class="ae lg" href="https://router.vuejs.org/guide/essentials/navigation.html#router-push-location-oncomplete-onabort" rel="noopener ugc nofollow" target="_blank">文档</a>没有指出我们是否可以使用URL的开头(<em class="lh">https://example.com</em>)，所以我们只是移除它来获得路径。获取<code class="fe kw kx ky kz b">&lt;router-link&gt;</code>的构造函数，并通过将<em class="lh">传递给</em> prop来实例化它，就像我们在<code class="fe kw kx ky kz b">&lt;router-link to="/foo"&gt;</code>中使用的一样，并将父组件传递给上下文。没有上下文，我们的RouterLink将无法访问<code class="fe kw kx ky kz b">this.$router</code>，这将剥夺它的功能。</p><p id="5470" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">组件对应的DOM元素还不存在，所以我们将组件<code class="fe kw kx ky kz b">$mount()</code>到旧锚点，替换它。</p><p id="330a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在组件有了一个<code class="fe kw kx ky kz b">$el</code>属性，我们可以将属性(例如，<code class="fe kw kx ky kz b">class</code>)和内部内容(它的标题)复制到这个属性中。</p><p id="e862" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">搞定了。单击该链接，它应该会打开新页面，而无需重新加载您的单页应用程序。使用在这里学到的基础知识，根据自己的意愿修改功能。</p><h2 id="16c9" class="li lj iq bd lk ll lm dn ln lo lp dp lq kj lr ls lt kn lu lv lw kr lx ly lz ma bi translated">修改</h2><p id="925d" class="pw-post-body-paragraph jy jz iq ka b kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr mf kt ku kv ij bi translated">Render函数允许我们通过props为我们的容器选择不同的标签(例如，<em class="lh"> section </em>而不是<em class="lh"> div </em>)。否则，我们可以用可读性更好的<em class="lh">模板</em>替换<code class="fe kw kx ky kz b">render()</code>函数:</p><figure class="la lb lc ld gt jr"><div class="bz fp l di"><div class="le lf l"/></div></figure></div></div>    
</body>
</html>