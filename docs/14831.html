<html>
<head>
<title>Identity Management: OAuth and OIDC Simplified</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">身份管理:OAuth和OIDC简化版</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/identity-management-oauth-and-oidc-simplified-4056ef04a146?source=collection_archive---------6-----------------------#2022-12-27">https://levelup.gitconnected.com/identity-management-oauth-and-oidc-simplified-4056ef04a146?source=collection_archive---------6-----------------------#2022-12-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/da8d2f823444c0074ba875c0a8d37b70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f52SNY1qkRz9Z-JP1GkUvg.jpeg"/></div></div></figure><p id="c031" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有多少次我们看到这个屏幕，害怕想出另一个强密码，或者懒惰地使用我们现有的密码？</p><p id="3dda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">谢天谢地，现在的应用程序已经让我们可以轻松跳过这可怕的一步，允许我们使用社交媒体登录。我们可以使用现有的帐户登录，只需点击一下就可以访问新的应用程序及其功能。不再需要创建和记忆新密码！</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kw"><img src="../Images/b7ca651ab84ed80c5aaa7a7a72c5bca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QeZUOQU6TZUzxv6E"/></div></div></figure><p id="83b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">应用程序安全之旅已经走过了漫长的道路。每一次迭代都提出了解决方案，反过来又提出了新的问题，这些问题是在满足不断增长的互联网需求的同时，创建安全的应用程序和出色的用户体验所必须解决的。</p><p id="6995" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">应用安全和身份管理是每个软件设计和架构的关键。对于工程师和消费者来说，了解身份管理对于保护他们的数字身份和资产变得非常重要。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="ab gu cl lb"><img src="../Images/6c8917ef2fec29687c688be6fb5c9de8.png" data-original-src="https://miro.medium.com/v2/format:webp/0*WjBoMzE74keuGGaE.jpg"/></div></figure><p id="272a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我们将介绍几种方法，并探索身份管理发展的幕后之旅。我们还将讨论一些需要改进的方法。</p><p id="91fd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在深入了解身份管理的概念之前，先快速回顾一下本文中使用的术语</p><blockquote class="lc ld le"><p id="7f82" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated"><strong class="ka ir">身份</strong>:与个人或实体相关联的属性，在给定的上下文中唯一地描述他们</p><p id="d595" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated"><strong class="ka ir">认证</strong>:确定个人或实体是否是他们所说的那个人的过程</p><p id="b2f5" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated"><strong class="ka ir">授权</strong>:决定一个人或一个实体获得资源或能力的许可的过程</p></blockquote></div><div class="ab cl lj lk hu ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="ij ik il im in"><h2 id="793e" class="lq lr iq bd ls lt lu dn lv lw lx dp ly kj lz ma mb kn mc md me kr mf mg mh mi bi translated"><strong class="ak"> 1。筒仓身份:每个应用程序都有其认证和授权机制</strong></h2><p id="a6f2" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated">在这种情况下，每个应用程序都有存储用户身份的数据库。每次用户登录时，应用程序都会根据其数据库进行验证，并相应地向用户授予资源访问权限。</p><p id="6381" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然这仍然广泛用于面向消费者的应用程序，但对于必须复制多个员工身份的存储和维护的大型组织来说，跨每个应用程序的身份验证和授权机制可能相当麻烦。</p><p id="3194" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">缺点</em> </strong>:</p><ul class=""><li id="df97" class="mo mp iq ka b kb kc kf kg kj mq kn mr kr ms kv mt mu mv mw bi translated">消费者/员工必须记住跨站点/应用程序的多个凭据。</li><li id="41d7" class="mo mp iq ka b kb mx kf my kj mz kn na kr nb kv mt mu mv mw bi translated">组织必须管理每个应用程序的身份管理复制。</li></ul><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/0cc6e88f23d0835cb976e4beaaec198c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/0*nekRzlg1k1lWNYyB.jpeg"/></div></figure><h2 id="1f3f" class="lq lr iq bd ls lt lu dn lv lw lx dp ly kj lz ma mb kn mc md me kr mf mg mh mi bi translated">2.<strong class="ak">集中式身份存储库:存储用户身份的目录服务</strong></h2><p id="11b0" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">要解决的问题:</em> </strong> <em class="lf">用户不得不跨企业应用记住多个用户名和密码。</em></p><p id="4551" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">随着业务功能的增长，许多组织转向目录服务来集中用户身份。</p><p id="a19c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当用户登录时，每个应用程序都引用目录服务来存储和验证用户凭证。</p><p id="659c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">集中用户信息减少了每个应用程序的身份管理开销。然而，用户仍然必须在每个应用程序上输入他们的凭证。</p><p id="f583" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">劣势</em> </strong>:</p><ul class=""><li id="7a98" class="mo mp iq ka b kb kc kf kg kj mq kn mr kr ms kv mt mu mv mw bi translated">密码管理的单点控制也意味着一个应用程序的漏洞会危及其他应用程序。</li><li id="fd20" class="mo mp iq ka b kb mx kf my kj mz kn na kr nb kv mt mu mv mw bi translated">集中式存储库或使用单一密码不适合消费者。</li></ul><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/df64990355151accf77de3243f243d55.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/0*CE7gR-Z_T5cL81e9.jpg"/></div></figure><h2 id="9d9c" class="lq lr iq bd ls lt lu dn lv lw lx dp ly kj lz ma mb kn mc md me kr mf mg mh mi bi translated">3.单点登录:位于目录服务之上的一层，为已经通过身份验证的用户维护会话</h2><p id="0dfd" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">要解决的问题:</em> </strong> <em class="lf">虽然目录服务集中了凭证，但用户仍然必须在整个组织的多个应用程序中输入其凭证。</em></p><p id="86b0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当用户尝试登录应用程序时，应用程序会将用户重定向到SSO服务器，对用户进行身份验证。SSO服务器利用目录服务对用户进行身份验证。</p><p id="3ba9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，它还在顶层提供了一个维护用户会话的层。因此，如果用户试图登录另一个应用程序，SSO服务器将检测用户的现有会话。然后，SSO服务器会将用户重定向回具有成功状态的应用程序，而不需要用户再次输入他们的凭据。</p><p id="a0bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">缺点</em> </strong>:</p><ul class=""><li id="258b" class="mo mp iq ka b kb kc kf kg kj mq kn mr kr ms kv mt mu mv mw bi translated">如果SSO服务器关闭，所有连接的应用程序访问都会暂停。</li><li id="a215" class="mo mp iq ka b kb mx kf my kj mz kn na kr nb kv mt mu mv mw bi translated">由于它对cookies的依赖，它不能很好地扩展到其他领域的外部SaaS应用程序。</li></ul><h2 id="4d61" class="lq lr iq bd ls lt lu dn lv lw lx dp ly kj lz ma mb kn mc md me kr mf mg mh mi bi translated">4.安全声明标记语言(SAML) 2.0:跨域的单点登录和联合身份</h2><p id="09aa" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">要解决的问题:</em> </strong> <em class="lf">跨域单点登录。</em></p><p id="1bf2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">SAML被设计为基于XML的框架，允许跨域合作伙伴之间交换安全信息。它将用户身份验证委托给一个称为身份提供者的实体。身份提供者对用户进行身份验证，并向应用程序返回一个包含已通过身份验证的用户和身份验证事件信息的声明。如果用户访问将身份验证委托给同一身份提供者的第二个应用程序，用户将能够访问第二个应用程序，而不会被提示再次输入凭据。</p><p id="c1ee" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">SAML还提供了一种联合身份机制，在这种机制中，应用程序和身份提供者可以使用共享的用户标识符来交换有关用户的信息。联合身份可以跨系统使用相同的标识符，也可以使用映射到每个系统中用户使用的标识符的内部标识符。由于身份联合提供了一种将应用程序中使用的身份与身份提供者处的身份关联起来的方法，因此密码策略和多因素身份认证都可以在一个地方实施。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/8867677232841d89979447e0442f1ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EYHkYzngCvvERiCp3Rwxng.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">SAML单点登录</figcaption></figure><p id="2c21" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">劣势</em> </strong>:</p><ul class=""><li id="eca2" class="mo mp iq ka b kb kc kf kg kj mq kn mr kr ms kv mt mu mv mw bi translated">无法解决面向消费者的应用和用例。</li><li id="8f39" class="mo mp iq ka b kb mx kf my kj mz kn na kr nb kv mt mu mv mw bi translated">不解决API授权。</li></ul><h2 id="566c" class="lq lr iq bd ls lt lu dn lv lw lx dp ly kj lz ma mb kn mc md me kr mf mg mh mi bi translated">5.OAuth 2.0</h2><p id="10ac" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">要解决的问题:</em> </strong> <em class="lf">授权应用程序代表用户调用API。</em></p><p id="e9c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">OAuth 2.0解决了一个重要的API授权用例。它允许用户授权客户端应用程序，代表用户向API发送请求，以检索存储在资源服务器上的数据。</p><p id="cf94" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">授权服务器获得用户对应用程序访问其资源的同意，并将令牌传递给应用程序，使应用程序能够代表用户调用资源服务器。</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/79fa33bd5661feee1ccf02d3cf688327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-rpdDSbBFm3ga4M9DPv2Bw.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">OAuth 2.0授权码授权+ PKCE</figcaption></figure><blockquote class="lc ld le"><p id="1bf9" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated"><strong class="ka ir">用于代码交换的证明密钥(PKCE，发音为pixie) </strong>是一种防止恶意拦截的机制，并且请求授权代码的应用是试图获得访问令牌的同一应用。虽然它最初是为移动应用程序设计的，但它防止恶意CSRF和注入攻击的能力使它对所有OAuth实现都很有用。</p></blockquote><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/54f8dee26a6f4650d8b17e761cf79627.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/0*-k84MKt6R1UVPpmb.png"/></div></figure><blockquote class="lc ld le"><p id="7625" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated">为了使用PKCE，应用程序创建一个高熵加密随机字符串，称为代码验证器，并使用下面两种转换之一计算一个派生值，称为代码质询</p></blockquote><p id="0f92" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">普通<br/>code _ challenge = code _ verifier</p><p id="999a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">s256<br/>code _ challenge = base 64 URL-ENCODE(sha 256(ASCII(code _ verifier)))</p><blockquote class="lc ld le"><p id="6048" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated">当应用程序发送授权请求时，它包括代码质询和代码质询方法。授权服务器将授权码与密码质询和方法相关联，以便稍后验证。</p><p id="1b1d" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated">当应用程序向令牌端点发送授权代码以获取访问令牌时，它包括代码验证器。授权服务器使用代码质询方法计算代码验证器值，并验证结果是否与随授权请求一起发送的代码质询相匹配。这防止了授权服务器从拦截应用程序窃取另一个应用程序的授权码。</p></blockquote><pre class="kx ky kz la gt nl nm nn bn no np bi"><span id="7cbd" class="nq lr iq nm b be nr ns l nt nu">Sample API authorization request with PKCE<br/>GET /authorize?<br/> response_type=code<br/> &amp; client_id=&lt;client_id&gt;<br/> &amp; state=&lt;state&gt;<br/> &amp; scope=&lt;scope&gt;<br/> &amp; redirect_uri=&lt;callback uri&gt;<br/> &amp; resource=&lt;API identifier&gt;<br/> &amp; code_challenge=&lt;PKCE code_challenge&gt;<br/> &amp; code_challenge_method=S256 HTTP/1.1<br/> Host: authorizationserver.com<br/><br/>Authorization server response to the application's callback: redirect_uri <br/>HTTP/1.1 302 Found<br/>Location: https://clientapplication.com/callback?<br/>code=&lt;authorization code&gt;<br/>&amp; state=&lt;state&gt;<br/><br/>Application request to the authorization server's token endpoint to obtain the access token.<br/>POST /token HTTP/1.1<br/>Host: authorizationserver.com<br/>Content-Type: application/x-www-form-urlencoded<br/>grant_type=authorization_code<br/>&amp; code=&lt;authorization_code&gt;<br/>&amp; client_id=&lt;client id&gt;<br/>&amp; code_verifier=&lt;code verifier&gt;<br/>&amp; redirect_uri=&lt;callback URI&gt;<br/><br/>Token endpoint response <br/>HTTP/1.1 200 OK<br/>Content-Type: application/json;charset=UTF-8<br/>Cache-Control: no-store<br/>Pragma: no-cache<br/> {<br/> "access_token": "&lt;access_token_for_API&gt;",<br/> "token_type": "Bearer",<br/> "expires_in": &lt;token expiration&gt;,<br/> "refresh_token": "&lt;refresh_token&gt;"<br/> }</span></pre><p id="1539" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">缺点</em> </strong>:</p><ul class=""><li id="8454" class="mo mp iq ka b kb kc kf kg kj mq kn mr kr ms kv mt mu mv mw bi translated">OAuth 2.0不是作为认证服务设计的，因此不能安全地用于此目的。</li></ul><h2 id="0f9b" class="lq lr iq bd ls lt lu dn lv lw lx dp ly kj lz ma mb kn mc md me kr mf mg mh mi bi translated">6.OpenID连接(OIDC)</h2><p id="ad5d" class="pw-post-body-paragraph jy jz iq ka b kb mj kd ke kf mk kh ki kj ml kl km kn mm kp kq kr mn kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">要解决的问题:</em> </strong> <em class="lf">用户认证以及API授权。</em></p><p id="e6e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">OIDC被设计为OAuth 2.0协议之上的一层，以标准格式向应用程序提供关于已验证用户身份的信息。这为用户认证和API授权提供了解决方案。</p><p id="efcb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">OIDC被Google、PayPal、Yahoo等社交媒体/服务提供商广泛用于创建我们在本文前面看到的社交媒体登录集成。但是它的采用和使用并不局限于面向消费者的集成和用例。</p><p id="ef91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">OIDC为以下人群提供福利</p><ul class=""><li id="a76d" class="mo mp iq ka b kb kc kf kg kj mq kn mr kr ms kv mt mu mv mw bi translated">用户通过利用一个帐户登录到多个站点，而无需向他们提供凭据，</li><li id="2074" class="mo mp iq ka b kb mx kf my kj mz kn na kr nb kv mt mu mv mw bi translated">可以将身份验证和密码管理委托给OIDC提供商的应用程序开发人员，</li><li id="4b45" class="mo mp iq ka b kb mx kf my kj mz kn na kr nb kv mt mu mv mw bi translated">以及继续吸引用户使用其平台的身份提供商。</li></ul><p id="faa3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">OIDC提供了SAML 2.0中吸引人的web单点登录优势，当与OAuth 2.0结合使用时，它提供了一个具有现代应用程序所需的身份验证和API授权功能的解决方案。</p><p id="a172" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">OIDC授权代码流与OAuth 2.0有相似之处。授权码授予</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/32047eb7d078b08fb6fb20d549143314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2LgLhFwtp_01TtLYnPfgrQ.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">OIDC授权代码流+ PKCE</figcaption></figure><blockquote class="lc ld le"><p id="29f9" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated">ID令牌是一种安全令牌，OpenID提供者使用它向应用程序传达关于身份验证事件和已验证用户的声明。ID标记以JSON Web标记格式编码，由一个头、一个有效负载和一个签名(编码成base 64 URL安全字符串)组成。</p><p id="5e8d" class="jy jz lf ka b kb kc kd ke kf kg kh ki lg kk kl km lh ko kp kq li ks kt ku kv ij bi translated">ID令牌的标头部分包含有关对象类型(JWT)和特定签名算法(HS256 —带SHA256的HMAC或RS256 —带SHA256的RSA签名)的信息。有效负载部分包含关于用户和身份验证事件的声明。签名部分包含一个数字签名。</p></blockquote><pre class="kx ky kz la gt nl nm nn bn no np bi"><span id="959f" class="nq lr iq nm b be nr ns l nt nu">Authentication request to the OpenID Provider's authorization endpoint<br/>GET /authorize?<br/>response_type=code<br/>&amp; client_id=&lt;client_id&gt;<br/>&amp; state=&lt;state_value&gt;<br/>&amp; nonce=&lt;nonce_value&gt;<br/>&amp; scope=&lt;scope&gt;<br/>&amp; redirect_uri=&lt;callback_url&gt;<br/>&amp; code_challenge=&lt;code_challenge&gt;<br/>&amp; code_challenge_method=&lt;code_challenge_method&gt; HTTP/1.1<br/>Host: authorizationserver.com<br/><br/>OpenID Provider response to the callback URI. It also returns the exact state value that was passed in the authentication request<br/>HTTP/1.1 302 Found<br/>Location: https://clientapplication.com/callback?<br/>code=&lt;authorization_code&gt;<br/>&amp; state=&lt;state_value&gt;<br/><br/>Application token request to the OpenID Provider's token endpoint<br/>POST /token HTTP/1.1<br/>Host: authorizationserver.com<br/>Content-Type: application/x-www-form-urlencoded<br/>Authorization: Basic &lt;encoded client credentials&gt;<br/> grant_type=authorization_code<br/>&amp; code=&lt;authorization_code&gt;<br/>&amp; redirect_uri=&lt;redirect_uri&gt;<br/>&amp; code_verifier=&lt;code_verifier&gt;<br/><br/>Requested tokens in JSON format returned by the OpenID Provider <br/>HTTP/ 1.1 200 OK<br/>Content-Type: application/json;charset=UTF-8<br/> Cache-Control: no-store<br/> Pragma: no-cache<br/>{<br/> "id_token" : &lt;id_token&gt;,<br/> "access_token" : &lt;access_token value&gt;,<br/> "refresh_token" : &lt;refresh_token value&gt;,<br/> "token_type": "Bearer",<br/> "expires_in" : &lt;token lifetime&gt;<br/>}</span></pre><figure class="kx ky kz la gt jr gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/520735e7d0dc0b88cfa42f75d7731446.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/0*245mn3uhojBDpd5F.jpg"/></div></figure></div><div class="ab cl lj lk hu ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="ij ik il im in"><p id="38b5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这篇幕后的预览对您理解保护用户身份和创建无缝用户体验背后的复杂性有所帮助。对于开发人员来说，我希望这篇文章可以帮助您评估适合您的下一个应用程序的身份解决方案。</p><p id="fe53" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我很想听听你们的意见，以及你们是如何在应用程序中实现身份管理的。</p><p id="2dfc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如有任何问题，请随时联系我，您也可以通过下面的参考链接了解更多关于不同OAuth赠款类型和OIDC流程的信息。</p></div><div class="ab cl lj lk hu ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="ij ik il im in"><p id="9f79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lf">参考文献</em> </strong>:</p><div class="nw nx gp gr ny nz"><a href="https://www.rfc-editor.org/rfc/rfc7522" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">RFC 7522:OAuth 2.0客户端身份验证的安全声明标记语言(SAML) 2.0配置文件…</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">提议的标准互联网工程任务组(IETF) B. Campbell征求意见稿:7522 Ping身份类别…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">www.rfc-editor.org</p></div></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://oauth.net/2/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">OAuth 2.0 - OAuth</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">OAuth 2.0是授权的行业标准协议。OAuth 2.0侧重于客户端开发人员的简单性，而…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">oauth.net</p></div></div><div class="oi l"><div class="oj l ok ol om oi on jw nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://openid.net/connect/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">OpenID连接| OpenID</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">OpenID Connect 1.0是OAuth 2.0协议之上的一个简单的身份层。它允许客户验证…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">openid.net</p></div></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://learning.oreilly.com/library/view/solving-identity-management/9781484250952/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">解决现代应用程序中的身份管理:揭开OAuth 2.0、OpenID Connect和…</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">了解如何设计和使用身份管理来保护您的应用程序及其管理的数据。在…的时候</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">learning.oreilly.com</p></div></div><div class="oi l"><div class="oo l ok ol om oi on jw nz"/></div></div></a></div></div></div>    
</body>
</html>