<html>
<head>
<title>Handy JavaScript Shorthands You May Have Missed</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您可能错过的便捷的JavaScript速记</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/handy-javascript-shorthands-9ad9cc76d06d?source=collection_archive---------7-----------------------#2020-01-30">https://levelup.gitconnected.com/handy-javascript-shorthands-9ad9cc76d06d?source=collection_archive---------7-----------------------#2020-01-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/bbada2b057c3602f3f367fac866ac34a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Fw5-QlJ1qcmB5ouG"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@cbyoung?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">克拉克·杨</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="dd4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在JavaScript的最新版本中，这种语言引入了更多的语法糖。在这篇文章中，我们将看看在新版本和旧版本的JavaScript中容易阅读的快捷方式。</p><p id="a1e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将研究三元运算符，声明多个变量、箭头函数、默认参数值等等。</p><h1 id="9479" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">三元运算符</h1><p id="bd8e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以用三元运算符简洁地写出一个<code class="fe mh mi mj mk b">if...else</code>语句。</p><p id="9fc4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">而不是写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="de3e" class="mt lf it mk b gy mu mv l mw mx">const x = 20;<br/>let grade;</span><span id="fc9b" class="mt lf it mk b gy my mv l mw mx">if (x &gt;= 50) {<br/>  grade = "pass";<br/>} else {<br/>  grade = "fail";<br/>}</span></pre><p id="3ab0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d993" class="mt lf it mk b gy mu mv l mw mx">const x = 20;<br/>let grade = (x &gt;= 50) ? "pass" : "fail";</span></pre><p id="4891" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它们都检查<code class="fe mh mi mj mk b">x</code>是否大于或等于50，如果是，则指定字符串<code class="fe mh mi mj mk b">'pass'</code>，否则指定<code class="fe mh mi mj mk b">fail</code>。</p><p id="13c7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以用三元运算符编写嵌套的<code class="fe mh mi mj mk b">if</code>语句如下:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="c9c6" class="mt lf it mk b gy mu mv l mw mx">const x = 20;<br/>let grade = (x &gt;= 50) ? "pass" : (x &gt;= 25) ? "good fail" : 'bad fail';</span></pre><p id="114c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这与以下内容相同:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d1df" class="mt lf it mk b gy mu mv l mw mx">const x = 20;<br/>let grade;<br/>if (x &gt;= 50) {<br/>  grade = "pass";<br/>} else {<br/>  if (x &gt;= 25) {<br/>    grade = "good fail";<br/>  } else {<br/>    grade = "bad fail";<br/>  }<br/>}</span></pre><h1 id="cd9b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置默认值</h1><p id="8562" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果变量为falsy，我们可以通过编写以下内容来设置默认值:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="24f8" class="mt lf it mk b gy mu mv l mw mx">let x;<br/>let y = x || 10;</span></pre><p id="8aad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这与以下内容相同:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="b9c5" class="mt lf it mk b gy mu mv l mw mx">let x;<br/>let y;<br/>if (x === undefined || x === null || x === 0 || x === '' || isNaN(x)) {<br/>  y = 10;<br/>}</span></pre><p id="b62b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因为<code class="fe mh mi mj mk b">x || 10</code>意味着如果<code class="fe mh mi mj mk b">x</code>为falsy，也就是说<code class="fe mh mi mj mk b">x</code>为<code class="fe mh mi mj mk b">undefined</code>、<code class="fe mh mi mj mk b">null</code>、0、空字符串或者<code class="fe mh mi mj mk b">NaN</code>，那么我们给<code class="fe mh mi mj mk b">y</code>赋值10，和:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="218b" class="mt lf it mk b gy mu mv l mw mx">if (x === undefined || x === null || x === 0 || x === '' || isNaN(x)) {<br/>  y = 10;<br/>}</span></pre><h1 id="1a43" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">声明多个变量的简写</h1><p id="e168" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过编写以下代码来声明多个变量:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d372" class="mt lf it mk b gy mu mv l mw mx">let x = y = z = 5;</span></pre><p id="42a2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这和写作是一样的:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="ce9d" class="mt lf it mk b gy mu mv l mw mx">let x = 5;<br/>let y = 5;<br/>let z = 5;</span></pre><p id="6b41" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它首先将5分配给<code class="fe mh mi mj mk b">z</code>，然后将<code class="fe mh mi mj mk b">z</code>的值分配给<code class="fe mh mi mj mk b">y</code>，最后将<code class="fe mh mi mj mk b">y</code>的值分配给<code class="fe mh mi mj mk b">x</code>。</p><h1 id="7b9b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">如果是真实的速记</h1><p id="912e" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">检查某事是否真实的简写是JavaScript，它是除了<code class="fe mh mi mj mk b">undefined</code>、<code class="fe mh mi mj mk b">null</code>、0、空字符串或<code class="fe mh mi mj mk b">NaN</code>之外的任何东西，如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="c677" class="mt lf it mk b gy mu mv l mw mx">if (x){<br/> console.log('x is truthy')<br/>}</span></pre><p id="caf3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的代码检查<code class="fe mh mi mj mk b">x</code>是否正确，如果正确，我们执行<code class="fe mh mi mj mk b">console.log</code>。</p><h1 id="b01e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">For…Of循环速记</h1><p id="8a24" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">从ES6开始，我们可以使用<code class="fe mh mi mj mk b">for...of</code>循环遍历数组或类似数组的对象中的变量，这包括映射、集合、<code class="fe mh mi mj mk b">arguments</code>对象、生成器、迭代器和任何使用<code class="fe mh mi mj mk b">[Symbol.iterator]</code>方法的对象。</p><p id="91d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="b650" class="mt lf it mk b gy mu mv l mw mx">let fruits = ['apple', 'orange', 'grape'];<br/>for (let fruit of fruits) {<br/>  console.log(fruit);<br/>}</span></pre><p id="dba1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这比使用带索引的常规<code class="fe mh mi mj mk b">for</code>循环更干净，它也适用于其他可迭代对象。例如，我们可以将它用于发电机:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="8b08" class="mt lf it mk b gy mu mv l mw mx">let fruits = function*() {<br/>  yield 'apple';<br/>  yield 'orange';<br/>  yield 'fruits';<br/>}</span><span id="ef35" class="mt lf it mk b gy my mv l mw mx">for (let fruit of fruits()) {<br/>  console.log(fruit);<br/>}</span></pre><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/0867d924b6517212826322aa0747d23c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IAUkInOcGZjhZlu2"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">罗宾·曼茨在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="4180" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Array.forEach</h1><p id="a0ca" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以使用<code class="fe mh mi mj mk b">Array.forEach</code>方法循环遍历一个数组，尽管它比循环慢。</p><p id="fff9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要使用它，我们可以编写类似下面的代码:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="5512" class="mt lf it mk b gy mu mv l mw mx">let fruits = ['apple', 'orange', 'grape'];</span><span id="8d59" class="mt lf it mk b gy my mv l mw mx">fruits.forEach((fruit, index) =&gt; console.log(fruit));</span></pre><h1 id="525f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">十进制基数指数</h1><p id="8c77" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以指定指数，而不是写出带有所有尾随零的整数。</p><p id="bba3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果我们有:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="65de" class="mt lf it mk b gy mu mv l mw mx">1e0</span></pre><p id="1cd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于1</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d003" class="mt lf it mk b gy mu mv l mw mx">1e1</span></pre><p id="843c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">10元</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="b4d6" class="mt lf it mk b gy mu mv l mw mx">1e2</span></pre><p id="2d32" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">100美元</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d59c" class="mt lf it mk b gy mu mv l mw mx">1e3</span></pre><p id="fb60" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于1000以此类推。</p><h1 id="65c8" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">数字分隔符</h1><p id="a68b" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">最新的浏览器允许我们使用下划线来分隔数字，以便于阅读。例如，我们可以写</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="067f" class="mt lf it mk b gy mu mv l mw mx">100_000_000</span></pre><p id="927b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一亿美元。下划线可以放在我们选择的任何地方。</p><h1 id="8f72" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">对象属性速记</h1><p id="65c5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">而不是写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="c883" class="mt lf it mk b gy mu mv l mw mx">const foo = 1,<br/>  bar = 2;<br/>const obj = {<br/>  foo: foo,<br/>  bar: bar<br/>};</span></pre><p id="fc24" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="5a60" class="mt lf it mk b gy mu mv l mw mx">const foo = 1,<br/>  bar = 2;<br/>const obj = {<br/>  foo,<br/>  bar<br/>};</span></pre><p id="cadf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这两段代码完全相同。</p><h1 id="068e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">箭头功能</h1><p id="d2af" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">如果一个箭头函数只有一行，那么我们不需要大括号，我们可以从它返回一个值，而不需要使用<code class="fe mh mi mj mk b">return</code>关键字。</p><p id="cad9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="52c0" class="mt lf it mk b gy mu mv l mw mx">() =&gt; 1</span></pre><p id="eb34" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与以下内容相同:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3022" class="mt lf it mk b gy mu mv l mw mx">() =&gt; {<br/>  return 1<br/>}</span></pre><p id="6746" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们不关心<code class="fe mh mi mj mk b">this</code>的值，我们可以使用箭头函数，因为箭头函数不会改变函数内部的<code class="fe mh mi mj mk b">this</code>值。</p><h1 id="1a94" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">默认参数值</h1><p id="6c20" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以在ES6中指定默认参数值。例如，我们可以写:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="d563" class="mt lf it mk b gy mu mv l mw mx">const add = (a = 1, b = 2) =&gt; {<br/>  return a + b<br/>}</span></pre><p id="88ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这与以下内容相同:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="45f1" class="mt lf it mk b gy mu mv l mw mx">const add = (a, b) =&gt; {<br/>  if (typeof a === 'undefined') {<br/>    a = 1;<br/>  }</span><span id="8660" class="mt lf it mk b gy my mv l mw mx">  if (typeof b === 'undefined') {<br/>    b = 1;<br/>  }<br/>  return a + b<br/>}</span></pre><p id="7c6d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面的短手大多来自ES6。这个版本的JavaScript提供了许多方便的快捷方式，让我们写代码更容易，阅读也同样容易。</p><p id="347a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">for...of</code> loop非常有用，因为它可以遍历数组和类似数组的对象。没有其他循环可以做到这一点。</p><p id="4d5e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数字分隔符更新，仅在最新的浏览器中可用。</p></div></div>    
</body>
</html>