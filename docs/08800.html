<html>
<head>
<title>A Complete Decoding of the Bitcoin Block</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">比特币区块的完整解码</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-complete-decoding-of-the-bitcoin-block-578904267142?source=collection_archive---------7-----------------------#2021-06-07">https://levelup.gitconnected.com/a-complete-decoding-of-the-bitcoin-block-578904267142?source=collection_archive---------7-----------------------#2021-06-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3ca4" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">还有积木的难度！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/799939e2c9914d362dd2ce0a4d494a0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nOI9rJrxhmobyWeWsInHkA.jpeg"/></div></div></figure><p id="8bf3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">比特币区块所有那些字段的背后是什么？您可能已经使用过<a class="ae lq" href="https://www.blockchain.com/explorer?view=btc" rel="noopener ugc nofollow" target="_blank">块浏览器</a>来检查交易状态或钱包交易或余额(是的，在区块链一切都是超级透明的)，但是这些字段和长数字是什么，对吗？</p><p id="4d18" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你真的不需要知道那些字段和长数字是什么。就像电子邮件用户不需要从技术角度了解互联网和电子邮件协议的工作原理一样，区块链或比特币用户也不需要知道如何发送交易。尽管如此，了解区块链卡车引擎盖下发生的事情还是很酷的！</p><p id="033a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">首先，让我们看看区块链中的块是如何构成的，然后，我们深入了解块的一些组件。</p><p id="3dd3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是2021年开采的第一块比特币。它是在新年前夜13分钟后被开采的。虽然我们将看到一个比特币区块，但大多数区块链遵循非常相似的原则，在它们的区块中有非常相似的数据和字段。比特币区块是开始研究区块架构的绝佳场所。其他<a class="ae lq" rel="noopener ugc nofollow" target="_blank" href="/bitcoin-proof-of-work-the-only-article-you-will-ever-have-to-read-4a1fcd76a294">工作证明</a>区块链像<a class="ae lq" href="https://www.udemy.com/course/-dogecoin-course-the-first-complete-dogecoin-course/?referralCode=9416B1408224CE309DD8" rel="noopener ugc nofollow" target="_blank"> Dogecoin </a>会用几乎一样的块结构(基本上比特币就是Doge的爷爷)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lr"><img src="../Images/e885da5e2e0c19c62f1b88626f5a837d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hOOIUYYs__OddC8w5V78cg.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">你也可以在块浏览器中检查这个块:<a class="ae lq" href="https://www.blockchain.com/btc/block/663852" rel="noopener ugc nofollow" target="_blank">https://www.blockchain.com/btc/block/663852</a></figcaption></figure><p id="ca4e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您也可以通过访问在线提供的众多块浏览器之一来检查该块或任何其他块。</p><h2 id="2971" class="lw lx it bd ly lz ma dn mb mc md dp me ld mf mg mh lh mi mj mk ll ml mm mn mo bi translated">比特币区块结构中所有字段背后的含义是什么？</h2><p id="e7c7" class="pw-post-body-paragraph ku kv it kw b kx mp ju kz la mq jx lc ld mr lf lg lh ms lj lk ll mt ln lo lp im bi translated"><strong class="kw iu">块高</strong>:也称为块号，基本上是区块链链中到这个块为止的块，意味着到这个块为止已经开采了663852个块。在比特币方面，每天大约有144个新的比特币区块被挖掘出来。</p><p id="9fea" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">块大小</strong>:嗯，块大小就是块大小。在这种情况下，块大约为1.34 MB，它包括块头和事务信息。每个数据块都有大小限制，例如1MB、1.3MB或8MB，具体取决于区块链，并且数据块可以包含的事务数量是对数据块大小的限制。</p><p id="e30f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">块哈希</strong>:块哈希是通过<a class="ae lq" rel="noopener ugc nofollow" target="_blank" href="/the-heart-of-blockchains-hash-functions-501d0b32762b"> SHA-256函数</a>哈希后的块头数据的输出。</p><p id="34c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">版本</strong>:给出了区块链的版本信息。</p><p id="d537" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可能听说过Merkle根和Merkle树。但是这个Merkle是什么东西？Merkle根就像块中所有事务的指纹。它来自梅克尔树。它们在密码学中被广泛使用，在区块链发明之前就已经被使用了。1979年，这些树以拉尔夫·默克尔的名字命名。它们是验证共享数据未被更改、破坏或篡改的基本方法。</p><p id="7c37" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Merkle树也是一种验证区块链中数据有效性的轻量级方法。例如，如果你在手机上使用比特币钱包，你的钱包不需要下载所有的区块链交易来验证它们。带有Merkle根的Merkle树将验证所有以前的事务。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/d65587b13eaa32772150df8f7e419405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgJsfFXVI93IFmD-_BOURw.png"/></div></div></figure><p id="fd01" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Merkle树的结构:Merkle树结果或Merkle根是递归构建的，即它是由Merkle树中的叶子的散列产生的，这些叶子又对应于事务。</p><p id="ddf8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Merkle根是通过散列单个事务来求解的，这些事务被称为树叶。附加的叶对被散列以创建对应于区块链网络中的事务的附加叶节点。</p><p id="37cf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尽管Merkle树可以由大量事务创建，但Merkle根总是对应于32字节的字符串或256位(例如，SHA256哈希算法总是输出32字节的固定长度，而不管输入的大小)。通过这种方式，我们可以使用小到32字节的东西来验证一些事务——可能是数千个——是不可变的。</p><p id="26d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">交易数量</strong>:交易数量因块而异。这可能取决于块的最大容量，即大小、事务有多大(不是值而是多少字节)以及用户发出的实际事务量。例如，一个比特币块可以容纳高达1.3MB的数据，交易大小平均为500字节。</p><p id="9b5b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">区块奖励:</strong>比特币区块奖励目前为6.25 BTC。这是矿工的奖励，作为对他们为网络做出贡献和创造区块的激励。街区奖励从50开始。2009年每个数据块的BTC，每四年减半，或者更准确地说，每210，000个数据块减半。由于减半，区块奖励将在2140年为零。</p><p id="3358" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">奖励包含在每个区块的比特币基地交易中，这是为支付区块奖励而创建的独特交易。对于本例中的区块，按照2021年6月的汇率，6.25 BTC奖励将相当于约200 000 00美元。不错吧。！</p><p id="2bc6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">有趣的事实(特别是对那些做过的人):回到2009年，你可以用你的个人电脑挖掘比特币区块。如果你开采了一个区块，2021年的50 BTC奖励将价值230万美元。</p><p id="4335" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">时间戳:</strong>时间戳是块散列发生的准确时间。通常，块管理器以人类可读的格式显示时间戳，但是块的时间戳实际上是以Unix时间格式编写的。</p><p id="f134" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">交易:</strong>根据协议，交易可以是价值转移或任何事件，即不一定是支付。相反，它可以仅仅是数据传输。顺便问一下，你知道有些事务，比如第一块的<a class="ae lq" href="https://medium.com/geekculture/decoding-bitcoins-first-block-coinbase-transaction-aeefe87ceec0" rel="noopener"> coinbase事务，包含一个隐藏的消息吗？</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/1f8d16ce99a415c0a60ddedf4ca1d442.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zw-C6fn-7Id0Fok_Zm1PGA.png"/></div></div></figure><p id="3ae1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> hashPrevBlock，又名前一个块hash </strong>:每个块都包含前一个块的hash。这是块以不可变的方式互连的方式。每个块都有前一个块的散列。不能改变先前块中的数据，因为这将改变已经记录的块散列。</p><p id="79d5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu"> Bits: </strong>它代表了方块的难度。它用十六进制符号表示，它表示该块难度的当前目标。</p><p id="7d13" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">难度:</strong>难度由哈希过程发生时哈希需要开始的零的数量决定。创世纪区块(第一个区块)难度=1。本章开头我们看到的那块，难度是18，599，593，048，299.49。困难总是与网络中矿工的数量(即散列能力)成比例。当更多的矿工加入网络时，它增加，当矿工离开网络时，它减少。矿工可能根据采矿盈利能力加入或离开网络，这通常与比特币价格有关。</p><p id="d909" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">比特币的挖矿难度其实和黄金的挖矿难度很像。当黄金价格上涨时，更多的人和公司通常会开始开采黄金，增加了竞争，增加了寻找黄金的难度。一个很好的例子是加利福尼亚淘金热。旧金山的勘探者从1846年的100人增加到1852年的3万多人，同时黄金价格也在上涨。大多数勘探者都不太幸运地找到了黄金，因为竞争使它变得非常困难。在这期间，赚了大部分钱的人实际上是在卖采矿设备。一把铲子过去卖36美元，相当于现在的1500多美元。</p><p id="cba9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在这种情况下，现代采矿者，即加密采矿者，加入采矿池，以便分担工作和增加利润。</p><p id="5f4d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">让我们回到当下，更深入地挖掘难点，好吗，亲爱的读者？</p><p id="28cb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">您可能已经注意到，块散列以几个零开始。在我们的块中，它以19个零开始，但是…为什么呢？为什么需要以19个零开头？这是从哪里来的？嗯，它来自于比特域和难度。让我们来看看如何用一种简化的方式来计算这个。</p><p id="7992" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">D =预期/实际</p><p id="5fe3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">困难就在这里。什么是“预期”值？比特币协议预计在20160分钟内增加2016个新块。这是平均每10分钟一个街区。</p><p id="a907" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">难度重评每20160分钟(约2周)进行一次，期望值为20160分钟。实际=开采最后2016个区块所用的时间。</p><p id="a830" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">d = 20160/实际</p><p id="9106" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果D &gt; 1，则耗时不到20160分钟。对于矿工来说，开采2016区块，难度会增加。如果D &lt; 1, it means that it took more than 20160 to mine 2016 blocks, meaning that the difficulty needs to decrease because it’s a bit too difficult.</p><p id="edf7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">If D &gt; 1</p><p id="647a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">难度增加(0.25，4)</p><p id="800f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果D &lt; 1</p><p id="7643" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Difficulty decrease (0.25, 4)</p><p id="f34b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">The difficulty increases/decreases at least 0.25 or a maximum of 4, depending on how the difficulty is adjusted.</p><p id="bece" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Now the new difficulty that is going to be calculated every two weeks will be:</p><p id="471b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">newDiff = oldDiff x 20160/actual</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/b62c0d4820a2c855b7cd44af05ab2948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pg4aFayKlEbiSaDU4NWLHg.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">Bitcoin total hash rate and difficulty. Source: <a class="ae lq" href="http://bitcoin.sipa.be" rel="noopener ugc nofollow" target="_blank"> http://bitcoin.sipa.be </a></figcaption></figure><p id="a20c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">挖掘难度根据网络中的哈希功率增加，以保持平均10分钟挖掘一个块的时间。如图所示，根据添加区块的平均时间，难度将每两周增加或减少一次，这与网络中的采矿能力密切相关(左侧y轴)。</p><p id="d7c4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好吧。我希望它是有用的！如果你有任何问题，请在评论区告诉我！</p><p id="2a27" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">🚀关注我，也请查看我的🧱区块链课程:</strong></p><p id="273c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">🐶</strong> <a class="ae lq" href="https://www.udemy.com/course/-dogecoin-course-the-first-complete-dogecoin-course/?referralCode=9416B1408224CE309DD8" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">有史以来第一次Dogecoin课程</strong> </a></p><p id="6a48" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">👨‍🎓</strong> <a class="ae lq" href="https://www.udemy.com/course/fintech-technologies-cloud-and-cybersecurity/?referralCode=F1D4EA005A2881735A36" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> Fintech、云和网络安全课程</strong> </a></p><p id="9b98" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">📖</strong><a class="ae lq" href="https://www.amazon.com/dp/B091CYTX37/ref=sr_1_1?dchild=1&amp;keywords=unblockchain&amp;qid=1617186443&amp;s=digital-text&amp;sr=1-1" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu"/></a><a class="ae lq" href="https://www.udemy.com/course/the-complete-nft-course-learn-everything-about-nfts/?referralCode=AAEE908D13D0E2276B19" rel="noopener ugc nofollow" target="_blank"><strong class="kw iu">完整的NFTs教程</strong> </a></p><p id="bc35" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">👨‍🎓</strong> <a class="ae lq" href="https://www.udemy.com/course/blockchain-deep-dive-from-bitcoin-to-ethereum-to-crypto/?referralCode=B8463EE382E6D313304B" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu"> Unblockchain课程</strong> </a> <strong class="kw iu"> —脑洞大开的区块链课程</strong></p></div></div>    
</body>
</html>