<html>
<head>
<title>MongoDB Methods for Performing CRUD Operations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于执行CRUD操作的MongoDB方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/mongodb-methods-for-performing-crud-operations-6be663e73479?source=collection_archive---------4-----------------------#2020-01-07">https://levelup.gitconnected.com/mongodb-methods-for-performing-crud-operations-6be663e73479?source=collection_archive---------4-----------------------#2020-01-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="4906" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">了解如何使用Nodejs在MongoDB中轻松创建、读取、更新和删除数据。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/91d22a1cdbf387b1ed0c6f8fc5e3cda4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kST7uxU2_uFwo4u1"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">由<a class="ae le" href="https://unsplash.com/@kaleidico?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">万花筒</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="8841" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将探索MongoDB提供的执行基本CRUD(创建、读取、更新、删除)操作的所有方法。</p><h2 id="5e9a" class="lf lg it bd lh li lj dn lk ll lm dp ln kb lo lp lq kf lr ls lt kj lu lv lw lx bi translated"><strong class="ak"> 1。创建:</strong></h2><p id="5979" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">下面是MongoDB提供的在集合中创建/插入文档的方法</p><p id="970d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">插入一个:</p><p id="0347" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="c6bf" class="lf lg it me b gy mi mj l mk ml">insertOne(doc, options, callback)</span></pre><p id="ac35" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">doc</code>文件插入<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数得到插入操作的结果<br/>返回= &gt;如果没有回调通过则承诺</p><p id="dd24" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="128b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用回拨:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="1996" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">b)插入许多:</p><p id="2c12" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="6849" class="lf lg it me b gy mi mj l mk ml">insertMany(docs, options, callback)</span></pre><p id="715d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">docs</code>数组文件插入<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数得到插入操作的结果<br/> returns = &gt;如果没有回调则承诺通过</p><p id="dbdd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7199" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用回拨:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="a581" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">还有一个<code class="fe mm mn mo me b">insert</code>方法，但它已被弃用，所以推荐使用<code class="fe mm mn mo me b">insertOne</code>或<code class="fe mm mn mo me b">insertMany</code>。</p><h2 id="d0a9" class="lf lg it bd lh li lj dn lk ll lm dp ln kb lo lp lq kf lr ls lt kj lu lv lw lx bi translated"><strong class="ak"> 2。阅读:</strong></h2><p id="f6ee" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">对于阅读，提供了以下方法</p><p id="8ff8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">a) findOne: </p><p id="daab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="56e1" class="lf lg it me b gy mi mj l mk ml">findOne(query, options, callback)</span></pre><p id="520c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">query</code>查询查找文档<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数获取查找操作的结果<br/>返回= &gt;承诺如果没有回调通过</p><p id="03db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="291c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用回拨:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="fe53" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> b)查找:</strong></p><p id="3390" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="359f" class="lf lg it me b gy mi mj l mk ml">find(query, options)</span></pre><p id="9ff7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">query</code>查询查找文档<br/> <code class="fe mm mn mo me b">options</code>可选设置</p><p id="b121" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">与其他方法相比，find方法有所不同，因为find不返回结果，而是返回指向查询结果的光标。我们可以使用光标操作数据，比如获取文档数、遍历文档、将文档转换为数组等。</p><p id="454b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">计算文档数:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="c373" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">循环浏览文档:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7a5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以在此找到所有可用的光标方法<a class="ae le" href="http://mongodb.github.io/node-mongodb-native/3.4/api/Cursor.html" rel="noopener ugc nofollow" target="_blank"/></p><h2 id="d7f4" class="lf lg it bd lh li lj dn lk ll lm dp ln kb lo lp lq kf lr ls lt kj lu lv lw lx bi translated"><strong class="ak"> 3。更新:</strong></h2><p id="f4ce" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated"><strong class="js iu"> a)更新一:</strong></p><p id="1d97" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="193e" class="lf lg it me b gy mi mj l mk ml">updateOne(filter, update, options, callback)</span></pre><p id="7bd3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">filter</code>过滤器用于选择要更新的文档<br/> <code class="fe mm mn mo me b">update</code>对文档应用的更新操作<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数获取更新操作的结果<br/> returns = &gt;如果没有回调通过</p><p id="f7f9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="d405" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里，我们使用<code class="fe mm mn mo me b">$set</code>操作符更新雇员蒂姆的年龄。还有许多其他的更新操作符，如用于递增的<code class="fe mm mn mo me b">$inc</code>，用于执行重命名操作的<code class="fe mm mn mo me b">$rename</code>，等等。</p><p id="a53f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这里找到更新操作符的完整列表:<a class="ae le" href="https://docs.mongodb.com/manual/reference/operator/update/" rel="noopener ugc nofollow" target="_blank">https://docs.mongodb.com/manual/reference/operator/update/</a></p><p id="3c5e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> b)更新许多:</strong></p><p id="f9be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="2095" class="lf lg it me b gy mi mj l mk ml">updateMany(filter, update, options, callback)</span></pre><p id="da61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">filter</code>用于选择要更新的文档的过滤器<br/> <code class="fe mm mn mo me b">update</code>对文档应用的更新操作<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数获取更新操作的结果<br/>如果没有通过回调，returns = &gt; promise</p><p id="3a89" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="a85d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> c) findOneAndUpdate: </strong></p><p id="d1d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="1c29" class="lf lg it me b gy mi mj l mk ml"><strong class="me iu"><br/></strong>findOneAndUpdate(filter, update, options, callback)</span></pre><p id="e5ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">filter</code>用于选择要更新的文档的过滤器<br/> <code class="fe mm mn mo me b">update</code>要应用于文档的更新操作<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数以获得更新操作的结果<br/>如果没有通过回调则返回= &gt;承诺</p><p id="b175" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><h2 id="099e" class="lf lg it bd lh li lj dn lk ll lm dp ln kb lo lp lq kf lr ls lt kj lu lv lw lx bi translated"><strong class="ak"> 4。删除:</strong></h2><p id="427b" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">以下是为删除文档提供的方法</p><p id="ec80" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> a)删除一个:</strong></p><p id="413e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="c82a" class="lf lg it me b gy mi mj l mk ml">deleteOne(filter, options, callback):</span></pre><p id="65d0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">filter</code>过滤器用来选择要删除的文档<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数来获取删除操作的结果<br/> returns = &gt;如果没有回调通过</p><p id="72bf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="d1fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> b)删除许多:</strong></p><p id="f75d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="65c3" class="lf lg it me b gy mi mj l mk ml">deleteMany(filter, options, callback)</span></pre><p id="42c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">filter</code>过滤器用来选择要删除的文档<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数来获得删除操作的结果<br/> returns = &gt;如果没有回调通过</p><p id="3154" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="7ded" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> c) findOneAndDelete: </strong></p><p id="63c9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它具有以下语法。</p><pre class="kp kq kr ks gt md me mf mg aw mh bi"><span id="4f36" class="lf lg it me b gy mi mj l mk ml">findOneAndDelete<strong class="me iu">(</strong>query<strong class="me iu">, </strong>options<strong class="me iu">, </strong>callback)</span></pre><p id="62f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe mm mn mo me b">query</code>查询找到文档<br/> <code class="fe mm mn mo me b">options</code>可选设置<br/> <code class="fe mm mn mo me b">callback</code>回调函数得到删除操作的结果<br/> returns = &gt;如果没有回调通过</p><p id="f7bc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用承诺:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="cf66" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用回拨:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="37b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">可以在这里找到完整的MongoDB API参考:<a class="ae le" href="http://mongodb.github.io/node-mongodb-native/3.4/api/index.html" rel="noopener ugc nofollow" target="_blank">http://MongoDB . github . io/node-MongoDB-native/3.4/API/index . html</a></p><p id="3bf7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">今天到此为止。希望你今天学到了新东西。</p><p id="0e35" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">别忘了直接在你的收件箱</strong> <a class="ae le" href="https://yogeshchavan.dev" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">这里</strong> </a> <strong class="js iu">订阅我的每周简讯，里面有惊人的技巧、窍门和文章。</strong></p></div></div>    
</body>
</html>