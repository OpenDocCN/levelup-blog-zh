<html>
<head>
<title>Creating Sequence Diagrams with PlantUML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用PlantUML创建序列图</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-sequence-diagrams-with-plantuml-558c83bd3eb1?source=collection_archive---------6-----------------------#2021-10-26">https://levelup.gitconnected.com/creating-sequence-diagrams-with-plantuml-558c83bd3eb1?source=collection_archive---------6-----------------------#2021-10-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/51db99922d94d2e201a503c2f41c774a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*omfsEkBWEIAsIGILAAfIwQ.jpeg"/></div></div></figure><p id="65c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇博客中，我将解释如何使用PlantUML创建序列图。你可能使用过不同的应用程序来创建序列图，比如画图工具、ppt、Google Slides、Draw.io或者Google Drawing tool。甚至我也使用了许多这样的工具来创建序列图。但是一旦我使用Plantuml，它就解决了我所有与序列图相关的问题。使用这个工具，我们可以轻松地配置组件，如果我们想做任何修改，也可以连接它们，然后可以通过更改代码行而不是修改图表来轻松完成。但是在继续之前，让我们理解什么是序列图。</p><blockquote class="kw kx ky"><p id="9853" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">序列图是一种交互图，描述了一组项目如何交互以及以什么顺序交互。软件工程师和业务专家使用这些图表来更好地理解系统的需求。</p></blockquote><p id="8725" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">PlantUML是一个开源工具，允许用户仅使用文本生成图表。PlantUML支持各种不同的软件开发相关格式，以及JSON和YAML文件的可视化，还有UML图。</p><p id="7052" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关于Plantuml的讨论已经够多了，现在让我们跳到实际的事情上，看看如何使用PlantUML快速创建序列图。您可以使用PlantUML网站来创建代码和图表，也可以像VSCode一样将PlantUML插件安装到您的IDE中。我选择了第二个选项，在VSCode上安装了PlantUML插件。一旦您安装了插件，您就可以开始创建序列图，方法是使用。puml扩展。要使用PlanyUML创建您的第一个序列图，您可以执行以下操作:</p><p id="76dc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">-创建一个名为<em class="kz"> intropuml.puml </em>的文件，并在VSCode中打开。</p><p id="2d8d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">-用startuml标记开始代码，并给出图的名称。请参考以下命令:</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="d10c" class="lm ln iq li b gy lo lp l lq lr">@startuml client-server</span></pre><p id="7e59" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">-这里我们想为客户机和服务器创建两个盒子来显示两者之间的交互。因此，首先我们需要添加这些参与者，请参考下面的命令:</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="927b" class="lm ln iq li b gy lo lp l lq lr">participant Client<br/>participant Server</span></pre><ul class=""><li id="2c21" class="ls lt iq ka b kb kc kf kg kj lu kn lv kr lw kv lx ly lz ma bi translated">现在，为了显示客户端和服务器之间的交互，我们可以使用箭头来表示它们，并且可以在冒号后面添加连接消息。我们可以使用activate为组件添加块，就像如果我们请求服务器，那么服务器应该激活。请参考以下代码:</li></ul><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="7450" class="lm ln iq li b gy lo lp l lq lr">Client -&gt; Server : Request<br/>activate Server<br/>Server -&gt; Client : Response</span></pre><ul class=""><li id="8bf9" class="ls lt iq ka b kb kc kf kg kj lu kn lv kr lw kv lx ly lz ma bi translated">完成后，使用下面的命令结束puml脚本:</li></ul><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="8fc8" class="lm ln iq li b gy lo lp l lq lr">@enduml</span></pre><p id="95ff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了总结上述命令，我们需要在intropuml.puml文件中编写以下内容:</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="e025" class="lm ln iq li b gy lo lp l lq lr">@startuml client-server</span><span id="5fe6" class="lm ln iq li b gy mb lp l lq lr">participant Client<br/>participant Server</span><span id="a20c" class="lm ln iq li b gy mb lp l lq lr">Client -&gt; Server : Request<br/>activate Server<br/>Server -&gt; Client : Response</span><span id="0bf3" class="lm ln iq li b gy mb lp l lq lr">@enduml</span></pre><p id="d003" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完成代码后，您可以通过在文件代码上单击右键后单击“预览当前图表”来显示图表。你也可以使用快捷键“<strong class="ka ir"> Alt + D </strong>”来显示图表。在预览中，您可以看到下图:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/3044f2f14fa64121a2dbb7017202a52d.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/format:webp/0*D_ccR2EXL6SSE8uf.jpg"/></div></figure><p id="eee9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在看第二个例子，我们想展示前端应用程序、API网关、Lambda和数据库之间的交互。请参考以下代码:</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="4e12" class="lm ln iq li b gy lo lp l lq lr">@startuml get-user-list</span><span id="8ab4" class="lm ln iq li b gy mb lp l lq lr">participant "Frontend App" as app<br/>participant "API Gateway" as gateway<br/>participant "Lambda" as lambda<br/>title sequence diagram for user get request</span><span id="f714" class="lm ln iq li b gy mb lp l lq lr">app -&gt; gateway: (GET /users)\nGet user request \nfrom application<br/>gateway -&gt; lambda: Hit the listusers \nLambda API with person Id<br/>lambda -&gt; db: Fetch list of User Names \nfrom 'users' table<br/>lambda -&gt; lambda: Transform List of users \nas a response object.<br/>gateway &lt;-- lambda: Return response.<br/>app &lt;-- gateway: Return response.<br/>destroy lambda</span><span id="d5df" class="lm ln iq li b gy mb lp l lq lr">@enduml</span></pre><p id="5d1a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的代码中，我们已经开始了UML代码，然后添加了前端应用程序、API网关、Lambda和DB的参与者。然后，我们将为该图添加标题“用户get请求的序列图”。在标题之后，我们可以看到组件之间的交互。我们可以用“↓”双点来描绘返回的虚线。通过预览上面的代码，我们可以得到下面的图像:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi md"><img src="../Images/80a98a6b918603ea2340a9d013f6f6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/0*rmH1VL6qfYl4nSxf.jpg"/></div></figure><p id="9d91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，让我们再举一个例子来理解一些格式化选项。请参考以下代码:</p><pre class="ld le lf lg gt lh li lj lk aw ll bi"><span id="6075" class="lm ln iq li b gy lo lp l lq lr">@startuml testinganurag</span><span id="e748" class="lm ln iq li b gy mb lp l lq lr">actor Users #Yellow<br/>activate frontend #LightBlue<br/>activate APIGateway #LightCoral<br/>activate Lambda #LightSalmon</span><span id="6cc6" class="lm ln iq li b gy mb lp l lq lr">Users -&gt; frontend : interact<br/>frontend -&gt; APIGateway : GET /user<br/>APIGateway-&gt; Lambda : getUsers()<br/>Lambda -&gt; DynamoDB : fetch user from\n users table<br/>DynamoDB -[#Gray]-&gt; Lambda: Return<br/>APIGateway &lt;-[#Gray]- Lambda : return<br/>APIGateway -[#Gray]-&gt; frontend : return the response<br/>frontend -[#Gray]-&gt; Users : Response</span><span id="dfae" class="lm ln iq li b gy mb lp l lq lr">@enduml</span></pre><p id="f81b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在上面的代码中，我们使用了actor，它也是一个用户。此外，通过提供颜色名称和激活码来配置不同组件的颜色。在交互过程中，线条的颜色也可以改变。通过预览上面的代码，我们可以得到下图:</p><figure class="ld le lf lg gt jr gh gi paragraph-image"><div class="gh gi me"><img src="../Images/52771b0ea5d2fc37386db71894a80ac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/0*21tuFObhDoyf0D-V.jpg"/></div></figure><p id="e910" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样我们就可以很容易地使用PlantUML库创建一个序列图。它节省了大量的时间，因为我们可以使用相同的代码，通过做一些小的改变，我们可以创建其他的图表。如果您有任何疑问或建议，请留下您的评论。</p><p id="05fb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你也可以在推特上关注我:<a class="ae mf" href="https://twitter.com/anu4udilse" rel="noopener ugc nofollow" target="_blank">https://twitter.com/anu4udilse</a></p><p id="2a0d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kz">如果你觉得这篇文章很有意思，那么你可以探索“</em> <a class="ae mf" href="https://www.amazon.com/Mastering-Kibana-6-x-Visualize-histograms/dp/1788831039/ref=olp_product_details?_encoding=UTF8&amp;me=" rel="noopener ugc nofollow" target="_blank"> <em class="kz">【掌握基巴纳6.0】</em></a><em class="kz">”、“</em> <a class="ae mf" href="https://www.amazon.com/Kibana-Quick-Start-Guide-Elasticsearch/dp/1789804035" rel="noopener ugc nofollow" target="_blank"> <em class="kz">基巴纳7快速入门指南</em> </a> <em class="kz">”、“</em> <a class="ae mf" href="https://www.amazon.com/Learning-Kibana-dashboards-visualization-capabilities-ebook/dp/B07V4SQR6T" rel="noopener ugc nofollow" target="_blank"> <em class="kz">学习基巴纳7 </em> </a> <em class="kz">”、“</em> <a class="ae mf" href="https://www.amazon.com/gp/product/1789803322?pf_rd_p=2d1ab404-3b11-4c97-b3db-48081e145e35" rel="noopener ugc nofollow" target="_blank"> <em class="kz"> Elasticsearch 7快速入门指南</em></a><em class="kz"><em class="kz">书籍获取更多</em></em></p><p id="5077" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在LinkedIn上关注我:<a class="ae mf" href="http://www.linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&amp;followMember=anubioinfo" rel="noopener ugc nofollow" target="_blank">www.linkedin.com/comm/mynetwork/discovery-see-all?use case = PEOPLE _ FOLLOWS&amp;follow member = anubioinfo</a></p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="557c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kz">最初发表于</em><a class="ae mf" href="https://bqstack.com/b/detail/217/Create-Sequence-Diagrams-using-PlantUML" rel="noopener ugc nofollow" target="_blank"><em class="kz">【https://bqstack.com】</em></a><em class="kz">。</em></p></div></div>    
</body>
</html>