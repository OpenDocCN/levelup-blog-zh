<html>
<head>
<title>React code conventions and best practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对代码约定和最佳实践做出反应</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-code-conventions-and-best-practices-433e23ed69aa?source=collection_archive---------0-----------------------#2022-07-27">https://levelup.gitconnected.com/react-code-conventions-and-best-practices-433e23ed69aa?source=collection_archive---------0-----------------------#2022-07-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/934081c0b4792c820b299e67238a6273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*urj1fYqHHRPjgYvd.jpeg"/></div></div></figure><h1 id="f6cb" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用林挺和自动格式化程序</h1><p id="f2e1" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">React的所有主要工具都提供了林挺规则。如果你喜欢，可以随意编辑它们以适应你的风格，但是要经常使用一些并自动完成林挺和格式化的过程。首选工具是<a class="ae lu" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> eslint </a>和<a class="ae lu" href="https://prettier.io/" rel="noopener ugc nofollow" target="_blank">pretty</a>。</p><h1 id="ef56" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">进口订单</h1><p id="fa0c" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">向您的eslint配置中添加一些进口订单规则。这将确保导入总是以相同的顺序进行，并按照预定义的规则进行分组。</p><p id="47f0" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">示例:</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="3031" class="mj jz iq mf b gy mk ml l mm mn">{<br/>  'import/order': [<br/>    2,<br/>    {<br/>      'newlines-between': 'always',<br/>      groups: [<br/>        'builtin',<br/>        'external',<br/>        'internal',<br/>        'parent',<br/>        'sibling',<br/>        'index',<br/>        'unknown',<br/>        'object',<br/>        'type',<br/>      ],<br/>      alphabetize: {<br/>        order: 'asc',<br/>        caseInsensitive: true,<br/>      },<br/>      pathGroups: [<br/>        {<br/>          pattern: 'react*',<br/>          group: 'external',<br/>          position: 'before',<br/>        },<br/>      ],<br/>    },<br/>  ],<br/>}</span></pre><h1 id="57dd" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">命名规格</h1><h2 id="0444" class="mj jz iq bd ka mo mp dn ke mq mr dp ki lh ms mt km ll mu mv kq lp mw mx ku my bi translated">在组件、接口或类型别名中使用PascalCase</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h2 id="e1c8" class="mj jz iq bd ka mo mp dn ke mq mr dp ki lh ms mt km ll mu mv kq lp mw mx ku my bi translated">将camelCase用于JavaScript数据类型，如变量、数组、对象、函数等。</h2><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h2 id="2d38" class="mj jz iq bd ka mo mp dn ke mq mr dp ki lh ms mt km ll mu mv kq lp mw mx ku my bi translated">文件夹和非组件文件名使用camelCase，组件文件名使用PascalCase</h2><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="7667" class="mj jz iq mf b gy mk ml l mm mn">src/utils/form.ts<br/>src/hooks/useForm.ts<br/>src/components/banners/edit/Form.tsx</span></pre><h1 id="4bf1" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">更喜欢使用打字稿桶</h1><p id="edd8" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><em class="nb">桶是一种将几个模块的输出汇总到一个方便的模块中的方法。</em></p><p id="fe02" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">这种方法适用于共享组件、实用程序、帮助函数等实体。为了使您的工作更容易，桶可以通过使用<a class="ae lu" href="https://www.npmjs.com/package/barrelsby" rel="noopener ugc nofollow" target="_blank">桶由</a>自动生成。</p><h1 id="5707" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">避免默认导出</h1><p id="37d3" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">默认导出不会将任何名称与要导出的项目相关联，这意味着在导入过程中可以应用任何名称。这可能给你一个灵活性，但是如果多个开发者用不同的名字或者甚至是非描述性的名字导入同一个模块，我们就完蛋了。</p><p id="3df1" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">命名导出是显式的，强制消费者使用原作者想要的名称进行导入，消除了任何歧义。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="c4da" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">组件结构</h1><p id="a8d5" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">为了保持所有组件文件的一致性，请遵循以下模式:</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="a65c" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用<code class="fe nc nd ne mf b">PropsWithChildren</code></h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="6392" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">如果超过1行，则从JSX中分离功能</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="9628" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">避免使用索引作为关键道具</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="986a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用片段</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="eb29" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">首选解构属性</h1><p id="60ce" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">最好使用析构属性，这样就可以清楚地知道组件中使用了什么属性。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="e8cf" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">关注点分离</h1><p id="a58d" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">将业务逻辑从表示(呈现)中分离出来，使得组件代码更具可读性。大多数情况下，这适用于页面/屏幕/容器组件，在这些组件中，您将使用多个挂钩或useEffects。然后最终的代码开始变得大到无法阅读。</p><h2 id="fd36" class="mj jz iq bd ka mo mp dn ke mq mr dp ki lh ms mt km ll mu mv kq lp mw mx ku my bi translated">定制挂钩</h2><p id="c922" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">为了分离职责，首先你应该创建定制的钩子，而不是仅仅把一个useEffect或者多个useStates直接放到你的组件中。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">借自<a class="ae lu" href="https://usehooks.com/useWindowSize/" rel="noopener ugc nofollow" target="_blank">https://usehooks.com/useWindowSize/</a></figcaption></figure><h2 id="9715" class="mj jz iq bd ka mo mp dn ke mq mr dp ki lh ms mt km ll mu mv kq lp mw mx ku my bi translated">作为高阶函数的分量控制器</h2><p id="ea0e" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">一旦组件过载了状态和定制钩子，就该创建控制器了。</p><p id="fc36" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir">辅助函数</strong> — <em class="nb"> utils/wrap.ts </em></p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="8902" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir">页面控制器</strong>—<em class="nb">usetodocontroller . ts</em></p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="da00" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir">页面</strong> — <em class="nb"> TodoList.tsx </em></p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="5684" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">避免巨大的组件</h1><p id="b65d" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">只要有可能，就把你的组件分成更小的块。通常适用于使用条件呈现或为数据网格定义列等情况。也适用于使用大量定制挂钩的情况——查看上一节。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="93d3" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">尽可能对州进行分组</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="57f3" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用布尔属性的简写</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="3dee" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">避免字符串属性的花括号</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="985f" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">避免使用内嵌样式</h1><p id="f99f" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">理想情况下，使用第三方来处理样式，如CSS模块、JSS、样式组件等。或者创建自定义挂钩。</p><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="4383" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用三元运算符的首选条件渲染</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="c114" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">对字符串值使用常量或枚举</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="0e43" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用类型别名</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="5b15" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">不要直接使用第三方库</h1><p id="1102" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">不要直接导入第三方库，而是在一个集中的地方重新导出它们。</p><p id="9662" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><em class="nb"> src/lib/store.ts </em></p><p id="9bb4" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><code class="fe nc nd ne mf b"><strong class="ky ir">export</strong> { useDispatch, useSelector } <strong class="ky ir">from</strong> 'react-redux';</code></p><p id="011a" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><em class="nb"> src/lib/query.ts </em></p><p id="711a" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><code class="fe nc nd ne mf b"><strong class="ky ir">export</strong> { useQuery, useMutation, useQueryClient } <strong class="ky ir">from</strong> 'react-query';</code></p><h1 id="74f2" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">依赖抽象而不是实现</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="6264" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">更喜欢声明式编程</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="de59" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用描述性变量名称</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="2c8f" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">避免函数参数的长列表</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="56aa" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用对象析构</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="6c44" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">首选使用模板文字</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="71b7" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">在小函数中使用隐式返回</h1><figure class="ma mb mc md gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><p id="f54e" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><em class="nb">额外感谢</em> <a class="nq nr ep" href="https://medium.com/u/9353c9c6e764?source=post_page-----433e23ed69aa--------------------------------" rel="noopener" target="_blank"> <em class="nb">雅各布</em> </a> <em class="nb">的咨询。</em></p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><p id="89fc" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">非常感谢你的阅读！</p></div></div>    
</body>
</html>