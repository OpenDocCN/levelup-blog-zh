<html>
<head>
<title>4 Git Tricks I’d Like to Know Early Before I Ran Into Problems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在遇到问题之前，我想尽早知道的4个Git技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/n-git-tricks-id-like-to-know-early-before-i-ran-into-problems-3239c0435026?source=collection_archive---------14-----------------------#2020-06-28">https://levelup.gitconnected.com/n-git-tricks-id-like-to-know-early-before-i-ran-into-problems-3239c0435026?source=collection_archive---------14-----------------------#2020-06-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e4b6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在问题出现之前解决问题。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1eb9cb831437f70670255532fc04c9ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SCH-JkbF8mqueTEL"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">扬西·敏</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="d796" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Git是开发人员最常用的工具之一。但是Git是一个命令行工具，如果使用不当，会导致各种奇怪的错误。</p><p id="4ea7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我总结了一些常见问题和解决方法，希望对你有所帮助。</p><h1 id="b7f1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">恢复删除的文件</h1><p id="3065" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在Git存储库中，如果我们不小心删除了一个有用的文件，我们如何恢复它？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/b10627ebbe7a0c000154e49737d3822e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eXZNFoC2FpUyaqgobq5wyg.png"/></div></div></figure><p id="66f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，我们无意中删除了<code class="fe mt mu mv mw b">a.js</code>文件。如果我们想恢复这个文件，我们可以这样做:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/5f102eeea49e758a8faf2da0648c4e28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yGk70dDmB-Hf8xnKrJa-yA.png"/></div></div></figure><pre class="kj kk kl km gt my mw mz na aw nb bi"><span id="1df6" class="nc lw it mw b gy nd ne l nf ng">git checkout &lt;filename/dirname&gt;</span></pre><p id="bdf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个命令撤销我们对文件的任何操作，包括删除操作。</p><h1 id="0e6f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">修改提交消息</h1><p id="7b3d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">有时候，在我们提交了一个commit之后，我们可能会觉得commit消息写得不正确，并且想要改变它。我们做什么呢</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/a418444bb54cf6a99f29656b50619cc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_4RF1S3GU0JAGl8oxNeP8w.png"/></div></div></figure><p id="4f73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用这个命令来更改提交消息:</p><pre class="kj kk kl km gt my mw mz na aw nb bi"><span id="6cb8" class="nc lw it mw b gy nd ne l nf ng">git commit-amend</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/62a6b0acade29a1d7aa5b2ffec1a300d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QEnwDVGaeSHqpz9c2IGShQ.png"/></div></div></figure><p id="74a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输入这个命令后，我们进入一个文本编辑界面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/e6cc3e16faa7daff46e7e7858f619951.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XWp3ygg1qdtZFwLhe-8Alw.png"/></div></div></figure><p id="8c53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们可以修改提交消息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/54c55163fb57dcbf7bdab97544cc4e71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aorlj_GGt0FR2B3ADTutVw.png"/></div></div></figure><p id="944a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">保存并退出后，如果我们检查提交记录，我们可以看到之前的提交消息已经被修改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/3f294047238ca6c036f26038bc6d2e49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fbfkAtl0rBFHMMC6BTLywA.png"/></div></div></figure><h1 id="733e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">撤回提交</h1><p id="24fa" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在某些情况下，我们可能错误地提交了一个提交，我们可能想要撤销一个或多个提交。我们做什么呢</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/6a1fd71a481ab46d379ebc7f018794fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0TCspb1YvutHTOoNQIFLUg.png"/></div></div></figure><p id="09fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用这个命令来撤销提交:</p><pre class="kj kk kl km gt my mw mz na aw nb bi"><span id="8f18" class="nc lw it mw b gy nd ne l nf ng">git reset --hard [&lt;commit-id&gt;/HEAD~n&gt;]</span></pre><p id="a270" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想撤销最后两次提交，我们可以这样写:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/c8d9565d9f5987b0ff02c3672effaf3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xSsTOvaL8RROjJry-SHHcQ.png"/></div></div></figure><p id="ca10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们检查提交信息，我们可以看到前两次提交已经被撤回。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/97975aa26db74bfdbb3e938faa0871a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lkGC-9OaJZynDdIdJoQC_w.png"/></div></div></figure><h1 id="ee16" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">提交前撤消“git add”</h1><p id="57a7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">假设我们在修改一个文件后不小心使用了<code class="fe mt mu mv mw b">git add .</code>命令。你可以看到git的stage区域已经记录了这个变化，即使你把文件恢复到原来的状态，也无法撤销这个变化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/465ae9fd02051178020dbcc9754fd4f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3T67ooz4mZGPohph2vk3kQ.png"/></div></div></figure><p id="f754" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果要撤消更改，可以使用以下命令:</p><pre class="kj kk kl km gt my mw mz na aw nb bi"><span id="f77b" class="nc lw it mw b gy nd ne l nf ng">git reset &lt;file&gt;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/479b120cc7426637fe5a73587be35846.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hwu1By9XVxf3eoKeY4SFMA.png"/></div></div></figure><p id="b636" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如我们所见，修改记录已被取消。</p></div></div>    
</body>
</html>