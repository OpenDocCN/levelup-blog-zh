# 用不到 40 行代码编写勒索软件

> 原文：<https://levelup.gitconnected.com/writing-a-crude-ransomware-in-under-40-lines-d84ec44ed485>

# 披露人:

如果运行这个程序而没有 if(text.txt)和 change../到 homedir，你会毁了你的电脑！

我们基本上要用 40 行 Javascript 写一个完整的勒索程序！

这个例子假设你已经了解了生成器函数和基本的密码学知识。

首先，我们要进口所有我们需要的东西。你也不需要安装任何 npm 包，这完全是本地的。

接下来我们要声明两个变量，一个加密密钥和一个初始化向量。这些东西应该是随机的，以缓冲的形式，否则你会得到一些讨厌的错误，我已经将它们包括在格式中，它们将这样工作，即插即用。

接下来是构建加密函数的时候了。所以本质上我们接受一个使用 AES-256 加密的 param val，然后从函数返回加密的数据。

接下来，我们将构建一个 getFiles 生成器函数，该函数将递归地遍历所有文件和文件夹。

最后，我们将构建一个函数来加密一切。

您也可以添加一个解锁文件，告诉用户如何解锁他们的文件。

现在，我们已经在 nodejs 中用不到 50 行代码构建了一个粗糙的勒索软件攻击。

想象一下，有人把它粗暴地扔进一个 npm 包中，你可以看到像这样的东西可能带来的毁灭性后果。