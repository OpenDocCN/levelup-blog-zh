<html>
<head>
<title>TypeScript Nullish Coalescing Operator: Always Have a Fallback Value</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript Nullish合并运算符:始终有一个回退值</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/typescript-nullish-coalescing-operator-always-have-a-fallback-value-c24e2be6fe5e?source=collection_archive---------13-----------------------#2020-02-03">https://levelup.gitconnected.com/typescript-nullish-coalescing-operator-always-have-a-fallback-value-c24e2be6fe5e?source=collection_archive---------13-----------------------#2020-02-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fbbc" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">没有null且未用Nullish合并运算符定义的回退值</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/93de856434303d9a6d390688d78123c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EJ49j69cNj7JsMMs"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@tma?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">天一马</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h2 id="15d1" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">零融合算子</h2><p id="c930" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">在TypeScript 3.7版本中，我们提供了一个新的逻辑操作符。它叫<code class="fe mo mp mq mr b">nullish coalescing</code>，长得像这个<code class="fe mo mp mq mr b">??</code>。但是它有什么用呢？</p><p id="9962" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">如果操作符左边的值是<code class="fe mo mp mq mr b">null</code>或<code class="fe mo mp mq mr b">undefined</code>，那么右边的值将用于回退。所以通过使用这个，你可以防止代码中出现<code class="fe mo mp mq mr b">null</code>或<code class="fe mo mp mq mr b">undefined</code>值。听起来不错，让我们看看下面的例子:</p><pre class="kj kk kl km gt mx mr my mz aw na bi"><span id="25e3" class="kz la it mr b gy nb nc l nd ne">const var01 = <strong class="mr iu">null</strong>;</span><span id="22a6" class="kz la it mr b gy nf nc l nd ne">const example01 = var01 <strong class="mr iu">??</strong> 'My other value';</span><span id="c706" class="kz la it mr b gy nf nc l nd ne">console.log(example01); // <strong class="mr iu">'My other value'</strong></span></pre><p id="97c8" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated"><code class="fe mo mp mq mr b">example01</code>会导致<code class="fe mo mp mq mr b">My other value</code>。因为左手值是<code class="fe mo mp mq mr b">null</code>，所以会返回右手值。同样的情况也适用于<code class="fe mo mp mq mr b">undefined</code>。参见下面的例子。</p><pre class="kj kk kl km gt mx mr my mz aw na bi"><span id="9945" class="kz la it mr b gy nb nc l nd ne">const var02 = <strong class="mr iu">undefined</strong>;</span><span id="e232" class="kz la it mr b gy nf nc l nd ne">const example02 = var02 <strong class="mr iu">??</strong> 'My other value';</span><span id="e68b" class="kz la it mr b gy nf nc l nd ne">console.log(example02); // <strong class="mr iu">'My other value'</strong></span></pre><p id="b6f6" class="pw-post-body-paragraph lv lw it lx b ly ms ju ma mb mt jx md li mu mf mg lm mv mi mj lq mw ml mm mn im bi translated">对于所有其他不包含值<code class="fe mo mp mq mr b">null</code>或<code class="fe mo mp mq mr b">undefined</code>的场景，它返回左手值。</p><pre class="kj kk kl km gt mx mr my mz aw na bi"><span id="a016" class="kz la it mr b gy nb nc l nd ne">const var03 = <strong class="mr iu">'Hello'</strong>;<br/>const var04 = <strong class="mr iu">true</strong>;</span><span id="289d" class="kz la it mr b gy nf nc l nd ne">const example03 = var03 <strong class="mr iu">??</strong> 'My other value';<br/>const example04 = var04 <strong class="mr iu">??</strong> 'My other value';</span><span id="689c" class="kz la it mr b gy nf nc l nd ne">console.log(example03); // <strong class="mr iu">'Hello'</strong><br/>console.log(example04); // <strong class="mr iu">true</strong></span></pre><div class="ng nh gp gr ni nj"><a href="https://medium.com/@jeroenouw/ecmascript-vs-typescript-private-fields-640ae37aa162" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">EcmaScript与TypeScript —私有字段</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">TypeScript的private关键字和EcmaScript/JavaScript的#字符有什么区别</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ks nj"/></div></div></a></div><h2 id="e3ba" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">OR逻辑运算符(比较)</h2><p id="3e88" class="pw-post-body-paragraph lv lw it lx b ly lz ju ma mb mc jx md li me mf mg lm mh mi mj lq mk ml mm mn im bi translated">新的nullish合并操作符<code class="fe mo mp mq mr b">??</code>没有or操作符<code class="fe mo mp mq mr b">||</code>严格。<code class="fe mo mp mq mr b">??</code>允许使用数字零<code class="fe mo mp mq mr b">0</code>，非数字<code class="fe mo mp mq mr b">NaN</code>或空字符串<code class="fe mo mp mq mr b">""</code>。然而，这些值是错误的，不允许使用<code class="fe mo mp mq mr b">||</code>，这在某些情况下会导致不希望的行为。<code class="fe mo mp mq mr b">undefined</code>和<code class="fe mo mp mq mr b">null</code>不允许出现在两个运算符中。</p><pre class="kj kk kl km gt mx mr my mz aw na bi"><span id="a4ec" class="kz la it mr b gy nb nc l nd ne">const var05 = <strong class="mr iu">0</strong>;<br/>const var06 = <strong class="mr iu">NaN</strong>;<br/>const var07 = <strong class="mr iu">''</strong>;</span><span id="b46d" class="kz la it mr b gy nf nc l nd ne"><strong class="mr iu">// Will return right-hand (restricts)</strong><br/>const example05 = var05 <strong class="mr iu">||</strong> 'My other value';<br/>const example06 = var06 <strong class="mr iu">||</strong> 'My other value';<br/>const example07 = var07 <strong class="mr iu">||</strong> 'My other value';</span><span id="deea" class="kz la it mr b gy nf nc l nd ne"><strong class="mr iu">// Will return left-hand (allows)</strong><br/>const example08 = var05 <strong class="mr iu">??</strong> 'My other value';<br/>const example09 = var06 <strong class="mr iu">??</strong> 'My other value';<br/>const example10 = var07 <strong class="mr iu">??</strong> 'My other value';</span></pre><blockquote class="ny nz oa"><p id="cd8c" class="lv lw ob lx b ly ms ju ma mb mt jx md oc mu mf mg od mv mi mj oe mw ml mm mn im bi translated"><strong class="lx iu"> <em class="it">注:</em> </strong> <em class="it">用</em> <code class="fe mo mp mq mr b"><em class="it">||</em></code> <em class="it">和</em> <code class="fe mo mp mq mr b"><em class="it">??</em></code> <em class="it">合在一起会给出一个</em> <code class="fe mo mp mq mr b"><em class="it">SyntaxError</em></code> <em class="it">。</em></p></blockquote></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><h2 id="6acb" class="kz la it bd lb lc ld dn le lf lg dp lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">感谢您的阅读！我的<a class="ae ky" href="https://github.com/jeroenouw/" rel="noopener ugc nofollow" target="_blank"> Github </a>和<a class="ae ky" href="https://twitter.com/jeroenouw" rel="noopener ugc nofollow" target="_blank"> Twitter </a>。如果你觉得这篇文章有用，可以考虑看看我的其他文章:</h2><div class="ng nh gp gr ni nj"><a rel="noopener  ugc nofollow" target="_blank" href="/10-advanced-typescript-questions-for-an-interview-with-answers-6f0513b1688e"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">面试中的10个高级打字问题及答案</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">检查你的候选人是否有能力回答这些更高级的打字问题</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="ns l"><div class="om l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/@jeroenouw/ecmascript-vs-typescript-private-fields-640ae37aa162" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">EcmaScript与TypeScript —私有字段</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">TypeScript的private关键字和EcmaScript/JavaScript的#字符有什么区别</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx ks nj"/></div></div></a></div><div class="ng nh gp gr ni nj"><a href="https://medium.com/@jeroenouw/angular-7-share-component-data-with-other-components-1b91d6f0b93f" rel="noopener follow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd iu gy z fp no fr fs np fu fw is bi translated">在Angular 10中与其他元件共享元件数据</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">使用Angular的输入、输出、EventEmitter和ViewChild共享组件数据</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">medium.com</p></div></div><div class="ns l"><div class="on l nu nv nw ns nx ks nj"/></div></div></a></div></div></div>    
</body>
</html>