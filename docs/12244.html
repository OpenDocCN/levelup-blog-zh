<html>
<head>
<title>Using LocalDate, LocalTime, LocalDateTime with Java 8 in Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Android中使用Java 8的本地日期、本地时间、本地日期时间</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/using-localdate-localtime-localdatetime-with-java-8-in-android-6df5097c7393?source=collection_archive---------9-----------------------#2022-05-25">https://levelup.gitconnected.com/using-localdate-localtime-localdatetime-with-java-8-in-android-6df5097c7393?source=collection_archive---------9-----------------------#2022-05-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d743" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在android中处理日期和时间，您可能会使用<code class="fe kl km kn ko b">Date(java.util.Date)</code>或<code class="fe kl km kn ko b">Calendar(java.util.Calendar).</code>现在您有了一个更好的选择:Java 8中的LocalDate。</p><p id="1502" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> LocalDate </strong> —没有时区的日期。<br/> <strong class="jp ir">本地时间</strong> —没有时区的时间。<br/> <strong class="jp ir"> LocalDateTime </strong> —没有时区的日期时间。<br/> <strong class="jp ir">时区日期时间</strong> —带时区的日期时间。<br/> <strong class="jp ir">持续时间</strong> —基于时间的时间量。<br/> <strong class="jp ir">周期</strong> —基于日期的时间量。</p><p id="a663" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在android中写下面的代码，你会得到一个错误:LocalDate只在26级以上可用。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/77cf7e71149d65a4a06c70e66bf98d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2m0sM4uhtKWxa5lKE9F27w.png"/></div></div></figure><h1 id="1c55" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Java 8+ API去糖支持</h1><p id="4bd1" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">在项目的build.gradle中将gradle升级到4.0.0(或更高版本)</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="9095" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在应用程序模块的build.gradle中包含以下内容</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="370e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你可以在Java8中使用<code class="fe kl km kn ko b">LocalDateTime</code>。</p><h1 id="fdeb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">本地日期</h1><p id="4ae9" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">LocalDate —没有时区的日期。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="a517" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">本地时间</h1><p id="5946" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">LocalTime —没有时区的时间。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="7762" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">本地日期时间</h1><p id="9d3a" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">LocalDateTime没有时区的日期时间。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="abec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还可以使用LocalDate.parse来获取日期。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="8ea1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于指定的日期格式，请使用DateTimeFormatter。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="bf85" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦创建了日期时间实例，您就可以获得年、日…</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="8736" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">加上一天，一周，一个月</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="4841" class="mg lc iq bd ld mh mi dn lh mj mk dp ll jy ml mm lp kc mn mo lt kg mp mq lx mr bi translated">临时调节器</h2><p id="b604" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">TemporalAdjusters让你很快找到第一天和最后一天。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="bab2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">其他临时助理:</p><p id="ce94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">星期月<br/>第一天月<br/>第一天月<br/>第一天年<br/>第一天年<br/>第一天月<br/>最后一天月<br/>最后一天年<br/>最后一天年<br/>最后一个月</p><p id="97b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">比较两个本地日期</strong></p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="eb29" class="mg lc iq bd ld mh mi dn lh mj mk dp ll jy ml mm lp kc mn mo lt kg mp mq lx mr bi translated">时期</h2><p id="0b3c" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">Period类使用年、月和日来表示一段时间。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="6880" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">持续时间</h1><p id="d6ef" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">代表更精确的时间间隔。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><h2 id="98df" class="mg lc iq bd ld mh mi dn lh mj mk dp ll jy ml mm lp kc mn mo lt kg mp mq lx mr bi translated">ZonedDateTime</h2><p id="ab16" class="pw-post-body-paragraph jn jo iq jp b jq lz js jt ju ma jw jx jy mb ka kb kc mc ke kf kg md ki kj kk ij bi translated">ZonedDateTime通过使用ZoneId提供带zone的日期时间。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="76bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以获得所有区域id。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="cbee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用ZonedDateTime，您可以比较不同时区时间。</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure><p id="4b61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">参考</strong>:</p><p id="9e05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ms" href="https://developer.android.com/studio/write/java8-support#library-desugaring" rel="noopener ugc nofollow" target="_blank">https://developer . Android . com/studio/write/Java 8-support # library-de sugaring</a></p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="me mf l"/></div></figure></div></div>    
</body>
</html>