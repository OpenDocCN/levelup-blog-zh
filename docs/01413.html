<html>
<head>
<title>How to Make a Photo Editor with Vue.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Vue.js制作照片编辑器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-make-a-photo-editor-with-vue-js-fc465bdf50de?source=collection_archive---------3-----------------------#2019-12-26">https://levelup.gitconnected.com/how-to-make-a-photo-editor-with-vue-js-fc465bdf50de?source=collection_archive---------3-----------------------#2019-12-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/4563c41a51449aed2d758812196f2c1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mmxmlTmZWn-lFwBgiBcIAg.jpeg"/></div></div></figure><p id="9745" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">随着HTML5 canvas API等web技术的进步，向web应用程序添加图形比以往任何时候都更容易。用户也期待网络应用程序提供更多的图形处理功能。因此，像照片编辑器这样的东西在web应用程序中变得越来越普遍。</p><p id="1c74" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">独自添加照片编辑器仍然是一项艰巨的任务。幸运的是，开发人员已经开始帮助我们构建照片编辑器组件。对于Vue.js应用，我们可以使用TUI图像编辑器包的Vue.js版本。该文件位于<a class="ae kz" href="https://github.com/nhn/toast-ui.vue-image-editor" rel="noopener ugc nofollow" target="_blank">https://github.com/nhn/toast-ui.vue-image-editor</a>。</p><p id="3257" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在本文中，我们将使用这个照片编辑器制作一个简单的照片编辑器应用程序。首先，我们通过运行以下命令来运行Vue CLI:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="7a38" class="lj lk it lf b gy ll lm l ln lo">npx @vue/cli create photo-editor</span></pre><p id="94c4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们在运行向导时保留默认选项，因此我们按Enter键通过默认选项。接下来，我们安装我们需要的包。我们将使用BootstrapVue进行样式设计，并使用TUI图像编辑器。要安装它们，请运行:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="4482" class="lj lk it lf b gy ll lm l ln lo">npm i @toast-ui/vue-image-editor bootstrap-vue</span></pre><p id="5dcb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，我们制作应用程序。我们从用以下代码替换现有的代码<code class="fe lp lq lr lf b">Home.vue</code>开始:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="d123" class="lj lk it lf b gy ll lm l ln lo">&lt;template&gt;<br/>  &lt;div class="page"&gt;<br/>    &lt;div class="imageEditorApp"&gt;<br/>      &lt;b-button-toolbar&gt;<br/>        &lt;b-button <a class="ae kz" href="http://twitter.com/click" rel="noopener ugc nofollow" target="_blank">@click</a>="cropMode()"&gt;Toggle Crop Mode&lt;/b-button&gt;<br/>      &lt;/b-button-toolbar&gt;<br/>      &lt;br /&gt;<br/>      &lt;tui-image-editor ref="editor" :include-ui="useDefaultUI" :options="options"&gt;&lt;/tui-image-editor&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="45fb" class="lj lk it lf b gy ls lm l ln lo">&lt;script&gt;<br/>import { ImageEditor } from "<a class="ae kz" href="http://twitter.com/toast" rel="noopener ugc nofollow" target="_blank">@toast</a>-ui/vue-image-editor";<br/>const icona = require("tui-image-editor/dist/svg/icon-a.svg");<br/>const iconb = require("tui-image-editor/dist/svg/icon-b.svg");<br/>const iconc = require("tui-image-editor/dist/svg/icon-c.svg");<br/>const icond = require("tui-image-editor/dist/svg/icon-d.svg");<br/>const blackTheme = {<br/>  "menu.normalIcon.path": icond,<br/>  "menu.activeIcon.path": iconb,<br/>  "menu.disabledIcon.path": icona,<br/>  "menu.hoverIcon.path": iconc<br/>};</span><span id="fe45" class="lj lk it lf b gy ls lm l ln lo">export default {<br/>  name: "home",<br/>  components: {<br/>    "tui-image-editor": ImageEditor<br/>  },<br/>  data() {<br/>    return {<br/>      useDefaultUI: true,<br/>      options: {<br/>        cssMaxWidth: window.innerWidth,<br/>        cssHeight: 800,<br/>        includeUI: {<br/>          theme: blackTheme<br/>        },<br/>        initMenu: "filter"<br/>      }<br/>    };<br/>  },<br/>  methods: {<br/>    cropMode() {<br/>      const drawingMode = this.$refs.editor.invoke("getDrawingMode");<br/>      if (drawingMode == "CROPPER") {<br/>        this.$refs.editor.invoke("startDrawingMode", "FREE_DRAWING");<br/>      } else {<br/>        this.$refs.editor.invoke("startDrawingMode", "CROPPER");<br/>      }<br/>    },<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="4945" class="lj lk it lf b gy ls lm l ln lo">&lt;style scoped&gt;<br/>.imageEditorApp {<br/>  width: 95vw;<br/>  height: calc(100vh - 150px);<br/>}<br/>&lt;/style&gt;</span></pre><p id="3344" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们在这里添加了照片编辑器，并在顶部添加了一个在裁剪模式和自由绘制模式之间切换的按钮。照片编辑器有很多功能。我们可以自由画画。照片可以裁剪。添加文本也很容易。亮度和对比度选项可用。您还可以添加箭头、星星、气泡、心形和多边形等图标。它还允许用户通过选择填充和笔画来添加矩形、圆形和三角形等形状。用户还可以添加不同的效果，如改变亮度，创建噪声，改变图片灰度，添加模糊效果等。</p><p id="1ac0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个文件中，我们在<code class="fe lp lq lr lf b">script</code>部分的顶部导入了图标，并将它们设置在<code class="fe lp lq lr lf b">blackTheme</code>对象中，这样我们就可以看到图标了。在<code class="fe lp lq lr lf b">components</code>对象中，我们添加了<code class="fe lp lq lr lf b">ImageEditor</code>组件，这样我们就可以在<code class="fe lp lq lr lf b">templates</code>部分使用它。在<code class="fe lp lq lr lf b">data</code>部分，我们有<code class="fe lp lq lr lf b">options</code>。我们需要设置<code class="fe lp lq lr lf b">theme</code>部分，以便我们可以看到图标。<code class="fe lp lq lr lf b">imageEditorApp</code>类是我们设置图像编辑器的高度和宽度的地方。我们将其设置为填充页面的大部分。</p><p id="b33e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<code class="fe lp lq lr lf b">methods</code>部分，我们有<code class="fe lp lq lr lf b">cropMode</code>方法在自由绘制和裁剪模式之间切换。我们有:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="08b7" class="lj lk it lf b gy ll lm l ln lo">const drawingMode = this.$refs.editor.invoke(“getDrawingMode”);</span></pre><p id="724a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">获取当前的绘图模式，这样我们可以在两种模式之间切换。</p><p id="e97b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来在<code class="fe lp lq lr lf b">App.vue</code>中，我们将现有代码替换为:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="6541" class="lj lk it lf b gy ll lm l ln lo">&lt;template&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;b-navbar toggleable="lg" type="dark" variant="info"&gt;<br/>      &lt;b-navbar-brand to="/"&gt;Photo Editor&lt;/b-navbar-brand&gt;</span><span id="ef58" class="lj lk it lf b gy ls lm l ln lo">&lt;b-navbar-toggle target="nav-collapse"&gt;&lt;/b-navbar-toggle&gt;</span><span id="a2d9" class="lj lk it lf b gy ls lm l ln lo">&lt;b-collapse id="nav-collapse" is-nav&gt;<br/>        &lt;b-navbar-nav&gt;<br/>          &lt;b-nav-item to="/" :active="path  == '/'"&gt;Home&lt;/b-nav-item&gt;<br/>        &lt;/b-navbar-nav&gt;<br/>      &lt;/b-collapse&gt;<br/>    &lt;/b-navbar&gt;<br/>    &lt;router-view /&gt;<br/>  &lt;/div&gt;<br/>&lt;/template&gt;</span><span id="9c68" class="lj lk it lf b gy ls lm l ln lo">&lt;script&gt;<br/>export default {<br/>  data() {<br/>    return {<br/>      path: this.$route &amp;&amp; this.$route.path<br/>    };<br/>  },<br/>  watch: {<br/>    $route(route) {<br/>      this.path = route.path;<br/>    }<br/>  }<br/>};<br/>&lt;/script&gt;</span><span id="5750" class="lj lk it lf b gy ls lm l ln lo">&lt;style lang="scss"&gt;<br/>.page {<br/>  padding: 20px;<br/>}</span><span id="995d" class="lj lk it lf b gy ls lm l ln lo">button,<br/>.btn.btn-primary {<br/>  margin-right: 10px !important;<br/>}</span><span id="9c0b" class="lj lk it lf b gy ls lm l ln lo">.button-toolbar {<br/>  margin-bottom: 10px;<br/>}<br/>&lt;/style&gt;</span></pre><p id="65ed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在页面顶部添加一个引导导航条，并添加一个<code class="fe lp lq lr lf b">router-view</code>来显示我们定义的路线。这个<code class="fe lp lq lr lf b">style</code>部分没有限定范围，所以样式将全局应用。在<code class="fe lp lq lr lf b">.page</code>选择器中，我们给页面添加一些填充。我们在剩余的<code class="fe lp lq lr lf b">style</code>代码中给按钮添加一些填充。</p><p id="3569" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后在<code class="fe lp lq lr lf b">main.js</code>中，将现有代码替换为:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="dbf8" class="lj lk it lf b gy ll lm l ln lo">import Vue from "vue";<br/>import App from "./App.vue";<br/>import router from "./router";<br/>import store from "./store";<br/>import BootstrapVue from "bootstrap-vue";<br/>import "bootstrap/dist/css/bootstrap.css";<br/>import "bootstrap-vue/dist/bootstrap-vue.css";<br/>import "tui-image-editor/dist/tui-image-editor.css";</span><span id="22f5" class="lj lk it lf b gy ls lm l ln lo">Vue.use(BootstrapVue);</span><span id="e872" class="lj lk it lf b gy ls lm l ln lo">Vue.config.productionTip = false;</span><span id="77e9" class="lj lk it lf b gy ls lm l ln lo">new Vue({<br/>  router,<br/>  store,<br/>  render: h =&gt; h(App)<br/>}).$mount("#app");</span></pre><p id="2732" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们在这里添加了我们需要的所有库，包括BootstrapVue JavaScript和CSS，以及TUI图像编辑器的CSS。</p><p id="8eef" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<code class="fe lp lq lr lf b">router.js</code>中，我们将现有代码替换为:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="5a6c" class="lj lk it lf b gy ll lm l ln lo">import Vue from "vue";<br/>import Router from "vue-router";<br/>import Home from "./views/Home.vue";</span><span id="5aeb" class="lj lk it lf b gy ls lm l ln lo">Vue.use(Router);</span><span id="8a8d" class="lj lk it lf b gy ls lm l ln lo">export default new Router({<br/>  mode: "history",<br/>  base: process.env.BASE_URL,<br/>  routes: [<br/>    {<br/>      path: "/",<br/>      name: "home",<br/>      component: Home<br/>    }<br/>  ]<br/>});</span></pre><p id="d35b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将主页包含在我们的路线中，以便用户可以看到该页面。</p><p id="bcea" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，在<code class="fe lp lq lr lf b">index.html</code>中，我们将现有代码替换为:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="706b" class="lj lk it lf b gy ll lm l ln lo">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8" /&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;<br/>    &lt;meta name="viewport" content="width=device-width,initial-scale=1.0" /&gt;<br/>    &lt;link rel="icon" href="&lt;%= BASE_URL %&gt;favicon.ico" /&gt;<br/>    &lt;title&gt;Photo Editor&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;noscript&gt;<br/>      &lt;strong<br/>        &gt;We're sorry but vue-photo-editor-tutorial-app doesn't work properly<br/>        without JavaScript enabled. Please enable it to continue.&lt;/strong<br/>      &gt;<br/>    &lt;/noscript&gt;<br/>    &lt;div id="app"&gt;&lt;/div&gt;<br/>    &lt;!-- built files will be auto injected --&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="ce86" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">更改我们应用程序的标题。</p><p id="9fae" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">经过所有的努力，我们可以通过运行<code class="fe lp lq lr lf b">npm run serve</code>来启动我们的应用程序。</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi lt"><img src="../Images/1256c95b97c24cd2a2b2181238331e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qni38u6DtR4jrDvTmYLSoA.png"/></div></div></figure></div></div>    
</body>
</html>