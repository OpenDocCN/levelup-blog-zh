<html>
<head>
<title>The Plain-English Guide to Webhooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络钩子简明英语指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/the-plain-english-guide-to-webhooks-7befe8daf987?source=collection_archive---------10-----------------------#2020-04-01">https://levelup.gitconnected.com/the-plain-english-guide-to-webhooks-7befe8daf987?source=collection_archive---------10-----------------------#2020-04-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/bc083c4e6d59c290be3964e5bf3fb06f.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*_X8lkX31ovfPriBq-9akRA.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">该图展示了webhooks如何与传统的请求/响应周期形成对比。</figcaption></figure><p id="41a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过使用API，网络应用程序变得越来越相互关联，这对于在不同的网络应用程序之间共享数据是必不可少的。它们也变得非常重要，尤其是对于软件即服务(SaaS)应用程序。用户希望快速和定期更新；为了满足这一需求，开发人员在他们的API中加入了webhooks。Web-hooks是一个过程，在这个过程中，来自API的数据可以被传递，而不必接收每个响应的请求。这篇文章概述了什么是web挂钩，为什么你应该在你的web应用中包含它，以及如何在你的API中添加它。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="051e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">什么是网钩？</p><p id="12e5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Webhook是一个应用程序用实时信息更新其他应用程序的方法。Webhooks基于<em class="ld">事件反应</em>的概念运作(不用打电话给我，有新情况我会打电话给你)，避免了(用户)客户端应用不断向服务器请求实时数据的需要。</p><p id="fdaf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于那些更专业的人来说，一个更简洁的定义是:</p><p id="a0a0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ld">“web hooks是用户定义的HTTP回调，链接到一个web应用，由特定事件触发。”</em></p><p id="a79b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">webhook实时向其他应用程序传送数据，以便立即接收数据。<em class="ld">什么是API？</em> API代表应用编程接口，但这是什么意思？API可以共享数据和功能。例如，您可以使用Google Maps API按位置或名称查找博物馆，从每个地方提取大量数据。然后，您可以使用这些数据，并将其显示在您的UI用户界面上。</p><p id="9d17" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">与用户需要做出动作(请求)来从服务器获取数据的典型API相反。webhook不需要请求，它只是在数据可用时发送数据。例如，当你订阅银行服务时，当你用信用卡进行交易或者余额低于一定金额时，你会收到一条推送通知。这对用户和开发者来说是一个更好的体验，因为它降低了服务器成本，使web应用程序更加高效。</p><p id="8a78" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是webhooks的核心概念。要使用webhook，你需要向提供服务的公司注册一个URL。URL是应用程序中的一个地方，它将接受数据并对其进行处理。当有新的信息时，网络钩子会把它发送到你的URL。使用webhooks，您可以在服务器上发生某些事件时获得推送通知。例如，当你订阅银行服务时，当你用信用卡进行交易或者余额低于一定金额时，你会收到一条推送通知。</p><p id="76ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用webhooks的第一步是给webhook提供者一个URL，您可以将请求发送到这个URL。这可以通过配置您的后端或API来完成。这意味着您需要在您的应用程序中设置一个可从网络访问的URL。绝大多数webhooks会以XML或JSON的形式发布数据，这是一种从服务器接收的数据形式。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="b8b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那么webhooks长什么样呢？</p><p id="cd9b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">API调用服务器端应用程序，服务器端应用程序向客户端应用程序提供客户端可以调用的端点URL。服务器端可能会为一个简单的聊天应用程序公开以下API端点URL。</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="fe6f" class="ln lo iq lj b gy lp lq l lr ls"><br/>POST /messages createNewMessage <br/>GET /messages/{messageId} readMessage<br/>POST /messages/{messageId}/comments postComment<br/>GET /messages/{messageId}/comments/{commentsId} readComment</span></pre><p id="b7df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果客户端app想向服务器发布新消息，客户端app调用服务器<em class="ld"> POST /messages </em></p><p id="6ff0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，如果客户端应用程序想要读取已经发布到服务器上的特定消息的评论，客户端应用程序调用<em class="ld">GET/messages/{ messageID }/comments/{ comments id }</em></p><p id="5b9c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用服务器提供的API(端点URL ),在服务器的数据库中创建和存储消息和注释，并从服务器数据库中读取。</p><p id="1a76" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Webhooks，是客户端应用程序为服务器端应用程序提供一个要调用的URL，服务器端应用程序调用该URL，只要服务器被更新了一些需要发送给用户的新信息。webhook本质上只是客户端应用程序提供给服务器端应用程序的一个端点URL。在我们简单的聊天应用程序示例中，它可能是这样的:</p><p id="db94" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">{ " newcommentwebbook ":" https://client chat . com/web hook/new comment " }</p><p id="bffd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">webhook只不过是一个简单的客户端提供的端点URL。客户端应用程序必须在服务器端调用webhook之前的某个时间将这个端点URL传递给服务器端应用程序。如果我们希望服务器在针对特定消息发布新评论时通知用户。在这种情况下，每当一个新的评论被发布到数据库时，服务器端应用程序应该(在将评论发布到数据库之后)调用上面的webhook URL，让客户端web应用程序知道一个新的评论已经可用。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="cbc3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用webhooks，服务器可以通知客户端发生的新事件(即发布了新消息)。需要在API端点中配置API，以便有一个占位符，允许webhook URL从客户端应用程序传递。这可以通过服务器端API为webhook URLs提供一个参数来实现。服务器端应用程序应该有某种机制来存储客户端提供的webhook端点，以便在需要时可以被服务器端调用。因此，在我们的示例中，服务器端API请求主体应该有一些参数，其中客户端应用程序可以包含它们的webhook URL。</p><p id="0c63" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于我们的web应用程序中不断增长的互联性，Webhooks是一个必不可少的工具。这是用户立即接收更新并节省服务器成本的一种方式。如果你想让你的web应用程序更加动态和灵活地满足今天用户的需求，那么在你的web应用程序中添加一个webhook将是至关重要的。</p></div></div>    
</body>
</html>