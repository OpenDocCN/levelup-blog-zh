<html>
<head>
<title>How to create a reusable dynamic form component in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Angular中创建可重用的动态表单组件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-create-a-reusable-dynamic-form-component-in-angular-6d4463d254da?source=collection_archive---------0-----------------------#2022-05-05">https://levelup.gitconnected.com/how-to-create-a-reusable-dynamic-form-component-in-angular-6d4463d254da?source=collection_archive---------0-----------------------#2022-05-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/146494ac1fc77bc5c617be0a6ff0479b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*5TSfYN0A_bKHrhFQwNFuQg.png"/></div></figure><p id="adf1" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">因为我们想保持我们的代码<a class="ae kv" href="https://angular.io/guide/styleguide#t-dry-try-to-be-dry" rel="noopener ugc nofollow" target="_blank">干燥</a>(不要重复自己)，所以为常见用例实现可重用的组件是有用的。在本文中，我们将学习如何创建一个可以在整个应用程序中配置和重用的动态表单组件。为此，我们将使用角度<a class="ae kv" href="https://angular.io/guide/reactive-forms" rel="noopener ugc nofollow" target="_blank">反应形式</a>。</p><p id="b06a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">对于我们的动态表单，我们需要两个组件和几个数据模型。让我们从基本模型开始:</p><figure class="kw kx ky kz gt ju"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="9f52" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">该值具有泛型类型，因此可用于各种输入类型。设置我们的反应式表单控件需要所有其他参数。现在，对于我们实际的表单输入，我们可以简单地添加更多的类来覆盖<code class="fe lc ld le lf b">controlType</code>，例如一个文本输入:</p><figure class="kw kx ky kz gt ju"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="d081" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">接下来，我们需要创建组件。为此，我们可以利用<a class="ae kv" href="https://angular.io/cli" rel="noopener ugc nofollow" target="_blank"> Angular CLI </a>并键入以下命令:</p><p id="78f9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><code class="fe lc ld le lf b">ng generate component dynamic-form</code></p><p id="49cc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><code class="fe lc ld le lf b">ng generate component dynamic-form-input</code></p><p id="02e3" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">第一个组件将创建我们的<code class="fe lc ld le lf b">FormGroup</code>，并通过第二个组件实例化表单控件。</p><figure class="kw kx ky kz gt ju"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="329e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">通过使用<code class="fe lc ld le lf b">formFields</code>输入在<code class="fe lc ld le lf b">ngOnInit</code>中产生<code class="fe lc ld le lf b">FormGroup</code>。在模板中，我们遍历表单并呈现我们的另一个组件，它将最终的表单放在一起。</p><figure class="kw kx ky kz gt ju"><div class="bz fp l di"><div class="la lb l"/></div></figure><p id="6061" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">使用<code class="fe lc ld le lf b">ngSwitch</code>语句，模板决定显示哪种类型的表单输入。这里我们有三种类型的输入，但你可以想象更多。</p><p id="501e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">为了使用表单，我们创建了一个表单输入数组，并将其传递给动态表单组件<code class="fe lc ld le lf b">&lt;dynamic-form&gt;</code>。</p><figure class="kw kx ky kz gt ju"><div class="bz fp l di"><div class="la lb l"/></div></figure><h1 id="e332" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">下一步是什么？</h1><p id="7ff6" class="pw-post-body-paragraph jx jy it jz b ka me kc kd ke mf kg kh ki mg kk kl km mh ko kp kq mi ks kt ku im bi translated">这是一个如何创建可重用组件的小例子。下面是一些改进我们表单组件的想法:</p><p id="307c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">验证用户输入并显示正确的错误消息</p><p id="970e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">添加一些i18n(国际化)来支持其他语言</p><p id="ed9a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">添加样式或集成角度组件库(如<a class="ae kv" href="https://material.angular.io/" rel="noopener ugc nofollow" target="_blank">角度材料</a></p><figure class="kw kx ky kz gt ju"><div class="bz fp l di"><div class="mj lb l"/></div></figure><p id="8523" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">关注我在<a class="ae kv" href="https://saackef.com" rel="noopener ugc nofollow" target="_blank">中</a>阅读更多关于Angular！</p></div></div>    
</body>
</html>