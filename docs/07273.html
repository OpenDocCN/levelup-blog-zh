<html>
<head>
<title>Ionic 5: Using a prefabricated component in a list</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ionic 5:在列表中使用预制组件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/ionic-5-using-a-prefabricated-component-in-a-list-26b53da1229e?source=collection_archive---------8-----------------------#2021-02-05">https://levelup.gitconnected.com/ionic-5-using-a-prefabricated-component-in-a-list-26b53da1229e?source=collection_archive---------8-----------------------#2021-02-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2a310d5c40788767df21d44f5c01843f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EY9q5afNz22znFtW"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">萨姆·穆卡达姆在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="a768" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你熟悉构建一个应用程序，你喜欢一遍又一遍地重用代码的某些部分。有时候，你已经建立了一些列表，需要在Ionic应用的不同部分反复使用。</p><p id="89b0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，在主页上，您希望以某种方式显示一个姓名列表，然后您希望在另一个页面上显示相同样式的姓名列表。</p><p id="6443" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里的解决方案是使用一个组件。它看起来更好，你可以在应用程序的几个地方重用它。</p><p id="0d45" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我将向您展示这是如何做到的。在撰写本文时，我将使用的软件版本是:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="1bae" class="ln lo it lj b gy lp lq l lr ls">Ionic version 5<br/>Ionic CLI version 6.12.4</span></pre><h2 id="fcf5" class="ln lo it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">先决条件</h2><p id="f09b" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">我想你对爱奥尼亚非常熟悉。这里描述的方法将使用<strong class="ki iu">离子角度</strong>。Ionic是一个混合框架，使用HTML、TypeScript(JavaScript的一个子集)和CSS开发渐进式web应用程序(PWA)和移动应用程序。如果之前做过web开发，接起来很简单。</p><p id="0e12" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你不熟悉Ionic，我建议你阅读Ionic官方网站的“入门”部分，这应该足以让你开始用Ionic构建一个应用程序:</p><div class="mp mq gp gr mr ms"><a href="https://www.ionicframework.com" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd iu gy z fp mx fr fs my fu fw is bi translated">Ionic -跨平台移动应用开发</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">Ionic是面向web开发者的应用开发平台。构建令人惊叹的跨平台移动、web和桌面应用程序…</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">www.ionicframework.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng jz ms"/></div></div></a></div><h2 id="276c" class="ln lo it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">步骤1:设置组件</h2><p id="3f83" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">假设您已经正确设置了离子角度应用程序，您需要做的第一件事是添加一个组件。这可以通过在您的终端或Ionic项目中的命令提示符下键入以下命令来完成:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="cfa3" class="ln lo it lj b gy lp lq l lr ls">ionic g component components/my-item</span></pre><p id="06ad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这应该会在应用程序的<code class="fe nh ni nj lj b">components/my-item </code>文件夹中生成几个与<code class="fe nh ni nj lj b">my-item</code>组件相关的文件。在<code class="fe nh ni nj lj b">my-item</code>文件夹里应该有一个<code class="fe nh ni nj lj b">HTML</code>文件、<code class="fe nh ni nj lj b">scss</code>文件、<code class="fe nh ni nj lj b">spec.ts</code>文件和一个<code class="fe nh ni nj lj b">ts</code>文件。</p><h2 id="890b" class="ln lo it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">步骤2:简化导入，生成一个模块</h2><p id="0f67" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">为了更容易地将<code class="fe nh ni nj lj b">my-item</code>组件导入到您的应用程序中，以及以后您想使用它的任何地方，我通常会生成一个模块来处理这个问题。要生成模块，您需要在终端中输入以下命令:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="9140" class="ln lo it lj b gy lp lq l lr ls">ionic g module components</span></pre><p id="7d1e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这应该会在<code class="fe nh ni nj lj b">components/</code>文件夹中生成一个名为<code class="fe nh ni nj lj b">components.module.ts </code>的模块。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/fbb1a26154de19a362ebb648581fb83b.png" data-original-src="https://miro.medium.com/v2/resize:fit:356/format:webp/1*B1AP3qC5mfu75bRaSEuiCw.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated"><code class="fe nh ni nj lj b">components.module.ts</code>文件与<code class="fe nh ni nj lj b"> my-item</code>文件夹在组件<code class="fe nh ni nj lj b"> </code>文件夹内</figcaption></figure><p id="dcd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">编辑您的<code class="fe nh ni nj lj b">components.module.ts</code>文件以添加<code class="fe nh ni nj lj b">my-item</code>组件，如下所示:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="a5f5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经标记了我在上面的<code class="fe nh ni nj lj b">components.module.ts</code>中添加的行</p><p id="f8b9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">只是逐行简要解释一下添加的内容:</p><p id="8dec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第2、6和7行:导入<code class="fe nh ni nj lj b">CUSTOM_ELEMENTS_SCHEMA</code>、my-item组件本身和将在组件中使用的Ionic库。</p><p id="eb5d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第13行:<code class="fe nh ni nj lj b">my-item</code>组件的声明</p><p id="b19d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第17行:将离子组件导入到组件中</p><p id="e9fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第20行:导出将在整个应用程序中使用的my-item组件</p><p id="d016" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第22和23行:模式，定义<code class="fe nh ni nj lj b">CUSTOM_ELEMENTS_SCHEMA</code>。</p><p id="86e1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以上文件现在可以导入并在应用程序中的任何地方使用。但首先，让我们编辑<code class="fe nh ni nj lj b">my-item</code>组件。</p><h2 id="8cab" class="ln lo it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">步骤3:编辑<code class="fe nh ni nj lj b">my-item</code>组件</h2><p id="0c87" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">打开<code class="fe nh ni nj lj b">my-item.component.html</code>，让我们在<code class="fe nh ni nj lj b">my-item.component.html</code>文件中创建一个<code class="fe nh ni nj lj b">&lt;ion-item&gt;</code>。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="eb62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们可以使用<code class="fe nh ni nj lj b">@Input()</code>关键字来设置<code class="fe nh ni nj lj b">HTML </code>文件中的名称、标题和信息。编辑<code class="fe nh ni nj lj b">my-item.component.ts</code>文件，如下所示:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="36a5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，我们已经在第1行导入了<code class="fe nh ni nj lj b">@Input()</code>，然后在第12、13和14行使用它来声明<code class="fe nh ni nj lj b">name</code>、<code class="fe nh ni nj lj b">title </code>和<code class="fe nh ni nj lj b">info</code>变量</p><h2 id="ed72" class="ln lo it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">步骤4:将组件模块添加到页面中</h2><p id="1c05" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">我们就快到了，现在我们需要做的就是测试组件。为此，我将创建一个名为test page的新页面。要生成新页面，我需要运行以下命令:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="b0c0" class="ln lo it lj b gy lp lq l lr ls">ionic g page test</span></pre><p id="5a83" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这应该会生成测试，并且您应该已经准备好您的测试页面，其文件夹结构如下所示:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/e6f304d317c72f09049e50edb3e99cc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:344/format:webp/1*FsyFF633_n7gm6yzCuqRUg.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">自动生成测试页面</figcaption></figure><p id="5e64" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里您需要做的第一件事是将步骤2中创建的组件模块包含在<code class="fe nh ni nj lj b">test.module.ts</code>中。为此，您需要编辑<code class="fe nh ni nj lj b">test.module.ts</code>并包括以下内容:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="1608" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在<code class="fe nh ni nj lj b">test.module.ts</code>中添加了第10行和第18行，这很重要，这样我们就可以在应用程序中使用<code class="fe nh ni nj lj b">my-item</code>组件。</p><h2 id="f51c" class="ln lo it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">步骤5:创建一个数组并添加到HTML中</h2><p id="de5a" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">在我们继续之前，让我们创建一个包含4个项目的简单数组，并用我们刚刚构建的组件列出它。在这种情况下，我将创建一个由4个对象组成的数组，其中包含名称、标题和详细信息。这将在<code class="fe nh ni nj lj b">test.page.ts</code>中完成</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="91f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的例子中，我创建了一个名为<code class="fe nh ni nj lj b">person</code>的数组。然后，我们可以使用<code class="fe nh ni nj lj b">test.page.html </code>中的<code class="fe nh ni nj lj b">*ngFor</code>来遍历数组，并以组件的样式列出项目，如下所示:</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="85db" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您注意到了第11行，这是在<code class="fe nh ni nj lj b">my-item.component.ts</code>文件中使用了<code class="fe nh ni nj lj b">@Input()</code>。它获取插入此处的值，并将其用作组件中的输入。</p><p id="0d00" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将在你的Ionic应用程序中创建一个列表，如下所示:</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi no"><img src="../Images/82d7fe05e26dc3554ef5de97547d3b09.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*4SUse-2WWulVJ-oshAKdmg.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">使用*ngFor填充列表的预制组件</figcaption></figure><p id="ebd3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个例子中，它能够将在<code class="fe nh ni nj lj b">test.page.ts</code>中创建的数组输出到一个预制组件中，我们可以随心所欲地修改它，并且它将在整个应用程序中更新，因为预制组件将在应用程序中的其他地方使用。只需重复第4步和第5步即可。这消除了在每个页面中放置相同的列表和浏览单个HTML设计的麻烦，相信我，这是一个麻烦。只需在预制组件的帮助下重复使用它。</p><h2 id="b0b8" class="ln lo it bd lt lu lv dn lw lx ly dp lz kr ma mb mc kv md me mf kz mg mh mi mj bi translated">结论</h2><p id="1620" class="pw-post-body-paragraph kg kh it ki b kj mk kl km kn ml kp kq kr mm kt ku kv mn kx ky kz mo lb lc ld im bi translated">如果你已经开发了一个应用程序，并且不想一遍又一遍地重复，那么组件是一个很好的方法。它可以节省时间，让你的代码看起来更整洁、更高效。我以前写过关于在Ionic应用程序中使用多个组件的文章，所以如果你想了解更多关于在应用程序中使用多个组件的信息，请阅读这篇文章:</p><div class="mp mq gp gr mr ms"><a rel="noopener  ugc nofollow" target="_blank" href="/adding-multiple-components-to-your-ionic-application-8ba5d5523aa7"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd iu gy z fp mx fr fs my fu fw is bi translated">为您的离子应用添加多种组件</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">这个组件的用例范围从创建一部分需要重用的代码。例如，一家公司…</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="nb l"><div class="np l nd ne nf nb ng jz ms"/></div></div></a></div><p id="3d02" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="nq">塞拉马特·孟加图拉</em></p></div></div>    
</body>
</html>