<html>
<head>
<title>How To Download A File With Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•ç”¨Node.jsä¸‹è½½æ–‡ä»¶</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/how-to-download-a-file-with-node-js-e2b88fe55409?source=collection_archive---------3-----------------------#2021-02-10">https://levelup.gitconnected.com/how-to-download-a-file-with-node-js-e2b88fe55409?source=collection_archive---------3-----------------------#2021-02-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7f4e2357a57b803c4c243753fb90b7cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D86BStQhZNADuM6GjmVVAQ.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ç”±<a class="ae kf" href="https://unsplash.com/@sw_creates?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">è¨å‡¡çº³Â·ç»´å…‹è²å°”å¾·</a>åœ¨<a class="ae kf" href="https://unsplash.com/s/photos/download-file?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>æ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="0bc4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸Šå‘¨æœ«ï¼Œæˆ‘å¯¹æˆ‘çš„æ—¶é—´è¿½è¸ªåº”ç”¨ç¨‹åºâ€œTie Trackerâ€(<a class="ae kf" href="https://tietracker.com" rel="noopener ugc nofollow" target="_blank">PWA</a>/<a class="ae kf" href="https://github.com/peterpeterparker/tietracker" rel="noopener ugc nofollow" target="_blank">GitHub</a>)è¿›è¡Œäº†ä¾èµ–æ›´æ–°ã€‚</p><p id="1586" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨è¿™ä¸ªç‰¹æ®Šçš„å·¥å…·ä¸­ï¼Œæˆ‘å°†ç¹é‡çš„å·¥ä½œå§”æ‰˜ç»™äº†Web Workersï¼Œè¿™æ ·UIå°±ä¸ä¼šå‘ç°è‡ªå·±å¤„äºé˜»å¡çŠ¶æ€ã€‚</p><p id="c30e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å› ä¸ºè¿™æ¬¾åº”ç”¨å¯ä»¥ç¦»çº¿ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥åœ¨<a class="ae kf" href="https://apps.apple.com/us/app/tie-tracker/id1493399075" rel="noopener ugc nofollow" target="_blank">åº”ç”¨å•†åº—</a>å’Œ<a class="ae kf" href="https://play.google.com/store/apps/details?id=com.tietracker.app" rel="noopener ugc nofollow" target="_blank"> Google Play </a>ä¸­æ‰¾åˆ°ï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰é€šè¿‡CDNå¯¼å…¥æ‰€éœ€çš„å·¥äººä¾èµ–é¡¹ï¼Œè€Œæ˜¯åœ¨æœ¬åœ°å¯¼å…¥ã€‚</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="6845" class="ln lo it lj b gy lp lq l lr ls">importScripts('./a-third-party-library.min.js');</span></pre><p id="5b79" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¯¥åº”ç”¨ç¨‹åºæœ¬èº«æ˜¯ç”¨<a class="ae kf" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>å¼€å‘çš„ï¼Œä½†æ˜¯æˆ‘ç”¨æ™®é€šçš„JavaScriptå®ç°äº†å·¥äººï¼Œå¹¶ä¸”æ²¡æœ‰åŒ…ç®¡ç†å™¨æ¥å¤„ç†ä»–ä»¬çš„ä¾èµ–å…³ç³»ã€‚</p><p id="07f7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å› æ­¤ï¼Œæˆ‘å¿…é¡»ç”¨ä¸€ä¸ª<a class="ae kf" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>è„šæœ¬æ¥æ›´æ–°åº“ğŸ˜‡ã€‚</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="bc4d" class="ma lo it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">èŠ‚ç‚¹è·å–</h1><p id="2370" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">Node.jsä¸­æ²¡æœ‰ç±»ä¼¼çš„APIï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªè½»é‡çº§æ¨¡å—å¸¦æ¥äº†è¿™æ ·çš„åŠŸèƒ½ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä½¿ç”¨<a class="ae kf" href="https://github.com/node-fetch/node-fetch" rel="noopener ugc nofollow" target="_blank">èŠ‚ç‚¹è·å–</a>æ¥å®ç°æ–‡ä»¶çš„ä¸‹è½½ã€‚</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="9223" class="ln lo it lj b gy lp lq l lr ls">npm i node-fetch --save-dev</span></pre></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="6c03" class="ma lo it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">è„šæœ¬</h1><p id="4fb4" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">æˆ‘å¼€å‘çš„ç”¨äºæ›´æ–°ä¾èµ–é¡¹çš„è„šæœ¬å¦‚ä¸‹:</p><pre class="le lf lg lh gt li lj lk ll aw lm bi"><span id="4c7d" class="ln lo it lj b gy lp lq l lr ls">const {createWriteStream} = require('fs');<br/>const {pipeline} = require('stream');<br/>const {promisify} = require('util');<br/>const fetch = require('node-fetch');<br/><br/>const download = async ({url, path}) =&gt; {<br/>  const streamPipeline = promisify(pipeline);<br/><br/>  const response = await fetch(url);<br/><br/>  if (!response.ok) {<br/>    throw new Error(`unexpected response ${response.statusText}`);<br/>  }<br/><br/>  await streamPipeline(response.body, createWriteStream(path));<br/>};<br/><br/>(async () =&gt; {<br/>  try {<br/>    await download({<br/>      url: 'https://unpkg.com/...@latest/....min.js',<br/>      path: './public/workers/libs/....min.js',<br/>    });<br/>  } catch (err) {<br/>    console.error(err);<br/>  }<br/>})();</span></pre><p id="5a26" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸Šé¢çš„<code class="fe nc nd ne lj b">download</code>å‡½æ•°ä½¿ç”¨æµç®¡é“ä¸‹è½½æ–‡ä»¶ï¼Œå¦‚node-fetch READMEä¸­æ‰€ç¤ºï¼Œå¹¶ä½¿ç”¨å†…ç½®çš„<code class="fe nc nd ne lj b">fs</code>æ¨¡å—å°†è¾“å‡ºå†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚</p><p id="ab64" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä»Node.js v14.8.0å¼€å§‹å¯ä»¥ä½¿ç”¨é¡¶çº§Awaitï¼Œä½†æ˜¯æˆ‘ä½¿ç”¨äº†immediateå‡½æ•°ï¼Œå› ä¸ºæˆ‘å°†å®ƒé›†æˆåˆ°äº†ä¸€ä¸ªé“¾ä¸­ï¼Œè€Œåœ¨è¿™ä¸ªé“¾ä¸­å®ƒè¿˜ä¸å¯ç”¨ã€‚</p><p id="70df" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å°±è¿™æ ·ï¼ŒğŸ¥³</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="4aff" class="ma lo it bd mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw bi translated">ç»§ç»­é˜…è¯»</h1><p id="0869" class="pw-post-body-paragraph kg kh it ki b kj mx kl km kn my kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºReactå’ŒWeb Workersçš„å†…å®¹ï¼Œæˆ‘å»å¹´è¿ç»­å‘è¡¨äº†ä¸‰ç¯‡å…³äºå®ƒçš„åšæ–‡ğŸ˜‰ã€‚</p><ul class=""><li id="298f" class="nf ng it ki b kj kk kn ko kr nh kv ni kz nj ld nk nl nm nn bi translated"><a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/react-and-web-workers-c9b60b4b6ae8">ååº”è¿‡æ¥çš„è¿˜æœ‰Webå·¥ä½œäººå‘˜</a></li><li id="03d4" class="nf ng it ki b kj no kn np kr nq kv nr kz ns ld nk nl nm nn bi translated"><a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/react-web-workers-and-indexeddb-a973797e771b"> Reactï¼ŒWeb Workersï¼Œå’ŒIndexedDB </a></li><li id="4b26" class="nf ng it ki b kj no kn np kr nq kv nr kz ns ld nk nl nm nn bi translated"><a class="ae kf" rel="noopener ugc nofollow" target="_blank" href="/react-web-workers-indexeddb-and-exceljs-2439ff1341ff"> Reactï¼ŒWeb Workersï¼ŒIndexedDBå’ŒExcelJS </a></li></ul><p id="591a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ°æ— é™å’Œæ›´è¿œçš„åœ°æ–¹ï¼</p><p id="260a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¤§å«</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="0b23" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½ å¯ä»¥é€šè¿‡<a class="ae kf" href="https://twitter.com/daviddalbusco" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a>æˆ–è€…æˆ‘çš„<a class="ae kf" href="https://daviddalbusco.com/" rel="noopener ugc nofollow" target="_blank">ç½‘ç«™</a>è”ç³»æˆ‘ã€‚</p><p id="cd52" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¯•ç€ä¸ºä½ çš„ä¸‹ä¸€ä¸ªæ¼”ç¤ºåšå‡†å¤‡ğŸ¤Ÿã€‚</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><a href="https://deckdeckgo.com"><div class="gh gi nt"><img src="../Images/4a4e6a18dc5c0a659736147c9321ab22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sTPYUb1G9nsDrCD4.png"/></div></a><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">DeckDeckGoâ€”â€”ç”¨äºæ¼”ç¤ºçš„å¼€æºwebç¼–è¾‘å™¨</figcaption></figure></div></div>    
</body>
</html>