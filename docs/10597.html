<html>
<head>
<title>Useful Docker Commands for Software Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对软件开发人员有用的Docker命令</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/useful-docker-commands-for-software-developers-bc4d433b51dc?source=collection_archive---------4-----------------------#2021-12-24">https://levelup.gitconnected.com/useful-docker-commands-for-software-developers-bc4d433b51dc?source=collection_archive---------4-----------------------#2021-12-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="262f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">每个开发者都应该知道的最有用的Docker命令</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0c90ab5266c88f507ed493b4d4cd418b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sm8Mc94zVdG4ljf0AvanXQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">卡尔·帕夫洛维奇在<a class="ae kv" href="https://unsplash.com/s/photos/software-development?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的照片</figcaption></figure><p id="0a99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.docker.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Docker </strong> </a>可以被认为是一种技术或工具，它被设计成使用一个或多个容器来创建、部署和运行应用程序。简而言之，我们可以说Docker是一个用于封装应用程序的工具。当你在做一个与Kubernetes相关的项目时，Docker可以被用作一个容器运行时工具，这意味着Docker可以帮助你处理Kubernetes项目中的容器。</p><p id="38fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在这篇文章中，我将讨论最有用的docker命令，它们可以帮助您完成DevOps项目。让我们从在你的电脑上安装docker开始。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="e9f6" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">安装Docker</h1><p id="18dd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Docker为您提供了一个单独的Docker桌面软件，您可以将其安装在Mac、Windows或Linux操作系统上。你可以根据你的操作系统在这里下载docker桌面<a class="ae kv" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"/></a><strong class="ky ir"/>，这个动作会在你的本地机器上安装一个docker客户端，帮助你连接Docker服务器。一旦你完成了docker的下载和安装，你就可以启动docker桌面，在你的终端上使用下面的命令来验证docker是否在你的电脑上正常工作。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="1d83" class="nb ma iq mx b gy nc nd l ne nf">$ docker version</span><span id="299e" class="nb ma iq mx b gy ng nd l ne nf">OR</span><span id="003c" class="nb ma iq mx b gy ng nd l ne nf">$ docker -v</span></pre><p id="9f8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你得到一个成功的输出，docker可以在你的计算机内部使用而不会导致错误。接下来，让我们试着在你的电脑里运行一个docker镜像。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="782e" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">运行预建的docker映像。</h1><p id="53bd" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">基本上，Docker图像被认为是用于创建Docker容器的模板。你可以从docker Hub<a class="ae kv" href="https://hub.docker.com/search?q=&amp;type=image" rel="noopener ugc nofollow" target="_blank">中找到Docker的官方图片，在你的终端上运行一个命令，你就可以在你的电脑中部署一个Docker容器。因此，Docker容器可以被标识为Docker映像的运行实例。</a></p><p id="2f6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看一个例子。</p><p id="1e8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://hub.docker.com/_/alpine" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Alpine </strong> </a>是一个最小的Docker映像，您可以在Docker Hub上找到，通过在您的终端上运行下面的命令，您可以将Alpine docker映像从Docker Hub拖到您的本地计算机上。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="03ed" class="nb ma iq mx b gy nc nd l ne nf">$ docker pull alpine</span></pre><p id="e016" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实际上，这是您可以尝试的基本命令，该命令总是获取最新版本的映像。但是您可以通过更改docker图像的标签来定制docker容器，如下所示。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="86bd" class="nb ma iq mx b gy nc nd l ne nf">$ docker pull alpine:3.12.3</span></pre><p id="454a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，您可以使用<code class="fe nh ni nj mx b">docker run</code>命令从该特定映像运行docker容器。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="64bf" class="nb ma iq mx b gy nc nd l ne nf">$ docker run alpine:3.12.3</span><span id="6a52" class="nb ma iq mx b gy ng nd l ne nf">// This command deploys a docker container inside your computer and then immediately stops the container since it has no command to run.</span><span id="dc19" class="nb ma iq mx b gy ng nd l ne nf">[ We can use the <em class="nk">-it</em> flag in <em class="nk">docker run</em> command to get an interactive shell of the container. To go out of the shell, type <em class="nk">exit in the shell]</em></span><span id="8461" class="nb ma iq mx b gy ng nd l ne nf"><em class="nk">ex: </em>docker run -it alpine:3.12.3</span></pre><p id="4c12" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="nk">您可以不使用</em> <code class="fe nh ni nj mx b"><em class="nk">docker pull</em></code> <em class="nk">和</em> <code class="fe nh ni nj mx b"><em class="nk">docker run</em></code> <em class="nk">命令在计算机内部部署容器，而是直接使用带有镜像名称的</em> <code class="fe nh ni nj mx b"><em class="nk">docker run</em></code> <em class="nk">命令，它将在计算机内部部署容器。【例:</em> <strong class="ky ir"> <em class="nk">码头工人跑高山</em></strong><em class="nk"/></p><p id="2998" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们试试另一个例子。</p><p id="f6a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://hub.docker.com/_/node" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">节点</strong> </a>在docker Hub上也有一个官方的Docker映像，我们不用运行默认命令，而是用一个轻量级标签定制它，如下所示。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="771a" class="nb ma iq mx b gy nc nd l ne nf">$ docker pull node:10.23-alpine</span></pre><p id="3451" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个版本的节点是使用<a class="ae kv" href="https://github.com/nodejs/docker-node/blob/c2604466d06ba562fd9040d18c57af16545c6a5b/10/alpine3.11/Dockerfile" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">alpine:3.11</strong></a>docker镜像构建的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/28de7c4e1409206463c1af46693faada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m132YPiO8LRQ5LMH"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">Docker Hub网站截图|来源:<a class="ae kv" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com</a></figcaption></figure><p id="0361" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，您可以尝试从docker Hub运行不同的Docker映像，或者为您的项目创建自己的Docker映像。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d23f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">创建您自己的docker图像。</h1><p id="9cdb" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">Docker图像可以使用docker文件创建，这些是特殊的YAML文件。让我们看看下面的例子。</p><pre class="kg kh ki kj gt mw mx nm bn nn no bi"><span id="1653" class="np ma iq mx b be nq nr l ns nf">FROM node:10.23-alpine<br/><br/>WORKDIR /usr/src/app<br/><br/>COPY package*.json ./<br/><br/>RUN npm install<br/><br/>COPY . .<br/><br/>EXPOSE 8080<br/><br/>CMD ["node", "app.js"]</span></pre><p id="daec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用任何文本编辑器来创建这种类型的配置文件。但是文件名必须是<strong class="ky ir"> Dockerfile </strong>。一旦你的docker文件准备好了，你可以使用<code class="fe nh ni nj mx b">docker build</code>命令创建docker镜像。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="ec0f" class="nb ma iq mx b gy nc nd l ne nf">$ docker build . -t my-node-app</span><span id="8810" class="nb ma iq mx b gy ng nd l ne nf">//</span><span id="a5c0" class="nb ma iq mx b gy ng nd l ne nf"><strong class="mx ir"><em class="nk">.</em></strong> indicates that the Dockerfile is in the current directory</span><span id="d244" class="nb ma iq mx b gy ng nd l ne nf"><strong class="mx ir"><em class="nk">-t</em></strong> helps you to tag you image name</span><span id="acf6" class="nb ma iq mx b gy ng nd l ne nf"><strong class="mx ir"><em class="nk">my-node-app </em></strong>will be the name of your docker image [name:tag format]</span></pre><p id="48f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，您可以使用<code class="fe nh ni nj mx b">docker run</code>命令从您的docker映像部署一个容器，就像我们在上一步<strong class="ky ir"> <em class="nk">【例如:docker run my-node-app】</em></strong>中所做的那样。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="db62" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">一些重要的docker命令</h1><ul class=""><li id="ef0e" class="nt nu iq ky b kz mr lc ms lf nv lj nw ln nx lr ny nz oa ob bi translated"><code class="fe nh ni nj mx b">docker help</code>或<code class="fe nh ni nj mx b">docker — help</code></li></ul><p id="9352" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该命令输出可以与docker命令一起运行的可用选项和标志。当你不知道一个特定的命令时，你可以简单地为你现有的命令添加<code class="fe nh ni nj mx b">-- help</code>标志，你可以得到命令<strong class="ky ir"> <em class="nk">【例如:docker run—help】</em></strong>的可用选项和建议。</p><ul class=""><li id="56d5" class="nt nu iq ky b kz la lc ld lf oc lj od ln oe lr ny nz oa ob bi translated">这将列出你电脑中所有可用的docker图片。</li><li id="5772" class="nt nu iq ky b kz of lc og lf oh lj oi ln oj lr ny nz oa ob bi translated"><code class="fe nh ni nj mx b">docker ps</code>-这可以让你查看此时你的电脑里有哪些正在运行的容器。</li><li id="c91f" class="nt nu iq ky b kz of lc og lf oh lj oi ln oj lr ny nz oa ob bi translated"><code class="fe nh ni nj mx b">docker ps -a</code>-一旦一个集装箱停止处理，你将不会在docker ps列表上看到它。此时，您可以使用<code class="fe nh ni nj mx b">docker ps -a</code>命令列出您计算机中的所有容器，这将输出两个正在运行的&amp;停止的容器。</li><li id="2b97" class="nt nu iq ky b kz of lc og lf oh lj oi ln oj lr ny nz oa ob bi translated"><code class="fe nh ni nj mx b">docker start</code>-这允许您使用容器id <strong class="ky ir"> <em class="nk">【例如:码头工人开始&lt;容器id&gt;</em></strong>】重新启动前一个容器。</li><li id="7db6" class="nt nu iq ky b kz of lc og lf oh lj oi ln oj lr ny nz oa ob bi translated"><code class="fe nh ni nj mx b">docker stop</code>-当你需要停止一个容器的过程时，你可以使用这个带有容器ID <strong class="ky ir"> <em class="nk">的命令【例如:docker stop&lt;container-ID&gt;</em></strong>。</li><li id="26ff" class="nt nu iq ky b kz of lc og lf oh lj oi ln oj lr ny nz oa ob bi translated"><code class="fe nh ni nj mx b">docker rm</code>-这个命令帮助你从你的电脑<strong class="ky ir"> <em class="nk">【例如:docker RM&lt;container-id&gt;&lt;container-id&gt;</em></strong>】中移除一个或多个容器。</li><li id="a244" class="nt nu iq ky b kz of lc og lf oh lj oi ln oj lr ny nz oa ob bi translated"><code class="fe nh ni nj mx b">docker rmi</code>-该命令帮助您从计算机<strong class="ky ir"> <em class="nk">【例如:docker RMI&lt;image-name:tag&gt;或&lt;image-id&gt;</em></strong>】中删除一个或多个docker图像。</li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="cd45" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">执行到docker容器中</h1><p id="5862" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在容器中执行或者为容器获取一个执行shell是docker的一个非常有用的特性。有时你需要进入容器内部，检查它的细节和属性，这个特性会给你很大的帮助。您可以使用如下的<code class="fe nh ni nj mx b">docker exec</code>命令。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="394d" class="nb ma iq mx b gy nc nd l ne nf">$ docker exec -it &lt;container-id&gt; sh</span><span id="e940" class="nb ma iq mx b gy ng nd l ne nf">// this command only works when your container has a running status</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="0efc" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">检查正在运行的容器的本地端口</h1><p id="80ad" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">通常，具有web界面的应用程序通常运行在端口80或443上。同样，在Docker上运行的应用程序中，您可以定义一个/多个端口，并在<code class="fe nh ni nj mx b">docker run</code>命令中公开它们。</p><p id="5e30" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在之前的步骤中，我们有<code class="fe nh ni nj mx b">Dockerfile</code>，您可以看到一个<strong class="ky ir"> EXPOSE 8080 </strong>字段，它表示我们的应用程序应该运行的特定端口。在<code class="fe nh ni nj mx b">docker run</code>命令中，我们可以将其与本地端口绑定，如下所示。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="e8d4" class="nb ma iq mx b gy nc nd l ne nf">$ docker run -p 5000:8080 --name c1 my-node-app</span></pre><p id="ee2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与上面的命令一样，我们可以将本地端口5000绑定到应用程序端口8080。使用<code class="fe nh ni nj mx b">docker port</code>命令，我们可以识别绑定到特定docker容器的本地端口。</p><pre class="kg kh ki kj gt mw mx my mz aw na bi"><span id="615d" class="nb ma iq mx b gy nc nd l ne nf">$ docker port &lt;container-id&gt;</span></pre></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="2399" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="b079" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated"><strong class="ky ir">恭喜你！</strong>你已经成功地讲述了最有用的docker命令，这些命令可以帮助每一个希望开始DevOps项目的开发人员。</p><p id="e605" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读。我希望本文中的信息对您有用。如果您有任何问题或反馈，请不要犹豫，在下面留下回复，以便我可以回复您。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="d445" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">资源</h1><ul class=""><li id="62be" class="nt nu iq ky b kz mr lc ms lf nv lj nw ln nx lr ny nz oa ob bi translated"><a class="ae kv" href="https://docs.docker.com/" rel="noopener ugc nofollow" target="_blank"> Docker文档</a></li><li id="690e" class="nt nu iq ky b kz of lc og lf oh lj oi ln oj lr ny nz oa ob bi translated"><a class="ae kv" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank"> Docker桌面</a></li><li id="db4e" class="nt nu iq ky b kz of lc og lf oh lj oi ln oj lr ny nz oa ob bi translated"><a class="ae kv" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank">码头枢纽</a></li></ul></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="091d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>