<html>
<head>
<title>Refining and Stress Testing my Firing Algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">改进和压力测试我的点火算法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/refining-and-stress-testing-my-firing-algorithm-a5bbc2e02321?source=collection_archive---------7-----------------------#2021-09-03">https://levelup.gitconnected.com/refining-and-stress-testing-my-firing-algorithm-a5bbc2e02321?source=collection_archive---------7-----------------------#2021-09-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/ddd6f0a9b92b8827b2d519c79856d19a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VMfjNNbgeycjk8elKWMMyw.gif"/></div></div></figure><div class=""/><p id="8d97" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在我的上一篇文章中，我创建了一个发射机制，它接收指定数量的射弹，并围绕360度旋转均匀地实例化它们。我写这篇文章的<strong class="kd jf">目标</strong>是真的试驾一下！</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi kz"><img src="../Images/86eb50fc1689a5d9e90dc92f092c01c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mnAyksz2XhHCWQV3N8p0GQ.png"/></div></div></figure><p id="5d66" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">更多关于数学是如何工作的。<a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/creating-new-enemy-types-the-porcupine-blowfish-part-3-firing-projectiles-in-perfect-rotation-e1a1755093b4">https://level up . git connected . com/creating-new-enemy-types-the-porcupine-blowfish-part-3-fireing-projections-in-perfect-rotation-e1a 1755093 B4</a></p><p id="3c1c" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">虽然上面的代码运行得很好，但我在我的更短更精简的版本上遇到了输出问题。我失去了360度旋转的一个百分比，在发射圈的末端有一个明显的缺口。在我妻子捣鼓了一些高级数字来测试我的算法<em class="lf">(谢谢！！！)</em>，她向我保证这是可行的，所以我这边在Visual Studio中肯定发生了什么事情。</p><p id="257d" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">算法<em class="lf">将</em> <strong class="kd jf">整数</strong>数值<em class="lf">(整数)</em>相除，所以我<em class="lf">将这些数值作为<strong class="kd jf">浮点</strong>数值进行转换，以保持小数点后的<em class="lf">小数</em>数值，这一点非常重要。我的旋转<em class="lf">变量</em>是一个<strong class="kd jf">浮点</strong>值，我需要这些值来<strong class="kd jf">匹配</strong>。我以为我把值正确地转换成了一个浮点数</em>，但是经过进一步的检查……我在括号的错误一侧输入了浮点数。用户错误！最后，某处的余数被舍入到最接近的整数，我丢失了确保正确旋转所需的数据。</p><p id="0c82" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在正确地<em class="lf">转换</em>后，我的<strong class="kd jf">浮点</strong>值保留所需的十进制值以获得正确的旋转，我发现压缩算法工作得非常好！</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lg"><img src="../Images/c9230e45a064ba75e5830727dc1cc411.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qwbyPdyi4QeJSDSwvmaGoQ.png"/></div></div></figure><p id="eca7" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里是<strong class="kd jf">最终算法</strong>，带有描述性变量名。请随意在您的游戏中尝试，并让我知道它是如何工作的！</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lh"><img src="../Images/faeff231d8a6eb701acdde3b7dc63799.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*78S7g15P9lcTH-bb_kaSsg.png"/></div></div></figure></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><p id="012b" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我不满足于停留在那里，所以我决定修补一下，看看这个东西能做什么！我喂它的<em class="lf">弹丸越多，<em class="lf">旋转的角度就会越小。我从来没有测试过超过60度的东西，所以我决定在实例化一个大于我的最大旋转角度<em class="lf">(360)</em><em class="lf">的投射量时，看看这个转换是否成立。</em></em></em></p><p id="fdfb" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">俗话说，<em class="lf">“不做大就回家”</em>。首先，每当我按下<em class="lf">空格键</em>时，我会发射431到753之间的<em class="lf">随机数量的炮弹。</em></p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/7df2aac61843c9f3d1ea0e718e0e9490.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*Rvk5t8q2TY7zTeWWKtn6kw.png"/></div></figure><p id="2967" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">投射实例化之前的延迟不是视频捕获错误。这是我的笔记本电脑暂时挂起，而for循环遍历数百个独立的抛射体旋转。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lq"><img src="../Images/374e0f97de551768c27f71d8287439a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hG5ZUhU-knFCkP0VcE72Ig.gif"/></div></div></figure><p id="0ad4" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">好吧，让我们退后一点，看看滞后在哪里下降。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/fad54949d7f34845189e4cf711c6a6d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*pkh-wDlB4TFKgNrOBE7Vzg.png"/></div></figure><p id="b341" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们试试200到300发炮弹。感觉很光滑，我决定真的让独角鲸拥有它！</p></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><p id="9b2c" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">警告:接下来的两个视频有点花哨，我不确定这是否会引发癫痫或其他不良反应。</p></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ls"><img src="../Images/612fc42e989d51bf586a0bedbdc5d3b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jwC5sPMjqG1O4sAdtCmv-Q.gif"/></div></div></figure><p id="6a94" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我准备开心的时候，感觉还是有点滞后。让我们看看100-200的范围是什么样的。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/a2a1b1be3e1f645e94392f9fdc2a3618.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*szgkboHvS-gsEhR0YqXDNQ.png"/></div></figure><p id="1ac0" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这款手机感觉很流畅，处理数字时没有任何障碍。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lq"><img src="../Images/a6795dcd13c3390260c90d8e6eb8c66d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*EHxgcSnnJudq3NDV-ZGN_g.gif"/></div></div></figure><p id="e7fd" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们把它拨回给我出问题的原始设置。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/8ef27a1db09313a8477ecbb4d6480c89.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*VQWk_Ssa-dsmdMELEWgZgw.png"/></div></figure><p id="ae8b" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我看不错！危险，但坚实的旋转。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/f28b3c7506fdda69e43738e7e65a3299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Ttbsg-9dCBXfvRXU3rhxog.gif"/></div></div></figure><p id="64d0" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我将在实际游戏中使用这些值。这样，发射的炮弹不会超过8枚。这些值也可以序列化为变量，设计者可以根据难度进行调整。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/bdbc0a1965e2a70c0c63cbd00cdbe826.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*d0VCPtMfI8AQaqYTLGZZLg.png"/></div></figure><p id="cb69" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是更合理的攻击。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lw"><img src="../Images/01be4b53d7370abce699281932cd39c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CsBbnh59Nj8pjFT_iwnmMA.gif"/></div></div></figure></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><p id="f7c2" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我的压力测试已经完成，我想测试最大旋转角度。到目前为止我只把360作为一个值。例如，如果我将该值更改为180，会发生什么？让我们找出答案。我引入一个<em class="lf">局部</em> <strong class="kd jf">浮动</strong> <em class="lf">变量</em>称为<strong class="kd jf"> maxDegreesOfRotation </strong>并<em class="lf">赋予</em>一个180的值。然后<em class="lf">将新变量</em>插入到<em class="lf">等式</em>中原来是360°的地方。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lx"><img src="../Images/d0690d421aa301158bdb4c1dc1a0cc95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPB6jxNvmBEDCiJKlZlNMA.png"/></div></div></figure><p id="b622" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如你所见，它确实可以工作，但是看起来不对称。最终的抛射体没有完美地向下移动<em class="lf"/>，所以我需要算法中的额外步骤来使这个180°值对称。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lq"><img src="../Images/1c86ae4f8c43816d9ff53ce768f83a88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gIli-ZSp3TDyGZS25GFkCA.gif"/></div></div></figure><p id="dbd4" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你想把它转到另一个方向发射呢？只是在算法的末尾加一个值。这里我给每个抛射体加了90度。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ly"><img src="../Images/9c3ed2c02544be2db7a7e21ded9f7ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ayf8I-oRuVQgyWalNeiBdQ.png"/></div></div></figure><p id="545a" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在整波射弹向下发射而不是向侧面发射！</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lz"><img src="../Images/1cf159f72ae9237aadf144582f438b2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IHnBBAp1JT3WYae66AifXg.gif"/></div></div></figure><p id="bb46" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">嗯，我很乐意继续下一步，完成这个新的敌人类型。感谢阅读！</p></div></div>    
</body>
</html>