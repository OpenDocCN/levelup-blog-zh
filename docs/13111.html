<html>
<head>
<title>A Complete Guide to How the CSS :not() Selector Works</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS :not()选择器如何工作的完整指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/a-complete-guide-to-how-the-css-not-selector-works-7aadb48a1df7?source=collection_archive---------15-----------------------#2022-08-07">https://levelup.gitconnected.com/a-complete-guide-to-how-the-css-not-selector-works-7aadb48a1df7?source=collection_archive---------15-----------------------#2022-08-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b058f0fea195c7b24b595a4b000fbdbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WkLYvH5QXIt9zved8xm61Q.png"/></div></div></figure><h1 id="642d" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">CSS非选择器</h1><p id="c307" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">CSS <code class="fe lx ly lz ma b">:not()</code>选择器被大多数浏览器广泛支持。它的工作方式是，我们创建一个选择器，然后指定它应该<strong class="lb iu">而不是</strong>是什么。例如，假设您有以下HTML:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="4c08" class="mj kc it ma b gy mk ml l mm mn">&lt;div class="not-red"&gt;Not Red&lt;/div&gt;<br/>&lt;div class="not-red"&gt;Not Red&lt;/div&gt;<br/>&lt;div&gt;Red&lt;/div&gt;<br/>&lt;div&gt;Red&lt;/div&gt;</span></pre><p id="797b" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">我们这里有一堆<code class="fe lx ly lz ma b">div</code>的，有些不应该是红色的。如果我们希望页面上所有的<code class="fe lx ly lz ma b">div</code>都是红色的，除了<code class="fe lx ly lz ma b">.not-red</code>元素，我们可以使用<code class="fe lx ly lz ma b">:not(.not-red)</code>来确保它们保持红色:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="d143" class="mj kc it ma b gy mk ml l mm mn">div:not(.not-red) {<br/>    color: red;<br/>}</span></pre><p id="2b4f" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">这是另一个例子。默认情况下，所有元素都将使用Arial字体，除了<code class="fe lx ly lz ma b">.old-fashioned</code>元素:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="973c" class="mj kc it ma b gy mk ml l mm mn">&lt;div class="old-fashioned"&gt;Old Fashioned Text&lt;/div&gt;<br/>&lt;div&gt;Some Text&lt;/div&gt;</span></pre><p id="ac6f" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">在我们的CSS中，只有非<code class="fe lx ly lz ma b">.old-fashioned</code>元素使用Arial字体，如下所示:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="ef00" class="mj kc it ma b gy mk ml l mm mn">div:not(.old-fashioned) {<br/>    font-family: Arial, sans-serif;<br/>}</span></pre><h1 id="be91" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">CSS而不是选择器增加了特异性</h1><p id="eb99" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">您可能对CSS中的特异性概念很熟悉，即某些选择器“覆盖”其他选择器。例如，<code class="fe lx ly lz ma b">class</code>比<code class="fe lx ly lz ma b">id</code>具有更低的特异性，因此任何<code class="fe lx ly lz ma b">id</code> CSS属性都将覆盖同一元素上的<code class="fe lx ly lz ma b">class</code>属性。</p><p id="555e" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated"><code class="fe lx ly lz ma b">:not</code>选择器也会影响特异性。例如，如果您的代码中有<code class="fe lx ly lz ma b">div:not(#id)</code>，它仍然将<strong class="lb iu">算作有<code class="fe lx ly lz ma b">id</code>的</strong>，所以特异性增加，就好像它有<code class="fe lx ly lz ma b">id</code>一样。使用<code class="fe lx ly lz ma b">:not()</code>时记住这一点很有用</p><h1 id="81f2" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">CSS not选择器和DOM结构</h1><p id="1b62" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">关于<code class="fe lx ly lz ma b">:not()</code>的一个令人困惑的事情是，当你试图用它来阻止样式应用于元素中的东西。例如，假设您有以下HTML:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="96dc" class="mj kc it ma b gy mk ml l mm mn">&lt;div class="container"&gt;<br/>    &lt;form&gt;<br/>        &lt;div class="input-element"&gt;<br/>            &lt;input type="text" /&gt;<br/>        &lt;/div&gt;<br/>    &lt;/form&gt;<br/>    &lt;div class="input-element"&gt;<br/>        &lt;input type="text" /&gt;<br/>    &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="0989" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">假设您想要将样式仅应用于不在<code class="fe lx ly lz ma b">form</code>元素内的<code class="fe lx ly lz ma b">input</code>元素。简单吧？您可以尝试以下方式:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="46de" class="mj kc it ma b gy mk ml l mm mn">div :not(form) input {<br/>    border: 2px solid red;<br/>}</span></pre><p id="938b" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">只有<strong class="lb iu">这样不行</strong>，原因是<code class="fe lx ly lz ma b">:not()</code>应用于每一级——我们将每个输入包装在<code class="fe lx ly lz ma b">.input-element</code>中。那就是说<code class="fe lx ly lz ma b">:not(form)</code>应用到<code class="fe lx ly lz ma b">.input-element</code>上，确实是，不是形式。所以两个<code class="fe lx ly lz ma b">input</code>元素都有红色边框。为了避免这种情况，您需要删除包装元素，并使输入成为表单的直接子元素:</p><pre class="mb mc md me gt mf ma mg mh aw mi bi"><span id="f015" class="mj kc it ma b gy mk ml l mm mn">&lt;div class="container"&gt;<br/>    &lt;form&gt;<br/>        &lt;input type="text" /&gt;<br/>    &lt;/form&gt;<br/>    &lt;input type="text" /&gt;<br/>&lt;/div&gt;</span></pre><p id="9770" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">这样表单中的输入，将不会从<code class="fe lx ly lz ma b">div :not(form) input</code>中继承样式。</p><h1 id="fe65" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">CSS不支持选择器</h1><p id="2319" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated"><strong class="lb iu">需要注意的是</strong>有两个版本的<code class="fe lx ly lz ma b">:not()</code>选择器——一个只接受一个简单的CSS选择器，而更新的<code class="fe lx ly lz ma b">:not()</code>可以接受任何CSS选择器。</p><p id="7a3d" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">所有的浏览器都支持单一简单的选择器，就像我们目前使用的一样，包括ie浏览器。然而，并不是所有的浏览器都支持复杂的选择器。使用<code class="fe lx ly lz ma b">:not</code>中的简单选择器，您可以完成以下所有操作:</p><ul class=""><li id="e298" class="mt mu it lb b lc mo lg mp lk mv lo mw ls mx lw my mz na nb bi translated"><code class="fe lx ly lz ma b">:not(#id)</code></li><li id="f6fa" class="mt mu it lb b lc nc lg nd lk ne lo nf ls ng lw my mz na nb bi translated"><code class="fe lx ly lz ma b">:not(.class)</code></li><li id="d3e8" class="mt mu it lb b lc nc lg nd lk ne lo nf ls ng lw my mz na nb bi translated"><code class="fe lx ly lz ma b">:not(element)</code></li><li id="490f" class="mt mu it lb b lc nc lg nd lk ne lo nf ls ng lw my mz na nb bi translated"><code class="fe lx ly lz ma b">:not([attrbute])</code></li></ul><p id="d33b" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">然而，类似下面的东西只有复杂的选择器才有:</p><ul class=""><li id="e4c8" class="mt mu it lb b lc mo lg mp lk mv lo mw ls mx lw my mz na nb bi translated"><code class="fe lx ly lz ma b">:not(#id, .class, [attribute])</code></li><li id="99d1" class="mt mu it lb b lc nc lg nd lk ne lo nf ls ng lw my mz na nb bi translated"><code class="fe lx ly lz ma b">:not(#id.class)</code></li><li id="e66d" class="mt mu it lb b lc nc lg nd lk ne lo nf ls ng lw my mz na nb bi translated"><code class="fe lx ly lz ma b">:not(element#id, #id.class)</code></li></ul><p id="4739" class="pw-post-body-paragraph kz la it lb b lc mo le lf lg mp li lj lk mq lm ln lo mr lq lr ls ms lu lv lw im bi translated">幸运的是，对复杂选择器的支持仍然很高。目前唯一不支持复杂选择器的浏览器是Internet Explorer和一些移动浏览器:</p><figure class="mb mc md me gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/c991020c4196f8b74b1ad43a533a1afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Jor0MV0BDizWVPZi.jpg"/></div></div></figure></div></div>    
</body>
</html>