<html>
<head>
<title>Traps of ctrl + c ctrl + v programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ctrl + c ctrl + v编程的陷阱</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/traps-of-ctrl-c-ctrl-v-programming-a075700c79af?source=collection_archive---------24-----------------------#2021-12-19">https://levelup.gitconnected.com/traps-of-ctrl-c-ctrl-v-programming-a075700c79af?source=collection_archive---------24-----------------------#2021-12-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><blockquote class="jq"><p id="e37d" class="jr js it bd jt ju jv jw jx jy jz ka dk translated">如果你在编码时使用复制和粘贴，你可能会犯设计错误。</p><p id="6218" class="jr js it bd jt ju kb kc kd ke kf ka dk translated">大卫·帕纳斯</p></blockquote><p id="d5c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ka im bi translated">当你为软件写代码时，你使用ctrl + c(复制)和ctrl + v(粘贴)的频率有多高？—我先来。我做过很多。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi ld"><img src="../Images/a7f28500170b026f0d2d326bbafcb24d.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*dSu_zCFjqJJDkuXuaFsFGw.jpeg"/></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk translated">复制粘贴编程</figcaption></figure><p id="4f62" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated">对于手头的问题，这可能是一个快速的解决方案，但是我通常认为这是一个反模式，并且伴随着各种长期的缺点。在这篇文章中，我将展示复制粘贴编程的一般意图，为什么它有时不好，以及如何避免它。</p><p id="067f" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated">复制粘贴编程的主要意图是尽早完成一些技术工作或者不做返工。有时可能是您自己陷入了编写代码的困境，或者您已经知道类似的代码存在于您的代码库中，或者您可以从中复制的任何地方。这听起来像是聪明的工作，但可能会以苦乐参半的经历告终。</p><h1 id="d76c" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">没有想到一个新的创新解决方案</h1><p id="ab22" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ka im bi translated">如果您正在复制的代码是几年前编写的，并且使用旧的做事方法，会怎么样？参考它，但是用创新的工具和技术来写你自己将会改善你的代码的状态，并且将帮助你保持代码简洁，更好的性能和可读性。</p><h1 id="8c7e" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">重复的代码，重复的测试，大量的维护工作</h1><p id="6a82" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ka im bi translated">在多个地方复制粘贴代码会产生重复的代码，如果你相信并为你的代码编写测试，你知道会发生什么。您需要为复制粘贴的重复代码编写重复的测试。此外，维护成本也将随之飙升。对于相关代码的任何变更请求，必须在代码存在的地方完成。</p><blockquote class="mx my mz"><p id="ddf9" class="kg kh na ki b kj lp kl km kn lq kp kq nb lr kt ku nc ls kx ky nd lt lb lc ka im bi translated">“听说过干原则吗？—复制粘贴内容时，你会忽略这一点。”</p></blockquote><p id="c8df" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated">在所有引用中寻找重复的代码并不是一件有趣的工作，有时如果遗漏了，可能会有bug潜入。这也增加了技术债务，你甚至需要承担一个单独的项目，通过重构和重新设计你的代码来根除它们。</p><h1 id="f839" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">无与伦比的标准、原则和最佳实践</h1><p id="3631" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ka im bi translated">盲目地复制粘贴代码将会极大地导致<a class="ae ne" href="https://exceptionnotfound.net/spaghetti-code-the-daily-software-anti-pattern/" rel="noopener ugc nofollow" target="_blank">意大利面条式的代码</a>,这也推翻了你的团队制定的一些标准、原则和最佳实践。随着时间的推移，你的团队的身份将会丢失，它需要一个救世主来恢复你的信仰。</p><h1 id="9ba1" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">成为一名懒惰的程序员</h1><p id="cb76" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ka im bi translated">复制代码也会让你加入懒惰程序员的行列，你会成为一个不独立思考，总是寻找代码的人。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/d7d1612514224ed502d6c363d2a74942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*OC3wCMqCaIx2ZX-FVXB5FA.gif"/></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk translated">懒惰的程序员</figcaption></figure><p id="3d6e" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated">寻找一个解决方案一点也不坏，但是不理解它是如何和为什么工作的，或者不独立思考是有问题的。对于一个程序员来说，逻辑思维是拯救一栋着火的房子的最重要的技能。</p><h1 id="2ab3" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">庞大的项目</h1><p id="c9be" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ka im bi translated">您复制粘贴的次数越多，项目的大小就越大。大小可以是物理的也可以是逻辑的。从逻辑上讲，代码太多会影响可读性，你会厌倦在多个地方看到相同的代码。</p><h1 id="77cc" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">很难修复错误</h1><p id="13a4" class="pw-post-body-paragraph kg kh it ki b kj ms kl km kn mt kp kq kr mu kt ku kv mv kx ky kz mw lb lc ka im bi translated">你有一个超级严重的错误需要在接下来的几个小时内修复。你最不想要的是从某处粘贴的代码副本，但是没有人知道它是如何工作的。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/7adf1331b3ab0f24451662dc33c34eb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*SHoygkfcoBPyULOyd6pwsg.gif"/></div><figcaption class="ll lm gj gh gi ln lo bd b be z dk translated">修复bug很困难</figcaption></figure><blockquote class="mx my mz"><p id="1f11" class="kg kh na ki b kj lp kl km kn lq kp kq nb lr kt ku nc ls kx ky nd lt lb lc ka im bi translated">“通过复制粘贴，不要继承人家的问题”</p></blockquote><p id="0fc7" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated">您可能最终会完全重写代码并以最好的方式修复bug，或者花几个小时试图理解复制的代码并在此基础上提供修复。无论哪种方式，你必须确保你不是仅仅通过修复已报告的bug来引入新的bug。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="1441" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated">在你下次复制粘贴代码之前，我想留给你几个问题？</p><ol class=""><li id="1340" class="no np it ki b kj lp kn lq kr nq kv nr kz ns ka nt nu nv nw bi translated">我可以自己编写这段代码吗？或者我可以想出其他更好的创新解决方案吗？</li><li id="0fef" class="no np it ki b kj nx kn ny kr nz kv oa kz ob ka nt nu nv nw bi translated">如果代码已经存在于你的代码库中，你能重构它或者使用正确的设计模式使它通用化并重用代码吗？</li><li id="9939" class="no np it ki b kj nx kn ny kr nz kv oa kz ob ka nt nu nv nw bi translated">你有足够的时间测试代码重复的地方吗？</li><li id="b95d" class="no np it ki b kj nx kn ny kr nz kv oa kz ob ka nt nu nv nw bi translated">一个新的变更请求进来了，你需要在它被复制的地方进行变更。你能从你的产品经理那里购买多少时间来做这种疯狂的维护工作？</li></ol><p id="cf42" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated">我们都知道我们会在某个时候继续复制粘贴代码，但是承认这一点并考虑更好的选择会使情况好得多。你有什么复制粘贴代码的经验？—我很想听听你的想法！</p><p id="4a43" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated"><strong class="ki iu">参考文献:</strong></p><p id="a243" class="pw-post-body-paragraph kg kh it ki b kj lp kl km kn lq kp kq kr lr kt ku kv ls kx ky kz lt lb lc ka im bi translated">下面是一些关于重构和复制粘贴编程的优秀参考:</p><ol class=""><li id="a6aa" class="no np it ki b kj lp kn lq kr nq kv nr kz ns ka nt nu nv nw bi translated"><a class="ae ne" href="https://www.amazon.com/Refactoring-Improving-Design-Existing-Code/dp/0201485672" rel="noopener ugc nofollow" target="_blank">重构:改进现有代码的设计</a>书</li><li id="9dc9" class="no np it ki b kj nx kn ny kr nz kv oa kz ob ka nt nu nv nw bi translated"><a class="ae ne" href="https://refactoring.guru/refactoring" rel="noopener ugc nofollow" target="_blank">重构大师网站</a></li><li id="6d89" class="no np it ki b kj nx kn ny kr nz kv oa kz ob ka nt nu nv nw bi translated"><a class="ae ne" href="https://martinfowler.com/bliki/CannotMeasureProductivity.html" rel="noopener ugc nofollow" target="_blank">马丁·福勒关于复制粘贴编程的想法</a></li></ol></div></div>    
</body>
</html>