<html>
<head>
<title>How To Create a Web Application For Brain Training with React. Part I.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用React创建用于大脑训练的Web应用程序？第一部分。</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/web-application-for-a-brain-training-23dc567f0315?source=collection_archive---------6-----------------------#2022-03-11">https://levelup.gitconnected.com/web-application-for-a-brain-training-23dc567f0315?source=collection_archive---------6-----------------------#2022-03-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn"><p id="506d" class="jo jp iq bd jq jr js jt ju jv jw jx dk translated">我很久以前就开始研究这个了。这是给我母亲的，但她没怎么用，她去年因新冠肺炎去世了。但是我仍然希望我的工作能对许多人有所帮助。</p></blockquote><p id="5369" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku jx ij bi translated">先引用联合国文件:</p><blockquote class="kv kw kx"><p id="f30c" class="jy jz ky ka b kb kz kd ke kf la kh ki lb lc kl km ld le kp kq lf lg kt ku jx ij bi translated">根据<a class="ae lh" href="https://population.un.org/wpp/" rel="noopener ugc nofollow" target="_blank">世界人口前景:2019年修订版</a>的数据，到2050年，世界上六分之一的人将超过65岁(16%)，高于2019年的十一分之一(9%)。到2050年，生活在欧洲和北美的每四个人中就有一个人的年龄可能达到或超过65岁。2018年，全球65岁及以上人口首次超过五岁以下儿童。80岁或以上的人口数量预计将增加两倍，从2019年的1 . 43亿增至2050年的4 . 26亿。</p></blockquote><p id="bfc2" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">这对我们意味着什么？我们必须准备活得更长，工作更努力(因为可用的人力会更少，所以国家会从工人身上榨取每一分钱，让经济保持浮动)，并更频繁地目睹精神衰退的人。不幸的是，最后一个问题等待着我们所有人，但我们仍然可以做很多事情，至少阻止它的发展——健康饮食，定期锻炼和大脑训练。大脑训练可以以游戏的形式进行。游戏web应用！这就是我们来这里的原因，不是吗？</p><p id="ad47" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">让我们一步一步来，只实施一个练习。暂时如此。</p><figure class="li lj lk ll gt lm"><div class="bz fp l di"><div class="ln lo l"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">来源:<a class="ae lh" href="https://giphy.com/gifs/kochstrasse-hannover-agencylife-agenturleben-lxN6uqrkziktujpAnH" rel="noopener ugc nofollow" target="_blank">https://gi phy . com/gifs/Koch strasse-hannover-agency life-agenturleben-lxn 6 uqrkziktujpanh</a></figcaption></figure><h1 id="88a7" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">文字和颜色的游戏</h1><p id="1699" class="pw-post-body-paragraph jy jz iq ka b kb mr kd ke kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku jx ij bi translated">看下图。</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><a href="https://www.insider.com/game-shows-words-in-different-colors-stroop-effect-it-2019-7"><div class="gh gi mw"><img src="../Images/21ade4cc625ab9b3e7e1200a1bfebfba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYpWI300uJdxe45WhE4YmA.jpeg"/></div></a><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">单击以转到来源</figcaption></figure><p id="00d0" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">现在试着读出单词的<strong class="ka ir">颜色</strong>，而不是单词本身。尽量快一点。任务不容易，是吧？你在这里看到的被称为<a class="ae lh" href="https://en.wikipedia.org/wiki/Stroop_effect" rel="noopener ugc nofollow" target="_blank"> Stroop效应</a>。它主要用于各种测试和心理研究，但根据各种互联网来源，它也可以保持思维敏捷，减缓阿尔茨海默氏病的影响。无论如何，让我们用它创造一个游戏吧！</p><p id="7dca" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">那么，让我们言归正传——我们将如何做？通过在主要思想上增加四个关键点:</p><ol class=""><li id="a775" class="mz na iq ka b kb kz kf la kj nb kn nc kr nd jx ne nf ng nh bi translated">随意</li><li id="5ef7" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm jx ne nf ng nh bi translated">可配置性</li><li id="82df" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm jx ne nf ng nh bi translated">挑战</li><li id="61e2" class="mz na iq ka b kb ni kf nj kj nk kn nl kr nm jx ne nf ng nh bi translated">相互作用的</li></ol><p id="61c1" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">所以，这将是一个可玩的可定制的表格，有随机的单词和颜色，你需要读出所选单词的颜色，它会随着时间的推移而变化。所有其他的都是华而不实的。代码时间到了！</p><p id="4c6b" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">我将用typescript和语义UI React CSS框架在React中编写这个项目。当然，您可以自由使用任何工具、语言和框架。</p><p id="7095" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">首先，创建项目</p><pre class="li lj lk ll gt nn no np nq aw nr bi"><span id="43d6" class="ns lu iq no b gy nt nu l nv nw">npx create-react-app brain-train --template typescript</span></pre><p id="6d32" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">如果你允许的话，我不会描述每一个用过的包，因为这会把已经很无聊的文本变成不可读的东西。您可以在资源库的<strong class="ka ir"> package.json </strong>中查看所需包的列表。每个模块也是如此——<a class="ae lh" href="https://github.com/al3xsus/brain-train" rel="noopener ugc nofollow" target="_blank">你可以在GitHub </a>上看到完整的代码。</p><p id="03e4" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">这是我的调色板:</p><pre class="li lj lk ll gt nn no np nq aw nr bi"><span id="c003" class="ns lu iq no b gy nt nu l nv nw">const Palette = [<br/>    {<br/>        'name': 'red',<br/>        'code': '#ff0000'<br/>    },<br/>    {<br/>        'name': 'yellow',<br/>        'code': '#FFFF00'<br/>    },<br/>    {<br/>        'name': 'green',<br/>        'code': '#00ff00'<br/>    },<br/>    {<br/>        'name': 'blue',<br/>        'code': '#0000FF'<br/>    },<br/>    {<br/>        'name': 'black',<br/>        'code': "#000000"<br/>    }<br/>]</span></pre><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi nx"><img src="../Images/0056ce1c5cae7b5aabd62fac91ca1453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-sT0F5P6BUN1DdZasz1EYQ.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">调色板模式</figcaption></figure><p id="cd12" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">我用钩子构建了一切，所以这是我的“状态”:</p><pre class="li lj lk ll gt nn no np nq aw nr bi"><span id="1462" class="ns lu iq no b gy nt nu l nv nw">const [rowNum, setRowNum] = React.<em class="ky">useState</em>(4)<br/>const [colNum, setColNum] = React.<em class="ky">useState</em>(4)<br/>const [speed, setSpeed] = React.<em class="ky">useState</em>(0.5)<br/>const [tableData, setTableData] = React.<em class="ky">useState</em>&lt;any&gt;(null)<br/>const [direction, setDirection] = React.<em class="ky">useState</em>("start-to-end")<br/>const [activeCell, setActiveCell] = React.<em class="ky">useState</em>&lt;null | number&gt;(null)<br/>const [gameStatus, setGameStatus] = React.<em class="ky">useState</em>(false)</span></pre><p id="7c78" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated"><em class="ky"> rowNum和colNum是表格的行和列，speed是游戏速度，tableData是随机生成的表格数据，direction是游戏方向，activeCell是当前活动的单元格，gameStatus是播放/停止。我尽量让它保持明显，因为</em> <a class="ae lh" href="https://en.wikipedia.org/wiki/KISS_principle" rel="noopener ugc nofollow" target="_blank"> <em class="ky">接吻原则</em> </a> <em class="ky">是必备的东西。</em></p><p id="9820" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">我是这样为一个表生成随机数据的:</p><pre class="li lj lk ll gt nn no np nq aw nr bi"><span id="0771" class="ns lu iq no b gy nt nu l nv nw">const prepareData = () =&gt; {<br/>    let data: [number, number][][] = []<br/>    let word = 0<br/>    let color = 0<br/>    for (let i = 0; i &lt; rowNum; i++) {<br/>        let row: [number, number][] = []<br/>        for (let k = 0; k &lt; colNum; k++) {<br/>            word = Math.floor(Math.random() * Palette.length)<br/>            color = Math.floor(Math.random() * Palette.length)<br/>            row.push([word, color])<br/>        }<br/>        data.push(row)<br/>    }<br/>    return data<br/>}</span></pre><p id="6845" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated"><em class="ky">多维数组，由行和列组成，里面的每个</em> <strong class="ka ir"> <em class="ky">单元格</em> </strong> <em class="ky">由两个数字组成，一个代表颜色名称，一个代表颜色代码</em></p><p id="36c2" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">我是这样生成和填充表格的:</p><pre class="li lj lk ll gt nn no np nq aw nr bi"><span id="c62c" class="ns lu iq no b gy nt nu l nv nw">const generateTable = () =&gt; {<br/>    if (tableData) {<br/>        return tableData.map((row: [number, number][], rowIndex: number) =&gt; &lt;Table.Row key={`tr-key-${rowIndex}`}&gt;<br/>            {row.map((cell: [number, number], index: number) =&gt; {<br/>                return &lt;Table.Cell key={`td-key-${rowIndex}-${index}`}&gt;<br/>                    &lt;svg viewBox="0 0 100 20" style={{<br/>                        width: "100%",<br/>                        padding: "1vh 1vw",<br/>                        fill: Palette[cell[1]].code<br/>                    }}&gt;<br/>                        &lt;text<br/>                            x="0"<br/>                            y="15"<br/>                            id={`text-${rowIndex}-${index}`}<br/>                        &gt;<br/>                            {t(`colors.${Palette[cell[0]].name}`).toUpperCase()}<br/>                        &lt;/text&gt;<br/>                    &lt;/svg&gt;<br/>                &lt;/Table.Cell&gt;<br/>            })}<br/>        &lt;/Table.Row&gt;)<br/>    }<br/>    return null<br/>}<br/>...<br/>&lt;Table basic={"very"} size={"large"} celled={true}&gt;<br/>    &lt;Table.Body&gt;<br/>        {generateTable()}<br/>    &lt;/Table.Body&gt;<br/>&lt;/Table&gt;</span></pre><p id="373e" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">我们只是用调色板[y]填充列和行中的单元格。名称SVG文本画在调色板[x].代码。为什么是SVG？因为这是将 <a class="ae lh" href="https://css-tricks.com/fitting-text-to-a-container/" rel="noopener ugc nofollow" target="_blank"> <em class="ky">文本放入</em> </a> <em class="ky">容器的最简单方法。</em></p><p id="443f" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">这是这个游戏的核心:</p><pre class="li lj lk ll gt nn no np nq aw nr bi"><span id="02ff" class="ns lu iq no b gy nt nu l nv nw">React.<em class="ky">useEffect</em>(() =&gt; {<br/>    let interval: (any) = null<br/>    if (gameStatus) {<br/>        if (activeCell === null) {<br/>            interval = <em class="ky">setInterval</em>(() =&gt; {<br/>                if (direction === "start-to-end") {<br/>                    setActiveCell(0)<br/>                    underlineSVG(0, true)<br/>                } else {<br/>                    setActiveCell((rowNum * colNum) - 1)<br/>                    underlineSVG((rowNum * colNum) - 1, true)<br/>                }<br/>            }, speed * 1000)<br/>        } else {<br/>            const cleanUp = () =&gt; {<br/>                setActiveCell(null)<br/>                setGameStatus(false)<br/>                underlineSVG(activeCell, false)<br/>            }<br/>            if (direction === "start-to-end") {<br/>                if (activeCell &lt; (rowNum * colNum) - 1) {<br/>                    interval = <em class="ky">setInterval</em>(() =&gt; {<br/>                        setActiveCell(activeCell + 1)<br/>                        underlineSVG(activeCell + 1, true)<br/>                        underlineSVG(activeCell, false)<br/>                    }, speed * 1000)<br/>                } else {<br/>                    cleanUp()<br/>                }<br/>            } else {<br/>                if (activeCell &gt;= 0) {<br/>                    interval = <em class="ky">setInterval</em>(() =&gt; {<br/>                        setActiveCell(activeCell - 1)<br/>                        underlineSVG(activeCell - 1, true)<br/>                        underlineSVG(activeCell, false)<br/>                    }, speed * 1000)<br/>                } else {<br/>                    cleanUp()<br/>                }<br/>            }<br/>        }<br/>    } else if (!gameStatus &amp;&amp; activeCell !== null) {<br/>        <em class="ky">clearInterval</em>(interval);<br/>    }<br/>    return () =&gt; <em class="ky">clearInterval</em>(interval);<br/>}, [gameStatus, activeCell]);</span></pre><p id="d06c" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">这是一个在useEffect钩子里面的定时器。如果游戏是活动的，我们将在表格中设置一个新的活动单元格，高亮显示它，并根据方向和设定的速度删除前一个的高亮显示。</p><p id="cbdb" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">这就是我操纵SVG的方式:</p><pre class="li lj lk ll gt nn no np nq aw nr bi"><span id="b22c" class="ns lu iq no b gy nt nu l nv nw">const underlineSVG = (address: number, highlight: boolean) =&gt; {<br/>    let [row, col] = [0, 0]<br/>    if (address !== 0) {<br/>        row = Math.floor(address / colNum)<br/>        col = address - (row * colNum)<br/>    }<br/>    let elem: null | HTMLElement = document.getElementById(`text-${row}-${col}`)<br/>    if (elem) {<br/>        if (highlight) {<br/>            elem.setAttribute("style", "text-decoration: underline")<br/>        } else {<br/>            elem.setAttribute("style", "")<br/>        }<br/>    }<br/>}</span></pre><p id="851e" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated"><em class="ky">我们将一维数字转换为多维数组地址，然后突出显示或删除文本中的突出显示。这整个方法比我们在动态创建的单元格中设置条件样式要快得多。或者，至少，我是这样认为的。</em></p><p id="d002" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">这是它的样子:</p><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi oc"><img src="../Images/69290bd4c9cd6f9f6f38387d2cb005b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8LLvfnyT29AlmYUZkQh-rg.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">英语五彩单词表</figcaption></figure><figure class="li lj lk ll gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="ny nz di oa bf ob"><div class="gh gi oc"><img src="../Images/60438bb279b6c5e33bad33783795bc11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gLDCHgxcr_YYpaC4GTOzog.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">英语五彩单词表</figcaption></figure><p id="a2f0" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">我的应用程序还有更多的功能——简单的路由、信息模式、翻译等等。完整的代码可以在<a class="ae lh" href="https://github.com/al3xsus/brain-train" rel="noopener ugc nofollow" target="_blank">这里</a>找到。这里的工作示例是<a class="ae lh" href="https://al3xsus.github.io/brain-train/" rel="noopener ugc nofollow" target="_blank">和</a>。</p><p id="9733" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated">这还不是一个成品，我会对它进行一点重构，并在未来添加新的游戏和练习。如果你想看就和我在一起！</p><figure class="li lj lk ll gt lm"><div class="bz fp l di"><div class="od lo l"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk translated">来源:<a class="ae lh" href="https://giphy.com/gifs/arnold-schwarzenegger-terminator-genisys-the-YjfAfZyzEoOZi" rel="noopener ugc nofollow" target="_blank">https://giphy . com/gifs/阿诺德-施瓦辛格-终结者-genisys-the-YjfAfZyzEoOZi </a></figcaption></figure><p id="43f6" class="pw-post-body-paragraph jy jz iq ka b kb kz kd ke kf la kh ki kj lc kl km kn le kp kq kr lg kt ku jx ij bi translated"><strong class="ka ir">好了，感谢你的阅读！请在评论中分享你的观点，并关注我。如果有不清楚的地方，不要害怕提问。</strong></p></div></div>    
</body>
</html>