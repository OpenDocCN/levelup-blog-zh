<html>
<head>
<title>Learning C: The Select from Alternatives Template Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习C:从备选方案中选择模板第2部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-c-the-select-from-alternatives-template-part-2-9ddfaaa6b968?source=collection_archive---------20-----------------------#2021-03-16">https://levelup.gitconnected.com/learning-c-the-select-from-alternatives-template-part-2-9ddfaaa6b968?source=collection_archive---------20-----------------------#2021-03-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/5d390e6af3358dd975b50a796a0322eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zRwvIfN0gx1wHtTj"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@claybanks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">粘土银行</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="0ee7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是关于在c中实现<em class="le"> Select from Alternatives </em>模板的两部分系列文章的第二部分。在这一部分中，我将讨论嵌套的<code class="fe lf lg lh li b">if</code>语句、布尔运算符和<code class="fe lf lg lh li b">switch</code>语句。</p><h1 id="a684" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">嵌套的if语句</h1><p id="e670" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">有时，您需要将<code class="fe lf lg lh li b">if</code>语句嵌套在其他<code class="fe lf lg lh li b">if</code>语句中，以最好地表达程序解决方案的逻辑。这可能是一项棘手的技术，你需要小心处理嵌套的<code class="fe lf lg lh li b">if</code>语句，并彻底调试它们。</p><p id="0867" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当我谈到嵌套的<code class="fe lf lg lh li b">if</code>语句时，我会提到外部的<code class="fe lf lg lh li b">if</code>和内部的<code class="fe lf lg lh li b">if</code>语句。外层的<code class="fe lf lg lh li b">if</code>是第一个比较，然后其他比较嵌套在外层的<code class="fe lf lg lh li b">if</code>语句中。</p><p id="b663" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一个需要嵌套<code class="fe lf lg lh li b">if</code>语句解决的问题。您正在编写一个处理汽车贷款的应用程序。客户获得汽车贷款资格的第一个要求是他们目前有工作。检查该要求成为外部<code class="fe lf lg lh li b">if</code>语句。然后，如果客户被雇用，他们也必须赚一定数量的钱，比如每年10000美元。对该要求的检查成为内部<code class="fe lf lg lh li b">if</code>语句。</p><p id="a333" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是用C语言解决上述问题的一种方法:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="787a" class="mu lk it li b gy mv mw l mx my">#include &lt;stdio.h&gt;<br/>#include &lt;stdlib.h&gt;</span><span id="d4cf" class="mu lk it li b gy mz mw l mx my">int main()<br/>{<br/>   char employed;<br/>   int salary;<br/>   printf("Are you currently employed (Y/N)? ");<br/>   scanf("%c", &amp;employed);<br/>   if (employed == 'Y') {<br/>      printf("What is your current salary? ");<br/>      scanf("%d", &amp;salary);<br/>      if (salary &gt;= 10000) {<br/>         printf("Congratulations. You are qualified for a <br/>                 loan.\n");<br/>      }<br/>      else {<br/>         printf("Sorry. You don't make enough money for a <br/>                loan.\n");<br/>      }<br/>   }<br/>   else {<br/>      printf("Sorry. You do not qualify for a loan because you <br/>             are not employed.\n");<br/>   }<br/>   return 0;<br/>}</span></pre><p id="545a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是运行该程序三次以测试每种可能性的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="0acb" class="mu lk it li b gy mv mw l mx my">Are you currently employed (Y/N)? Y<br/>What is your current salary? 11000<br/>Congratulations. You are qualified for a loan.</span><span id="2bdb" class="mu lk it li b gy mz mw l mx my">Are you currently employed (Y/N)? Y<br/>What is your current salary? 9000<br/>Sorry. You don't make enough money for a loan.</span><span id="72a0" class="mu lk it li b gy mz mw l mx my">Are you currently employed (Y/N)? N<br/>Sorry. You do not qualify for a loan because you are not employed.</span></pre><h1 id="038b" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">布尔运算符</h1><p id="6317" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">解决编程问题需要很多逻辑，而这些逻辑不能仅仅用关系运算符来表达。例如，汽车贷款申请可能使用以下条件作为对申请人的初步筛选:有工作且工资至少为10，000.00美元。</p><p id="7a04" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者另一个条件可能是:就业或有人愿意共同签署贷款。</p><p id="7c7f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些条件可以用C语言中的布尔运算符来表示。布尔运算符包括:</p><ul class=""><li id="f1f5" class="na nb it ki b kj kk kn ko kr nc kv nd kz ne ld nf ng nh ni bi translated"><code class="fe lf lg lh li b">&amp;&amp;</code>还有</li><li id="bf59" class="na nb it ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated"><code class="fe lf lg lh li b">||</code>或者</li><li id="99ac" class="na nb it ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated"><code class="fe lf lg lh li b">!</code>不</li></ul><p id="d1e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe lf lg lh li b">&amp;&amp;</code>和<code class="fe lf lg lh li b">||</code>运算符是二元运算符，而<code class="fe lf lg lh li b">!</code>运算符是一元运算符。</p><p id="04d9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe lf lg lh li b">&amp;&amp;</code>和<code class="fe lf lg lh li b">||</code>操作符测试两个关系表达式。当且仅当两个表达式都为真时，<code class="fe lf lg lh li b">&amp;&amp;</code>操作符将返回真值，而如果任一关系表达式为真，<code class="fe lf lg lh li b">||</code>操作符将返回真值。</p><p id="5f94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在举几个例子。第一个例子将代码放到我在本节介绍中给出的第一个例子中，利用<code class="fe lf lg lh li b">&amp;&amp;</code>操作符来决定用户是否有资格获得贷款:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="2aa6" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>   char employed;<br/>   int salary;<br/>   printf("Are you currently employed (Y/N)? ");<br/>   scanf("%c", &amp;employed);<br/>   printf("What is your salary? ");<br/>   scanf("%d", &amp;salary);<br/>   if (employed == 'Y' &amp;&amp; salary &gt;= 10000) {<br/>      printf("You qualify for a loan.\n");<br/>   }<br/>   else {<br/>      printf("You do not qualify for a loan.\n");<br/>   }<br/>   return 0;<br/>}</span></pre><p id="be66" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是该程序三次运行的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="1aec" class="mu lk it li b gy mv mw l mx my">Are you currently employed (Y/N)? Y<br/>What is your salary? 11000<br/>You qualify for a loan.</span><span id="cd2a" class="mu lk it li b gy mz mw l mx my">Are you currently employed (Y/N)? Y<br/>What is your salary? 9000<br/>You do not qualify for a loan.</span><span id="b8bc" class="mu lk it li b gy mz mw l mx my">Are you currently employed (Y/N)? N<br/>What is your salary? 0<br/>You do not qualify for a loan.</span></pre><p id="8718" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后一个例子演示了为什么您会选择使用嵌套的<code class="fe lf lg lh li b">if</code>来解决这类问题。</p><p id="d9da" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们在本节介绍中给出的第二个例子中测试一下<code class="fe lf lg lh li b">||</code>操作符。程序是这样的:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="9e46" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>   char employed;<br/>   char co_signer;<br/>   printf("Are you currently employed (Y/N)? ");<br/>   scanf("%c", &amp;employed);<br/>   printf("Do you have a co-signer? ");<br/>   scanf("%c", &amp;co_signer);<br/>   if (employed == 'Y' || co_signer == 'Y') {<br/>      printf("You are qualified for a loan.\n");<br/>   }<br/>   else {<br/>      printf("You do not qualify for a loan.\n");<br/>   }<br/>   return 0;<br/>}</span></pre><p id="1945" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是看看当我运行这个程序时会发生什么:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="251e" class="mu lk it li b gy mv mw l mx my">Are you currently employed (Y/N)? Y<br/>Do you have a co-signer? You are qualified for a loan.</span></pre><p id="cc12" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">跳过了第二个提示。问题是第二个<code class="fe lf lg lh li b">scanf </code>函数“消耗”了用户按Enter键时输入的换行符。这个问题的一个解决方案是将<code class="fe lf lg lh li b">getchar</code>函数放在<code class="fe lf lg lh li b">scanf</code>函数之间来消耗换行符。这是新的程序:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="65c9" class="mu lk it li b gy mv mw l mx my">int main()<br/>{<br/>   char employed;<br/>   char co_signer;<br/>   printf("Are you currently employed (Y/N)? ");<br/>   scanf("%c", &amp;employed);<br/>   printf("Do you have a co-signer? ");<br/>   getchar();<br/>   scanf("%c", &amp;co_signer);<br/>   if (employed == 'Y' || co_signer == 'Y') {<br/>      printf("You are qualified for a loan.\n");<br/>   }<br/>   else {<br/>      printf("You do not qualify for a loan.\n");<br/>   }<br/>   return 0;<br/>}</span></pre><p id="2625" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是该程序三次运行的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="c398" class="mu lk it li b gy mv mw l mx my">Are you currently employed (Y/N)? Y<br/>Do you have a co-signer? N<br/>You are qualified for a loan.</span><span id="ea2c" class="mu lk it li b gy mz mw l mx my">Are you currently employed (Y/N)? N<br/>Do you have a co-signer? Y<br/>You are qualified for a loan.</span><span id="404f" class="mu lk it li b gy mz mw l mx my">Are you currently employed (Y/N)? N<br/>Do you have a co-signer? N<br/>You do not qualify for a loan.</span></pre><p id="07ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">只有在第三个例子中，当两个提示的答案都是N时，用户才被确定没有资格获得贷款。</p><h1 id="44cb" class="lj lk it bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">switch语句</h1><p id="3e2c" class="pw-post-body-paragraph kg kh it ki b kj mh kl km kn mi kp kq kr mj kt ku kv mk kx ky kz ml lb lc ld im bi translated">实现<em class="le"> Select from Alternatives </em>模板的另一种方法是使用<code class="fe lf lg lh li b">switch</code>语句。与<code class="fe lf lg lh li b">if</code>语句相比，<code class="fe lf lg lh li b">switch</code>语句有一定的局限性，但是在某些情况下，当从备选方案中进行选择时，它是首选的构造。</p><p id="cbf7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是<code class="fe lf lg lh li b">switch</code>语句的语法模板:</p><p id="cd13" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">switch(integer expression){<br/>case(constant expression){<br/>语句；<br/>破；<br/>case(constant expression){<br/>语句(s)；<br/>破；<br/> … <br/>默认:<br/>语句；<br/> } </em></p><p id="c1eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe lf lg lh li b">switch</code>语句首先评估一个必须评估为整数值的表达式。下面的每个case子句将子句中的常数与顶部的整数表达式进行比较，以确定是否相等。如果比较结果为真，则执行<code class="fe lf lg lh li b">case</code>块内的语句，并将控制权转移给<code class="fe lf lg lh li b">switch</code>语句外的语句。关键字<code class="fe lf lg lh li b">break</code>导致程序完全退出<code class="fe lf lg lh li b">switch</code>语句。如果比较结果为假，控制转到下一个<code class="fe lf lg lh li b">case</code>子句。</p><p id="bbce" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果没有一个比较结果为真，并且存在一个<code class="fe lf lg lh li b"> default</code>子句(<code class="fe lf lg lh li b">default</code>子句是可选的)，则执行<code class="fe lf lg lh li b">default</code>子句中的语句。</p><p id="25f2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与<code class="fe lf lg lh li b">if</code>语句相比，<code class="fe lf lg lh li b">switch</code>语句受到限制，因为只有整数表达式可以用于比较，这意味着您不能使用字符串进行比较，尽管您可以使用<code class="fe lf lg lh li b">char</code>，因为<code class="fe lf lg lh li b"> char</code>变量是作为整数值存储的。</p><p id="da52" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看一个例子。在下面的程序中，用户输入两个数字，然后出现一个菜单来选择要执行的算术运算:加、减、乘或除。</p><p id="a7b7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">程序如下:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="d664" class="mu lk it li b gy mv mw l mx my">#include &lt;stdio.h&gt;<br/>#include &lt;stdlib.h&gt;<br/>#include &lt;time.h&gt;</span><span id="510d" class="mu lk it li b gy mz mw l mx my">int main()<br/>{<br/>   srand(time(0));<br/>   int operand1 = rand() % 100 + 1;<br/>   int operand2 = rand() % 100 + 1;<br/>   int choice;<br/>   printf("The numbers are %d and %d\n", operand1, operand2);<br/>   printf("1. Addition\n");<br/>   printf("2. Subtraction\n");<br/>   printf("3. Multiplication\n");<br/>   printf("4. Division\n");<br/>   printf("\n");<br/>    printf("Choose an operation: ");<br/>   scanf("%d", &amp;choice);<br/>   return 0;<br/>}</span></pre><p id="9d9f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下是该程序几次运行的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="33d4" class="mu lk it li b gy mv mw l mx my">The numbers are 97 and 9<br/>1. Addition<br/>2. Subtraction<br/>3. Multiplication<br/>4. Division</span><span id="a236" class="mu lk it li b gy mz mw l mx my">Choose an operation: 1<br/>97 + 9 = 106</span><span id="5204" class="mu lk it li b gy mz mw l mx my">The numbers are 82 and 23<br/>1. Addition<br/>2. Subtraction<br/>3. Multiplication<br/>4. Division</span><span id="c6c6" class="mu lk it li b gy mz mw l mx my">Choose an operation: 2<br/>82 - 23 = 59</span><span id="09c9" class="mu lk it li b gy mz mw l mx my">The numbers are 64 and 90<br/>1. Addition<br/>2. Subtraction<br/>3. Multiplication<br/>4. Division</span><span id="edc5" class="mu lk it li b gy mz mw l mx my">Choose an operation: 3<br/>64 x 90 = 5760</span><span id="bf1c" class="mu lk it li b gy mz mw l mx my">The numbers are 32 and 23<br/>1. Addition<br/>2. Subtraction<br/>3. Multiplication<br/>4. Division</span><span id="2835" class="mu lk it li b gy mz mw l mx my">Choose an operation: 4<br/>32 / 23 = 0.000000</span></pre><p id="8f94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">啊哦。执行除法时的最后一个输出不正确。32除以23应该是1.3913而不是0.00。发生了什么事？事情是这样的:除法运算符被赋予两个整数，因此它执行整数除法。我们需要修改除法语句，以便除法运算符的至少一个操作数是浮点数。</p><p id="21ec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为此，将<code class="fe lf lg lh li b">printf</code>功能中的除法语句改为:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="778f" class="mu lk it li b gy mv mw l mx my">(float)operand1 / operand2</span></pre><p id="9b91" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是执行除法的输出:</p><pre class="mm mn mo mp gt mq li mr ms aw mt bi"><span id="97bb" class="mu lk it li b gy mv mw l mx my">The numbers are 88 and 36<br/>1. Addition<br/>2. Subtraction<br/>3. Multiplication<br/>4. Division</span><span id="6204" class="mu lk it li b gy mz mw l mx my">Choose an operation: 4<br/>88 / 36= 2.444444</span></pre><p id="9325" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从整数除法表达式中获得浮点结果的唯一方法是将表达式的至少一部分转换(即使是临时转换)为浮点值。</p><p id="261b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就结束了我对使用if语句或switch语句实现<em class="le"> Select from Alternatives </em>模板的讨论。在我的下一篇文章中，我将继续讨论下一个重要的C编程结构——循环，在这里我将讨论三种类型的循环语句——<code class="fe lf lg lh li b">while</code>语句、<code class="fe lf lg lh li b">do-while</code>语句和<code class="fe lf lg lh li b">for</code>语句。</p><p id="8912" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读，请回复这篇文章或发邮件给我，告诉我您的意见和建议。</p></div></div>    
</body>
</html>