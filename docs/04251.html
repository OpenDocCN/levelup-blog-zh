<html>
<head>
<title>What Are Property Observers in Swift?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift中的物业观察员是什么？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-are-property-observers-in-swift-4bda0945973?source=collection_archive---------19-----------------------#2020-06-16">https://levelup.gitconnected.com/what-are-property-observers-in-swift-4bda0945973?source=collection_archive---------19-----------------------#2020-06-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4dfa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">对属性的更改做出反应</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bec83bab5a9cc49b253d0115a5182bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-GJocEpxPCttgtUNBNzQ8w.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/users/SatyaPrem-6578610/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3616959" rel="noopener ugc nofollow" target="_blank"> SatyaPrem </a>从<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3616959" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>获得</figcaption></figure><p id="1510" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将了解什么是Swift中的属性观察器，以及如何有效地使用它们。</p><p id="c19a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将很快在Xcode操场上对它们进行实验。</p><p id="9485" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">源代码可以在文章的底部找到。</p><h1 id="9e35" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">我们开始吧</h1><p id="63f8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们有两种类型的物业观察员:</p><ul class=""><li id="3951" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">willSet —在存储新值之前调用<em class="nb"/></li><li id="408b" class="ms mt it lb b lc nc lf nd li ne lm nf lq ng lu mx my mz na bi translated">didSet —在之后调用<em class="nb">，存储一个新值</em></li></ul><p id="ef5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个简单的<code class="fe nh ni nj nk b">message</code>变量:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="9f1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并为其分配一个新值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="db19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们在控制台中打印了以下内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/12823c46ccbcf56dace8fcc12ee31cb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rc57n3CliXO_dIdwrCdvwA.png"/></div></div></figure><p id="6a8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所见，<code class="fe nh ni nj nk b">willSet</code>在<code class="fe nh ni nj nk b">didSet</code>之前被执行。所以在运行<code class="fe nh ni nj nk b">willSet</code>的时候，我们可以获得一个新的值，即<em class="nb">被</em>赋值给变量。但是，该值尚未存储在属性中。</p><p id="9d0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦<code class="fe nh ni nj nk b">didSet</code>被执行，新值被存储。这就是为什么我们在<code class="fe nh ni nj nk b">willSet</code>中有一个<code class="fe nh ni nj nk b">newValue</code>参数，在<code class="fe nh ni nj nk b">didSet</code>中有一个<code class="fe nh ni nj nk b">oldValue</code>参数。</p><p id="79b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以如下更改<code class="fe nh ni nj nk b">willSet</code>参数的名称:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><p id="8985" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们考虑一个实际的例子。</p><p id="0584" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一个简单的<code class="fe nh ni nj nk b">UIView</code>叫做<code class="fe nh ni nj nk b">CustomView</code>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="331b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们按如下方式更改<code class="fe nh ni nj nk b">message</code>属性:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="5028" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并在初始化<code class="fe nh ni nj nk b">CustomView</code>三秒后为其分配一个新值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="2f00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们运行操场，<code class="fe nh ni nj nk b">willSet</code>属性观察者在三秒钟内触发UI更新:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/960da66872480420557a45adbcb65497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6MZ8nvT2s-zv2jZxhyd7dQ.png"/></div></div></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="fe2c" class="lv lw it bd lx ly nw ma mb mc nx me mf jz ny ka mh kc nz kd mj kf oa kg ml mm bi translated">资源</h1><p id="17ad" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">源代码可以在<a class="ae ky" href="https://gist.github.com/zafarivaev/710859161d360cb8cfcf6f1805a97077" rel="noopener ugc nofollow" target="_blank">要点</a>中找到。</p><h1 id="e9a9" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">包扎</h1><p id="908a" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">对Swift更多鲜为人知的功能感兴趣？请随意查看我的其他相关文章:</p><ul class=""><li id="c153" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated"><a class="ae ky" href="/cleansoftware/what-is-the-expressiblebyintegerliteral-protocol-in-swift-e71ad4a37a96" rel="noopener ugc nofollow" target="_blank">Swift中的ExpressibleByIntegerLiteral协议是什么？</a></li><li id="193c" class="ms mt it lb b lc nc lf nd li ne lm nf lq ng lu mx my mz na bi translated"><a class="ae ky" href="/better-programming/what-is-the-value-binding-pattern-in-swift-a644be3e0597" rel="noopener ugc nofollow" target="_blank">Swift的价值绑定模式是什么？</a></li><li id="e4f1" class="ms mt it lb b lc nc lf nd li ne lm nf lq ng lu mx my mz na bi translated"><a class="ae ky" href="/better-programming/what-is-the-vdsp-framework-in-swift-fe2539693e9a" rel="noopener ugc nofollow" target="_blank">Swift中的vDSP框架是什么？</a></li><li id="5455" class="ms mt it lb b lc nc lf nd li ne lm nf lq ng lu mx my mz na bi translated"><a class="ae ky" href="/better-programming/what-is-the-customstringconvertible-protocol-in-swift-4b7ddbc5785b" rel="noopener ugc nofollow" target="_blank">Swift中的CustomStringConvertible协议是什么？</a></li><li id="c7f2" class="ms mt it lb b lc nc lf nd li ne lm nf lq ng lu mx my mz na bi translated"><a class="ae ky" href="/better-programming/what-is-the-difference-between-class-and-static-in-swift-3493848ed831" rel="noopener ugc nofollow" target="_blank">Swift中的类和静态有什么区别？</a></li></ul><p id="fbba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div></div>    
</body>
</html>