<html>
<head>
<title>React And Its Ilk Are NOT “Accessible”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React及其同类产品不“可访问”</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/react-and-its-ilk-are-not-accessible-d46b46c34d37?source=collection_archive---------1-----------------------#2021-01-30">https://levelup.gitconnected.com/react-and-its-ilk-are-not-accessible-d46b46c34d37?source=collection_archive---------1-----------------------#2021-01-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d2aaeccac958218e83c2f3cd04acfea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ugk_AQMyoiVp7VnRaD9e8w.jpeg"/></div></div></figure><p id="8d13" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我经常感到不安的是，人们如何声称知道可访问性，然后声称不知何故，神奇地，这些基于客户端脚本的渲染系统满足可访问性的最低要求。</p><p id="a9ab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我已经做了40年的编程，做了10年的可访问性和效率顾问，让我告诉你一些事情。如果你的页面没有脚本化优雅的降级——一种很奇特的说法“如果JavaScript被阻止/不可用，你的页面仍然工作”——那么它不符合可访问性的最低要求。在WCAG的“可感知”部分下，这是一个失败，因为在这种情况下用户得不到任何内容！</p><p id="725b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我并不是说客户端脚本本身是错误的或者不好的。正如我之前写的，<a class="ae la" href="https://deathshadow.medium.com/accessibility-101-good-client-side-javascript-should-enhance-an-already-working-page-not-be-the-bf92741d2310" rel="noopener">高质量的JavaScript应该增强已经工作的页面</a>。这正是React、Vue等在轨道可访问性上的问题，因为它们不是以这种方式工作的。</p><p id="a94a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你使用诸如Electron或nw.js之类的东西来制作全栈应用程序，这很好，因为你可以完全控制正在使用的UA；更不用说JavaScript必须存在才能让这种技术工作。尽管如此，对于普通浏览器中普通网站的用户来说，这是一个巨大的中指。</p><p id="251c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如我一位去世的好友曾经说过的:</p><blockquote class="lb"><p id="418c" class="lc ld it bd le lf lg lh li lj lk ky dk translated">关于谁会访问你的网站，我们唯一能确定的是，我们完全不知道谁会访问你的网站。</p></blockquote><p id="da69" class="pw-post-body-paragraph kb kc it kd b ke ll kg kh ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky im bi translated">你不知道他们正在使用什么UA，他们将启用/禁用什么，他们因为工作可以关闭什么，或者像JavaScript这样的东西是否与媒体目标相关。</p><p id="a69a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">以至于许多开发人员对优雅的退化不屑一顾——对JavaScript来说是<em class="kz">；对于CSS对于图像；甚至对HTML本身来说</em>——也是为什么这么多公司现在被拖进法律体系的主要原因。</p><p id="ac05" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于网站建设来说，除了担心那些在有着各种花哨功能的图形显示器上视力良好的用户之外，还有更多事情要做。</p><h1 id="56b2" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">但是React不输出HTML是什么意思？</h1><p id="c360" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">不，不是的。令人不安的是，许多使用React并为其辩护的人似乎认为，仅仅因为JSX<strong class="kd iu">看起来</strong>像HTML，它就被神奇地创造成了HTML。<strong class="kd iu">不是！！！</strong></p><p id="0375" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">JSX——“JavaScript XML”是一种类似XHTML的格式，它在构建过程中对服务器端做出反应，编译成一堆“createElement”指令，直接将东西应用于DOM，或者在它们的情况下，是毫无意义的浪费时间的“虚拟DOM”废话。</p><p id="7300" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们可以在最简单的“Hello World”例子中看到这一点…事实上，这是他们自己的第一个例子！</p><p id="b0d1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">他们有这样的标记:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="7a49" class="nc lr it my b gy nd ne l nf ng">&lt;div id="root"&gt;&lt;/div&gt;</span></pre><p id="f480" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后这个脚本</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="6800" class="nc lr it my b gy nd ne l nf ng">ReactDOM.render(<br/>  &lt;h1&gt;Hello, world!&lt;/h1&gt;,<br/>  document.getElementById('root')<br/>);</span></pre><p id="fa3d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">人们认为因为它看起来像HTML，所以它就是HTML。不，不是的！！！如果你看客户端是不是把&lt; h1 &gt;中的标记当做标记？<strong class="kd iu">不，不是的！！！</strong>发送到客户端的是:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="0d50" class="nc lr it my b gy nd ne l nf ng">&lt;div id="root"&gt;&lt;/div&gt;</span><span id="a84f" class="nc lr it my b gy nh ne l nf ng">&lt;script id="rendered-js"&gt;<br/>ReactDOM.render( /*#__PURE__*/<br/>  React.createElement("h1", null, "Hello, world!"),<br/>  document.getElementById('root')<br/>);<br/>&lt;/script&gt;</span></pre><p id="f1d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="kz">为了代码清晰起见，我编辑了格式。</em></p><p id="3b75" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">H1并不存在于标记中，而是由JavaScript在无用的“虚拟DOM”上生成，并最终直接应用于动态DOM。因此，它不符合可感知性的可访问性要求，并且对于大部分用户来说是没有用的——见鬼，它甚至不存在。数百万使用noScript浏览器插件的用户？所有人都用盲文阅读器吗？工作空间受限的人？你在叫他们都滚开！</p><p id="b11c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，如果你认为React或任何其他JavaScript前端框架“生成HTML ”,你对它是如何工作的了解还不够，不能为它辩护。它生成DOM元素，有区别！</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/1babb282700995ad90292712286c6da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FHT8FSfonmxAT9k22mV6eQ.jpeg"/></div></div><figcaption class="nj nk gj gh gi nl nm bd b be z dk translated">框架更容易！！！它们让你更有效率！您需要他们来帮助协作！它使得其他开发人员可以快速上手！工作少了。确保你不会重复你自己！开销损失可以忽略不计！</figcaption></figure><h1 id="22ab" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">所以不用？</h1><p id="fc33" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">我会说这取决于你用它做什么。我个人认为，对于不能正确处理DOM的人来说，这是一堆臃肿的垃圾。像所有其他前端框架一样，它声称的优势是赤裸裸的谎言。它不容易创建东西，它不会让你更有效率，它不会让这些东西更容易维护，它也不是真正的高性能！从基于“页面装载邪恶”的荒谬想法的SPA垃圾到移动不属于客户端的东西！</p><p id="e609" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">总的来说，所有这类无意义的“框架”垃圾都散发着邓宁-克鲁格的味道。使用这些系统的人对HTML、CSS、JavaScript、用户代理或可访问性知之甚少，甚至没有意识到他们的工作越来越多，结果网站越来越糟糕；就像那些创建它们的人对这些主题了解不多，无法告诉其他人如何去做一样！</p><p id="35f6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当然，有些情况下功能永远无法访问。谷歌地图就是一个惊人的例子。但是，即使在这样的极端情况下，这些框架通常也会导致一切变得臃肿、缓慢和难以处理。我永远也不会理解为什么编写两到十倍于所需的代码，这依赖于各种各样的额外步骤，需要大量的库，而对关注点的适当分离却莫名其妙地变得“更容易”,而不是“更好”或“更简单”。</p></div></div>    
</body>
</html>