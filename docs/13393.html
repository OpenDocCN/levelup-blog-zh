<html>
<head>
<title>Git blame — How to find out who modified a line with Git</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git责备——如何找出谁用Git修改了一行</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/sometimes-a-single-line-breaks-your-code-and-you-want-to-find-the-perpetrator-be6ba42b195b?source=collection_archive---------12-----------------------#2022-08-31">https://levelup.gitconnected.com/sometimes-a-single-line-breaks-your-code-and-you-want-to-find-the-perpetrator-be6ba42b195b?source=collection_archive---------12-----------------------#2022-08-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/ec7488e740f300a38c0d72f40d13cd66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z1kJLNTE-feVZGfWgp337Q.png"/></div></div></figure><p id="8bfb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你是否曾经在你的代码中发现一个导致代码行改变的bug，并且想知道是谁对代码行进行了改变？<strong class="kd iu">幸运的是，git有一个针对那个</strong>的命令！让你选择一个文件并显示谁最后修改了每一行。如果您想知道，它被称为<code class="fe kz la lb lc b">git blame</code>,因为它允许您为正在调查的代码破坏行分配责任。</p><p id="cca9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要找出是谁修改了一行，只需运行下面的命令，其中<code class="fe kz la lb lc b">myfile.txt</code>是您想要检查的文件:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="44fe" class="ll lm it lc b gy ln lo l lp lq">git blame myfile.txt</span></pre><p id="bc13" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你对<code class="fe kz la lb lc b">git blame</code>的格式感兴趣，它是这样分解的:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="1dba" class="ll lm it lc b gy ln lo l lp lq">^665221a (Johnny Simpson 2022-04-30 20:58:04 +0100  10) import { v4 as uuid } from 'uuid';<br/>^          ^                                         ^<br/>|          |                                         |<br/>Commit ID  |                                     Line number<br/>           |<br/>         Author and timestamp</span></pre><h1 id="a88a" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">在特定行上使用git责备</h1><p id="3b44" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">这真的很有用，但是如果你想在一个特定的行上磨练，你可以使用<code class="fe kz la lb lc b">-L</code>选项。例如，如果您想查看第1行和第5行之间的更改历史，您可以执行以下操作:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="51db" class="ll lm it lc b gy ln lo l lp lq">git blame index.js -L 1,5</span></pre><p id="96f9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">或者，如果您想要查找第20行和第40行之间的更改历史，您可以执行以下操作:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="9a83" class="ll lm it lc b gy ln lo l lp lq">git blame index.js -L 20,40</span></pre><h1 id="9015" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">其他有用的git责备选项</h1><p id="7ae8" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">还有一堆其他有用的<code class="fe kz la lb lc b">git blame</code>选项，你可能想用。以下是我最常用的一些，以及它们的作用。</p><h1 id="da3a" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">显示带有git责备的作者的电子邮件</h1><p id="9e07" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">您只需使用<code class="fe kz la lb lc b">-e</code>选项来显示作者的电子邮件地址:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="e9dc" class="ll lm it lc b gy ln lo l lp lq">git blame index.js -e</span></pre><p id="ea97" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">产生这样的输出:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="07ac" class="ll lm it lc b gy ln lo l lp lq">^665221a (&lt;some@email.com&gt; 2022-04-30 20:58:04 +0100   8) import { fileURLToPath } from 'url'</span></pre><h1 id="ec5f" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">用git责备忽略whitepsace</h1><p id="a742" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">如果您的代码包含大量空白，您也可以用<code class="fe kz la lb lc b">git blame</code>忽略空白。为此，您可以使用<code class="fe kz la lb lc b">-w</code>选项:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="9eaa" class="ll lm it lc b gy ln lo l lp lq">git blame index.js -w</span></pre><h1 id="056d" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">使用git责备格式化带颜色的线条</h1><p id="37c4" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">默认情况下，<code class="fe kz la lb lc b">git blame</code>生成白色或黑色文本墙。如果您想用颜色区分不同的提交和变更，您可以使用<code class="fe kz la lb lc b">--color-lines</code>或<code class="fe kz la lb lc b">--color-by-age</code>:</p><ul class=""><li id="3d6b" class="mt mu it kd b ke kf ki kj km mv kq mw ku mx ky my mz na nb bi translated"><code class="fe kz la lb lc b">--color-lines</code>如果前一行是不同的提交，则对行着色。</li><li id="4752" class="mt mu it kd b ke nc ki nd km ne kq nf ku ng ky my mz na nb bi translated"><code class="fe kz la lb lc b">--color-by-age</code>颜色线条由年龄决定。</li></ul><h1 id="fea1" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">显示带有git责备的文件名</h1><p id="69e1" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">要用<code class="fe kz la lb lc b">git blame</code>显示文件名，使用<code class="fe kz la lb lc b">-f</code>选项。这将显示文件名以及提交ID。</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="9053" class="ll lm it lc b gy ln lo l lp lq">git blame index.js -f</span></pre><p id="2cfc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将产生如下输出:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="1cdc" class="ll lm it lc b gy ln lo l lp lq">^665221a index.js (Johnny Simpson 2022-04-30 20:58:04 +0100  16) import dotenv from 'dotenv'</span></pre><h1 id="43e2" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">显示自下而上的行变化(反向),带有git责备</h1><p id="31cc" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">您也可以用<code class="fe kz la lb lc b">git blame</code>反向显示线条变化，意思是从底部开始向上。只需在命令中添加<code class="fe kz la lb lc b">--reverse</code>选项:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="d1f1" class="ll lm it lc b gy ln lo l lp lq">git blame index.js --reverse</span></pre></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="c8b6" class="lr lm it bd ls lt no lv lw lx np lz ma mb nq md me mf nr mh mi mj ns ml mm mn bi translated">分级编码</h1><p id="ecc1" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="2d8e" class="mt mu it kd b ke kf ki kj km mv kq mw ku mx ky my mz na nb bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="3a0d" class="mt mu it kd b ke nc ki nd km ne kq nf ku ng ky my mz na nb bi translated">📰查看<a class="ae nt" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>中的更多内容</li><li id="4f34" class="mt mu it kd b ke nc ki nd km ne kq nf ku ng ky my mz na nb bi translated">🔔关注我们:<a class="ae nt" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae nt" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae nt" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="6201" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">🚀👉<a class="ae nt" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">加入升级人才集体，找到一份惊艳的工作</strong> </a></p></div></div>    
</body>
</html>