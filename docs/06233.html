<html>
<head>
<title>Python is faster than C++: Performance and Matrix Multiplication</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python比C++快:性能和矩阵乘法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/python-vs-c-performance-and-matrix-multiplication-59dbf20e212a?source=collection_archive---------6-----------------------#2020-11-05">https://levelup.gitconnected.com/python-vs-c-performance-and-matrix-multiplication-59dbf20e212a?source=collection_archive---------6-----------------------#2020-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0122" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当人们说Python慢的时候，给他们看看这篇文章</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><figure class="kw kx ky kz gt la gh gi paragraph-image"><div class="gh gi kv"><img src="../Images/aec6534d68709348c133fcb987727ea4.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*szneFJ96UJkARIG0K_5KYg.jpeg"/></div></figure><p id="df54" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我想提前说:是的，当你写同样的代码时，C++比大多数现代语言更有性能。Python应该在列表的末尾。</p><p id="878e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是当你实现真正的项目时，没有人关心你的代码或语言，结果很重要，你写代码越快越好。</p><p id="330c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">比方说，你需要创建一个新网站。而且有两个选项:C++和Python。最终C++项目会快10倍。因此，你的HTML页面将在0.01秒内生成，而不是0.1秒。但是谁在乎呢？在C++中，你将花几个月的时间编写同一个项目，而在Python中，你只需一周。</p><p id="397d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但这篇文章不是关于这场圣战的。</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h2 id="4f1d" class="ld le it bd lf lg lh dn li lj lk dp ll kb lm ln lo kf lp lq lr kj ls lt lu lv bi translated">矩阵乘法</h2><p id="ba14" class="pw-post-body-paragraph jq jr it js b jt lw jv jw jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn im bi translated">让我们用C++和Python把两个矩阵相乘。让我们比较一下运行时间。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mb"><img src="../Images/9b814fbd6e47633b29e60e47f60e7832.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*enrCWdEtOyO94l9XbESaAw.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">维基百科(一个基于wiki技术的多语言的百科全书协作计划ˌ也是一部用不同语言写成的网络百科全书ˌ 其目标及宗旨是为全人类提供自由的百科全书)ˌ开放性的百科全书</figcaption></figure></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h2 id="acda" class="ld le it bd lf lg lh dn li lj lk dp ll kb lm ln lo kf lp lq lr kj ls lt lu lv bi translated">C++中的矩阵乘法</h2><p id="93da" class="pw-post-body-paragraph jq jr it js b jt lw jv jw jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn im bi translated">当我开始这篇文章时，我认为我将比较两个1000*1000矩阵的矩阵乘法。</p><p id="c0f6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是C++在这点上失败了。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi mk"><img src="../Images/6c332f128bf561098dab174587eb085b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GN_9EVIu9_UX3DFVBR2zPg.png"/></div></div></figure><p id="15fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">哈哈！拜托，C++，如果真的需要计算，我等两个小时都没问题！但是请照做。</p><p id="e795" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，我发现它能够乘以800*800的矩阵。</p><p id="a529" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码如下:</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="9367" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">花了多长时间？</p><pre class="kw kx ky kz gt mn mo mp mq aw mr bi"><span id="eda7" class="ld le it mo b gy ms mt l mu mv"><strong class="mo iu">1.94591 sec</strong></span></pre><p id="cf02" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">差不多2秒。</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h2 id="e946" class="ld le it bd lf lg lh dn li lj lk dp ll kb lm ln lo kf lp lq lr kj ls lt lu lv bi translated">Python中的矩阵乘法</h2><p id="c1ce" class="pw-post-body-paragraph jq jr it js b jt lw jv jw jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn im bi translated">嗯…我怀疑用Python计算同样的东西会有问题，但我不知道有那么糟糕！</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="a8fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">用300乘300，它在…</p><pre class="kw kx ky kz gt mn mo mp mq aw mr bi"><span id="4a87" class="ld le it mo b gy ms mt l mu mv"><strong class="mo iu">28.535400867462158 sec.</strong></span></pre><p id="f137" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">半分钟！！！但是等等…没有人用Python写任何逻辑，因为“包括电池”。</p><p id="bc3c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，这些电池是用C++写的，但是谁在乎呢？</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h2 id="8213" class="ld le it bd lf lg lh dn li lj lk dp ll kb lm ln lo kf lp lq lr kj ls lt lu lv bi translated">用Numpy乘矩阵</h2><p id="4205" class="pw-post-body-paragraph jq jr it js b jt lw jv jw jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn im bi translated">没错。让我们试一试。</p><p id="b8c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相信会比上面简单的C++代码快。</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="78f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以。没错。是1000乘1000乘以1000乘1000。</p><p id="78e6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">而且…时间是…</p><pre class="kw kx ky kz gt mn mo mp mq aw mr bi"><span id="33da" class="ld le it mo b gy ms mt l mu mv">...</span></pre><p id="beba" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">猜猜看…</p><pre class="kw kx ky kz gt mn mo mp mq aw mr bi"><span id="3232" class="ld le it mo b gy ms mt l mu mv">0.016139984130859375 sec.</span></pre><blockquote class="mw mx my"><p id="2303" class="jq jr mz js b jt ju jv jw jx jy jz ka na kc kd ke nb kg kh ki nc kk kl km kn im bi translated">Python中的0<!-- -->. 01 vs c++中的1.9！！！</p></blockquote><p id="c983" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为什么停在1000？</p><p id="7640" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们试试更大的数字。</p><pre class="kw kx ky kz gt mn mo mp mq aw mr bi"><span id="5795" class="ld le it mo b gy ms mt l mu mv">2000x2000 : 0.090 sec<br/>3000x3000 : 0.278 sec<br/>4000x4000 : 0.623 sec<br/>and...<br/>5000x5000 : 1.16 sec!</span></pre><p id="b331" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你能相信吗？！</p></div><div class="ab cl ko kp hx kq" role="separator"><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt ku"/><span class="kr bw bk ks kt"/></div><div class="im in io ip iq"><h2 id="76cb" class="ld le it bd lf lg lh dn li lj lk dp ll kb lm ln lo kf lp lq lr kj ls lt lu lv bi translated">一些借口</h2><p id="f1d1" class="pw-post-body-paragraph jq jr it js b jt lw jv jw jx lx jz ka kb ly kd ke kf lz kh ki kj ma kl km kn im bi translated">没错。Numpy是用C++写的。</p><p id="80e0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是加油！如果你是用C++写的话，你永远不会实现和Numpy一样复杂的算法。</p><p id="2741" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，有了xtensor或GNU科学库，C++会好得多。</p><p id="fe91" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，你可以用C++做很多你用Python做不到的事情。</p><p id="0e0e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是谁在乎呢？</p></div></div>    
</body>
</html>