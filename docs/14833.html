<html>
<head>
<title>Everything about the Google Identity Service (GIS) API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Google身份服务(GIS) API的一切</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/everything-about-the-google-identity-service-gis-api-168df3498c5a?source=collection_archive---------8-----------------------#2022-12-27">https://levelup.gitconnected.com/everything-about-the-google-identity-service-gis-api-168df3498c5a?source=collection_archive---------8-----------------------#2022-12-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fa749ed86b2396f4572fdb882b4ed2b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_snLoNWoQp5CBsZ58qu-Hg.png"/></div></div></figure><p id="967c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如你可能已经知道的，谷歌的大男孩和女孩们已经决定，最好放弃<em class="kw">谷歌登录平台</em>，代之以<em class="kw">谷歌身份服务</em></p><p id="7423" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">快速背景<em class="kw">谷歌登录平台</em>和<em class="kw">谷歌身份服务</em>都是API，允许用户将他们的谷歌账户连接到第三方应用</p><figure class="ky kz la lb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kx"><img src="../Images/04ad6262a79208cda68584ba22fa44d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*54GhcraT5P7yVZAXAcG9Lw.jpeg"/></div></div></figure><p id="5f5e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">迁移到这个新的API对我来说是一个麻烦，所以我想和你分享我学到的东西。我将分享如何使用GSI、Node.js和React来执行认证和授权</p><p id="dd8b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">需要注意的是，与Google登录平台不同，GIS中的身份验证和授权是分开的</p><h1 id="f1bd" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">认证🪪</h1><p id="79f5" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">身份验证只是从google获取用户的基本信息，以便在您的应用程序上设置一个帐户。</p><p id="45bd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面的React代码是一个组件，它返回一个用于Google身份验证的按钮。成功授权后，JWT令牌会发送到应用程序的客户端，您可以在后端验证该令牌，然后存储用户信息</p><p id="b7ad" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更多定制请看<a class="ae mf" href="https://developers.google.com/identity/gsi/web/reference/html-reference" rel="noopener ugc nofollow" target="_blank"> HTML API参考</a></p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="mg mh l"/></div></figure><h1 id="a813" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">证明🔐</h1><p id="3315" class="pw-post-body-paragraph jy jz iq ka b kb ma kd ke kf mb kh ki kj mc kl km kn md kp kq kr me kt ku kv ij bi translated">认证是为了获得与用户的谷歌账户相关联的某些谷歌服务的使用权</p><p id="3c9e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">有两种使用GIS处理身份验证的方法</p><ul class=""><li id="48fb" class="mi mj iq ka b kb kc kf kg kj mk kn ml kr mm kv mn mo mp mq bi translated"><a class="ae mf" href="https://developers.google.com/identity/oauth2/web/guides/use-code-model" rel="noopener ugc nofollow" target="_blank">代码模型</a></li><li id="7200" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated"><a class="ae mf" href="https://developers.google.com/identity/oauth2/web/guides/use-token-model" rel="noopener ugc nofollow" target="_blank">授予模式</a></li></ul><p id="f824" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">代码模型</strong>用于您需要长时间访问某个google服务，或者您不希望用户每次都必须重新验证自己的场景。使用这种方法，一旦用户授予必要的权限，客户端将获得一个代码，然后该代码将被发送到您的服务器，以获得一个<strong class="ka ir">刷新_令牌</strong>(长期)<strong class="ka ir"> </strong>和一个<strong class="ka ir">访问_令牌</strong></p><p id="f4f5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">授权模式</strong>适用于你只需要一次性访问谷歌服务的情况。使用这种方法，一旦用户授予必要的权限，客户端就会获得一个<strong class="ka ir"> access_token </strong>，它可以被发送到后端，以对google服务进行API调用</p><p id="7db2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我会推荐实现代码模型，因为你得到了一个访问令牌；如果您不需要刷新令牌，您可以忽略它，如果稍后您决定需要它，您已经拥有了它。</p><p id="57c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是我的代码模型的实现</p><figure class="ky kz la lb gt jr"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="8430" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">那就是GIS的授权和认证，你可以在这里阅读更多关于<a class="ae mf" href="https://developers.google.com/identity" rel="noopener ugc nofollow" target="_blank">GSI</a></p><p id="9cd5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我写这篇文章的时候，一些事情突然出现在我的脑海里；这可能是我今年的最后一篇文章了，哇。我刚刚意识到我第一年在媒体上写了9篇文章🤯。我也许应该写一篇单独的文章来感谢你，但是我可能会变懒😅…好吧，让我们看看会发生什么。</p><p id="ef2e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">非常感谢花时间阅读、喜欢和评论我的文章的每一个人；我希望我能帮助你学到一些东西。</p><p id="dc75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">圣诞快乐，新年快乐🎄🍻…下次再见，🖖</p></div></div>    
</body>
</html>