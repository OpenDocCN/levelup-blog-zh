<html>
<head>
<title>How to force overwrite local changes with ‘git pull’</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用“git pull”强制覆盖本地更改</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-force-overwrite-local-changes-with-git-pull-1a450fc0336f?source=collection_archive---------13-----------------------#2022-08-25">https://levelup.gitconnected.com/how-to-force-overwrite-local-changes-with-git-pull-1a450fc0336f?source=collection_archive---------13-----------------------#2022-08-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7049bfb7fd8cd4d0a6109ddd216e78d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dAZ4ETHOFdK8pIETokzjMg.png"/></div></div></figure><p id="9368" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你有没有在<strong class="kd iu"> git </strong>中处理一个项目时，遇到一个错误，告诉你不能使用<code class="fe kz la lb lc b">git pull</code>，因为你有本地更改？</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="5de2" class="ll lm it lc b gy ln lo l lp lq">error: Untracked working tree file 'App.vue' would be overwritten by merge</span></pre><p id="5237" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这通常是因为一些更改已经提交到了您正在从中提取的回购协议，但是您在本地有一个类似的文件。例如，如果一个文件被意外添加到名为<code class="fe kz la lb lc b">README.md</code>的回购协议中，而您的本地版本中已经有了<code class="fe kz la lb lc b">README.md</code>。</p><p id="2239" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">不过，有时您希望用回购中找到的文件强制覆盖您的文件。在这种情况下，您的本地更改将被远程存储库中的更改所取代。</p><h1 id="f722" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">强制git拉</h1><p id="1736" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">要逼一只<code class="fe kz la lb lc b">git pull</code>，你要做三件事:</p><ul class=""><li id="dcc8" class="mt mu it kd b ke kf ki kj km mv kq mw ku mx ky my mz na nb bi translated">首先同步并获取所有远程存储库更改。</li><li id="53fd" class="mt mu it kd b ke nc ki nd km ne kq nf ku ng ky my mz na nb bi translated">备份您当前的分支—因为当我们强制执行“拉”时，所有更改都将被覆盖。</li><li id="8b50" class="mt mu it kd b ke nc ki nd km ne kq nf ku ng ky my mz na nb bi translated">力<code class="fe kz la lb lc b">git pull</code>。</li></ul><p id="62cb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里要做的重要事情是备份，将所有本地更改提交到备份分支。如果你担心文件被覆盖，你也可以把它们拷贝到其他地方。如果您不将您的本地更改提交/备份到另一个分支，它们将被覆盖，因此请<strong class="kd iu">小心。:)</strong></p><p id="d0fa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了强制执行<code class="fe kz la lb lc b">git pull</code>，我们运行以下命令来创建一个备份分支，然后在主分支上强制执行<code class="fe kz la lb lc b">git pull</code>:</p><pre class="ld le lf lg gt lh lc li lj aw lk bi"><span id="ff57" class="ll lm it lc b gy ln lo l lp lq">git fetch --all<br/># Creates a new branch<br/>git branch my-backup-branch<br/># Switch to the new branch.. we'll use it to backup our local changes<br/>git switch my-backup-branch<br/># Add all files to a commit<br/>git add .<br/># Commit the new branch, so that it is saved<br/>git commit -m "Backup of branch"<br/># Switch back to our main branch, `master`<br/>git switch master<br/># Force git pull using `git reset --hard`<br/>git reset --hard origin/master</span></pre><p id="0a7f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，<code class="fe kz la lb lc b">git fetch --all</code>将我们的遥控器与本地同步。然后，<code class="fe kz la lb lc b">git branch my-backup-branch</code>创建一个新的分支，我们切换到这个分支进行备份。之后，我添加了一个<code class="fe kz la lb lc b">commit</code>，这样我们就可以提交备份分支<code class="fe kz la lb lc b">my-backup-branch</code>上的任何更改，因此内容仍然保存。<strong class="kd iu">如果你不提交你的更改到备份分支，你将会丢失它们。</strong></p><p id="6cba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后我们切换回我们的主分支，<code class="fe kz la lb lc b">master</code>分支，假设您的主分支叫做<code class="fe kz la lb lc b">master</code>。如果它被称为别的东西，你将不得不使用那个命令。通过运行<code class="fe kz la lb lc b">git branch --list</code>，您可以看到所有其他可切换到的分支。</p><p id="fad2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最后，我们使用<code class="fe kz la lb lc b">git reset --hard origin/master</code>来强制git拉取。这将强制覆盖您所做的任何本地更改。</p><p id="72e6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你就完了。现在您的本地更改将被备份到分支<code class="fe kz la lb lc b">my-backup-branch</code>上，所有远程更改将被强制到您的<code class="fe kz la lb lc b">master</code>分支中。</p><h1 id="9264" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">强制Git Pull —键盘命令</h1><p id="3c36" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">强制从远程存储库获取git的关键命令是<code class="fe kz la lb lc b">git reset --hard origin/master</code>。其他命令是通过备份来确保你不会丢失任何数据！</p><h1 id="ae9f" class="lr lm it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">找不到原点/主控形状</h1><p id="45b7" class="pw-post-body-paragraph kb kc it kd b ke mo kg kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky im bi translated">如果你找不到<code class="fe kz la lb lc b">origin/master</code>，你现在可能在你的原点上有那个分支。相反，试着运行<code class="fe kz la lb lc b">git branch -r</code>来查看任何远程分支，这样你就可以选择你想要的<code class="fe kz la lb lc b">git reset</code>了。</p></div></div>    
</body>
</html>