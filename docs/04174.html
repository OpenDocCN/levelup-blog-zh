<html>
<head>
<title>How to deploy your site with Amazon, the quick and dirty way!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Amazon部署你的站点，快速而肮脏的方法！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-deploy-your-site-with-amazon-the-quick-and-dirty-way-29104281a65?source=collection_archive---------16-----------------------#2020-06-12">https://levelup.gitconnected.com/how-to-deploy-your-site-with-amazon-the-quick-and-dirty-way-29104281a65?source=collection_archive---------16-----------------------#2020-06-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8d37" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不用花钱就能学会一些AWS，把你的网站放到网上！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ed0edf0b4d5084768e3dde70be9b3e05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jN1Tsgkd8QM500yg0EKJ0w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">准备发射！</figcaption></figure><p id="2914" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为初级开发人员，有很多很好的选择来部署早期的web项目。现在，虽然我对我在学校创建的项目感到有些尴尬，但作为一个在学习上稍有进步的人，我已经在我的简历中列出了其中的许多项目，因为无论项目看起来如何:</p><ul class=""><li id="6506" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">改进和调整一个人过去的项目永远不会太晚，这本身就是一项有价值的技能。</li><li id="4147" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">对于那些愿意雇佣你的人来说，项目是能够使用技术的有力象征。</li></ul><p id="21a3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">尽管我可能不会对我用手动重载表单和自定义CSS构建的Rails项目感到太骄傲(“唉，Bootstrap太恶心了。”我天真地告诉我项目中可怜的合作伙伴)能够说我知道如何生成一个Rails站点并创建嵌入式Ruby模板/视图、模型和控制器是一项很有价值的技能，即使是在学生阶段。</p><p id="e1ed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，对于这些项目或您可能做的任何很酷的新项目，有一些很好的部署选项。</p><ul class=""><li id="4293" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">Heroku是一款出色的部署应用，适用于任何服务器端框架，如Ruby/Rails、Node/Express或Python/Django。Heroku并不局限于这些选项，但以我的经验来看，它们的效果最好。</li><li id="0cba" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae mi" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>是一个非常令人兴奋的选择，也是我对React、Gatsby和Angular等前端应用框架的选择。Netlify使部署变得非常容易，特别是在Gatsby/React的路由方面“玩得很好”。</li><li id="f245" class="lu lv it la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">还有<a class="ae mi" href="https://pages.github.com/" rel="noopener ugc nofollow" target="_blank"> Github Pages </a>，这是一个很好的选择，几乎可以肯定，它可以从Github本地运行，你的应用程序已经托管在那里了！Github Pages是新的，所以它可能有一些怪癖(比如React路由器问题)，但它仍然是一个很好的简单选择。</li></ul><p id="974b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不过最近，我想了解亚马逊网络服务(AWS ),这是一种托管大部分互联网的服务器，顺便提一下，这是一种公司非常需要的技能。</p><p id="e550" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与Heroku、Netfify或Github Pages不同，AWS广受欢迎的免费启动EC2选项不是为您“做一切”的自动化部署，而是一个“虚拟机”，是一个更大的盒子的一部分，您必须完成大部分工作。</p><p id="6810" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你要做的第一件事是<a class="ae mi" href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/" rel="noopener ugc nofollow" target="_blank">创建一个AWS账户</a>。这确实涉及到信用卡，但不涉及向你收费，因为有一个免费层<a class="ae mi" href="https://aws.amazon.com/premiumsupport/knowledge-center/what-is-free-tier/" rel="noopener ugc nofollow" target="_blank"/>。我已经注册了一个名为<a class="ae mi" href="https://blog.usejournal.com/how-to-code-at-a-free-co-working-space-in-soho-nyc-64b62461b4b3?source=your_stories_page---------------------------&amp;gi=6562d36433f3" rel="noopener ugc nofollow" target="_blank">的AWS账户，这对于我以前经常去的免费合作空间</a>很有用。</p><p id="8e29" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦您有了一个帐户，您应该能够在登录到您的帐户后创建一个新的EC2实例。如果你感到困惑，请随意使用这个方便的指南。基本上，你将选择一个<strong class="la iu"> AMI </strong>或Amazon机器映像，这就是你希望你的机器运行的操作系统以及一些规格。并不是所有的都在“自由层”,出于本演练的目的，我建议您选择从顶部数第四个的<strong class="la iu"> Ubuntu </strong>映像。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/95df4254e2a9e38689f9d99158ea7108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TorzWJI-ORhcLsNEtlXldg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">我喜欢这个，虽然亚马逊Linux可能也不错。</figcaption></figure><p id="046b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦你选择了你的图像并完成了向导，我建议你只选择推荐的“免费层”选项，因为如果你的网站因为某种原因人气暴涨，AWS会使它非常容易扩展。</p><p id="166d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个过程的最后，您可以选择创建一个新的密钥/密钥对。这个文件非常重要，它作为您访问EC2实例的身份验证，所以现在您必须创建一个新的pair并将其下载到一个安全的地方。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/3396fdc06ed4eaf932c608ea885e3034.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t5ogM4ojT--CryokvrIWnA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">重要的东西！</figcaption></figure><p id="bc1a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦您有了那个文件(我把它保存在Documents中，这样我就不会忘记它，但也因为我很乱)并且您已经完成了这个过程(顺便说一下，我建议在向导中使用默认安全性)，您的实例现在就启动了！那太好了，但是我们要用它做什么呢？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/3262882d0a131f3fcdd45eb1e0eeb760.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/0*pb8pZJ7tYgwqbN6N.jpg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">这不是个好主意。</figcaption></figure><p id="0fd5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们要连接到它！但是首先我们需要一些Linux！打开终端或您喜欢的代码编辑器，并导航到您保存该PEM文件的位置。默认情况下，我们实际上还不能使用它！我们必须使用CHMOD命令来保证它的安全！</p><p id="c045" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，一旦您进入了包含PEM文件的文件夹，让我们使用<code class="fe mm mn mo mp b">ls -al &lt;your-file-path&gt;</code>来查看它的权限。这将允许您查看文件的权限。他们需要仅限于根用户！我想这是为了额外的安全，所以亚马逊不希望你被黑。最终，您会希望您的权限如下所示:</p><pre class="kj kk kl km gt mq mp mr ms aw mt bi"><span id="45c9" class="mu mv it mp b gy mw mx l my mz">-rw-------@ 1 user  staff  1696 May 22 19:41 /Users/user/Documents/AmazonCeritficate.pem</span></pre><p id="4884" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是我们该怎么做呢？嗯，我的好朋友、前谷歌员工Michael McLarnon向我介绍了TLDR，这是一种获取Linux命令信息的简单方法，他以慈善行为指导我完成了整个过程。要安装TLDR:</p><pre class="kj kk kl km gt mq mp mr ms aw mt bi"><span id="52d1" class="mu mv it mp b gy mw mx l my mz"># on a Mac:<br/>brew install tldr</span><span id="cfee" class="mu mv it mp b gy na mx l my mz"># on Linux<br/>sudo apt-get install tldr</span></pre><p id="e4e5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">TLDR会给你一个超级简单的简写，告诉你在<code class="fe mm mn mo mp b">tldr</code>之后输入的任何命令会做什么。如此简单，我要让它为我解释CHMOD！</p><pre class="kj kk kl km gt mq mp mr ms aw mt bi"><span id="5d1e" class="mu mv it mp b gy mw mx l my mz">chmod</span><span id="7e90" class="mu mv it mp b gy na mx l my mz">Change the access permissions of a file or directory.</span><span id="3772" class="mu mv it mp b gy na mx l my mz">- Give the [u]ser who owns a file the right to e[x]ecute it:<br/>    chmod u+x file</span><span id="b663" class="mu mv it mp b gy na mx l my mz">- Give the [u]ser rights to [r]ead and [w]rite to a file/directory:<br/>    chmod u+rw file_or_directory</span><span id="5576" class="mu mv it mp b gy na mx l my mz">- Remove e[x]ecutable rights from the [g]roup:<br/>    chmod g-x file</span><span id="c772" class="mu mv it mp b gy na mx l my mz">- Give [a]ll users rights to [r]ead and e[x]ecute:<br/>    chmod a+rx file</span><span id="61b2" class="mu mv it mp b gy na mx l my mz">- Give [o]thers (not in the file owner's group) the same rights as the [g]roup:<br/>    chmod o=g file</span><span id="dd2f" class="mu mv it mp b gy na mx l my mz">- Remove all rights from [o]thers:<br/>    chmod o= file</span><span id="aa73" class="mu mv it mp b gy na mx l my mz">- Change permissions recursively giving [g]roup and [o]thers the ability to [w]rite:<br/>    chmod -R g+w,o+w directory</span></pre><p id="ac1f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基本上，您需要通过删除组权限来修改PEM文件，直到它看起来像上面的一样。我知道这可能很难，我有一个善良的人指导我，所以如果你不想玩，这应该是可行的:</p><pre class="kj kk kl km gt mq mp mr ms aw mt bi"><span id="f8f6" class="mu mv it mp b gy mw mx l my mz">chmod 400 &lt;your-pem-file&gt;</span></pre><p id="2a7d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">太好了！现在您已经准备好使用SSH进入您的实例了！SSH是使您的命令行成为EC2实例的命令行的一种方式(用dummy的术语来说)。一旦您的PEM文件可用，您就可以使用:</p><pre class="kj kk kl km gt mq mp mr ms aw mt bi"><span id="0647" class="mu mv it mp b gy mw mx l my mz">ssh -i /path/my-key-pair.pem my-instance-user-name@my-instance-public-dns-name</span></pre><p id="0b4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将代表我节省你许多浪费的时间，并且说如果你选择一个Ubuntu图像，你的<code class="fe mm mn mo mp b">my-instance-user-name</code>是<code class="fe mm mn mo mp b">ubuntu</code>。不客气。</p><p id="0c50" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您应该能够在仪表板上找到您实例的DNS，它只是您实例的公共地址。</p><p id="1b72" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦你加入，你就有了选择！一台干净的机器，上面只有像<code class="fe mm mn mo mp b">git</code>这样的东西。您在这里不能轻松使用图形界面，所以您将使用命令行。如果您想在您的机器上安装一些东西，您可以按下<code class="fe mm mn mo mp b">CTRL+D</code>，这是一个命令，可以让您退出shell或您的实例的命令行，而是键入:</p><pre class="kj kk kl km gt mq mp mr ms aw mt bi"><span id="1ddb" class="mu mv it mp b gy mw mx l my mz">sftp -i /path/my-key-pair.pem my-instance-user-name@my-instance-public-dns-name</span></pre><p id="9a2a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">提示:要了解SFTP和如何使用，请尝试前面TLDR命令！</p><p id="108e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是还有一个更简单的方法！可以用GitHub！只需转到您拥有的web服务器项目的repo，<code class="fe mm mn mo mp b">git clone</code>将它键入您的终端，然后键入<code class="fe mm mn mo mp b">ls</code>，瞧！你的项目在那里！您仍然需要使用<code class="fe mm mn mo mp b">sudo apt-get install</code>命令安装Rails/Ruby或Node或Elixir之类的东西，以及PostgreSQL之类的数据库，但是您将拥有您需要工作的任何东西。</p><p id="1885" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，查看本地生产服务器命令使用的端口。对于Rails/React这可能是3000，或者对于Gatsby 8000，只需检查并查看它在哪个端口上运行。</p><p id="6fb7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我要给出的这个解决方案非常懒惰，最好研究一下<a class="ae mi" href="https://www.nginx.com/" rel="noopener ugc nofollow" target="_blank">NGINX</a>或<a class="ae mi" href="https://httpd.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache </a>之类的东西，但这是一个简短的指南。</p><p id="f71e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，一旦您知道您的端口是什么，进入您的EC2仪表板，转到您的安全组，然后单击“入站规则”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/bbcb5e86ee63d4b3cf729d2abab723f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*6fiOcolVOg3aJutumWOcfg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">安全组然后…</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/10dbd30a3fee69c024ec88132e775f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v70L8LCKnzL9xmN56SZbyA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">入站规则…</figcaption></figure><p id="423e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只需更改或添加一个允许的端口到<code class="fe mm mn mo mp b">4000 </code>或任何你的应用运行的端口，然后返回到你的SSH类型<code class="fe mm mn mo mp b">rails s</code>或<code class="fe mm mn mo mp b">npm start</code>或任何你的项目需要的端口。</p><p id="5454" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，导航到EC2实例的地址，就是您SSH进入的那个地址，瞧！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/360b39601c8279206f7cae4be3a6952d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Drkm4ELCiarqT7CltouZ8A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">我当时在学Nginx！</figcaption></figure><p id="6cc5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们看到我们的网站显示！</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="e746" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我知道这不是最容易的教程，但当我在FAANG公司面试时，我被要求知道的一件事是Linux命令行界面，我发现自己在努力。我发现最实用的学习方法是做一些别有用心的有趣的事情，比如为朋友做一个项目或一个低压任务。</p><p id="3ed9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我还要特别感谢我的朋友迈克尔，没有他我根本不知道自己在做什么。</p><p id="9a9e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">说到好朋友:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/a18430e86b705af7320578889ab24289.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ucw5tTa3fozdn8QiSKDijA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">奥利奥！</figcaption></figure><p id="8abc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">奥利奥是非常好的朋友。他喜欢嗅、尿和舔，但我们真正喜欢的是大热天在凉爽的人行道上闲逛。</p><p id="fe32" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">他是一只可爱的饼干狗。</p><p id="4bd2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">白现在来说，</p><p id="f1a9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">网络信息中心(Network Information Center)ˌ网路界面卡(Network Interface Card)ˌ全国工业理事会(National Industrial Council)ˌ航行情报中心(Navigation Information Center)</p></div></div>    
</body>
</html>