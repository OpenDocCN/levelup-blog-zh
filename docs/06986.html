<html>
<head>
<title>GoLang: Building a Web Server</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GoLang:构建Web服务器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/golang-building-a-web-server-2d34d4f90fa1?source=collection_archive---------10-----------------------#2021-01-17">https://levelup.gitconnected.com/golang-building-a-web-server-2d34d4f90fa1?source=collection_archive---------10-----------------------#2021-01-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/4f832dcf41168ca81cdb18f4770bdc84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wop6U8fNo7pJpkAIZ3N2dw.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk translated">图片来源:<a class="ae jd" href="https://www.scylladb.com/wp-content/uploads/1200x628-fb-golang-scylla-gocqlx-package.png" rel="noopener ugc nofollow" target="_blank">谷歌</a></figcaption></figure><div class=""/><p id="4927" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当你读到web服务器这个术语时，你的脑海中会浮现出什么？在我转到GoLang之前，我一直从事Java工作，首先想到的是<a class="ae jd" href="https://spring.io/" rel="noopener ugc nofollow" target="_blank"> Spring </a>及其复杂的配置。所以，在这里我欢迎你来到GoLang的世界，这里的事情简单得不能再简单了。</p><p id="ef47" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">先决条件:GoLang基础，HTTP工作原理基础。</em></p><div class="ip iq gp gr ir lc"><a href="https://medium.com/@AkyunaAkish/setting-up-a-golang-development-environment-mac-os-x-d58e5a7ea24f" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd jh gy z fp lh fr fs li fu fw jf bi translated">设置Go开发环境| Mac OS X</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">围棋越来越受欢迎，所以我认为向您展示如何在您的……</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ix lc"/></div></div></a></div><p id="dadb" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">编写“hello world”web服务器的一种典型方式是启动HTTP服务器并运行某种路由，浏览器可以通过该路由与服务器进行交互。</p><p id="eea1" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下面的代码片段中，我们使用GoLang的<code class="fe lr ls lt lu b">net/http</code>包创建了一个服务器，同样不需要外部依赖。</p><pre class="lv lw lx ly gt lz lu ma mb aw mc bi"><span id="b8ab" class="md me jg lu b gy mf mg l mh mi">Filename: server/server.go</span><span id="06bd" class="md me jg lu b gy mj mg l mh mi">import "net/http"<br/><br/>// Handler for http requests<br/>type Handler struct {<br/>   mux *http.ServeMux<br/>}<br/><br/>// New http handler<br/>func New(s *http.ServeMux) *Handler {<br/>   h := Handler{s}<br/>   h.registerRoutes()<br/><br/>   return &amp;h<br/>}<br/><br/>// RegisterRoutes for all http endpoints<br/>func (h *Handler) registerRoutes() {<br/>   h.mux.HandleFunc("/", h.HelloWorld)<br/>}<br/><br/>func (h *Handler) HelloWorld(w http.ResponseWriter, r *http.Request) {<br/>   w.WriteHeader(200)<br/>   w.Write([]byte("Hello World"))<br/>}</span><span id="e934" class="md me jg lu b gy mj mg l mh mi">---</span><span id="0556" class="md me jg lu b gy mj mg l mh mi">Filename: main.go</span><span id="4208" class="md me jg lu b gy mj mg l mh mi">package main<br/><br/>import (<br/>   "net/http"<br/><br/>   "medium/web_server/server"<br/>)<br/><br/>func main() {<br/>   mux := http.NewServeMux()<br/>   server.New(mux)<br/><br/>   http.ListenAndServe(":8080", mux)<br/>}</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="7ca0" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦你有了上面的代码，到你的终端和<code class="fe lr ls lt lu b">cd</code>到你存储上面两个文件的文件夹，然后简单地运行<code class="fe lr ls lt lu b">go run main.go</code></p><p id="d799" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您的服务器已准备好满足您的请求。万岁！</p><figure class="lv lw lx ly gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mr"><img src="../Images/4dac3f791f4fe9eb0c0c20d9a2cefbe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*agRb1c5TQ9G17IvAY8EaVQ.png"/></div></div></figure><p id="3335" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请在GitHub 这里找到上面<a class="ae jd" href="https://github.com/sumiet/medium_webserver_series/tree/master/1" rel="noopener ugc nofollow" target="_blank">写的代码。</a></p><p id="5fc6" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">嗯！！还没有，因为我们上面写的简单的web服务器已经足够玩了，但是当涉及到写真实的web服务器时，你可能不想依赖这么多的手工布线。这就是我们将使用<a class="ae jd" href="https://github.com/uber-go/fx" rel="noopener ugc nofollow" target="_blank"> Fx </a>的地方，这是一个由<a class="ae jd" href="https://github.com/uber-go" rel="noopener ugc nofollow" target="_blank">优步</a>构建的依赖注入框架。</p><div class="ip iq gp gr ir lc"><a href="https://medium.com/better-programming/what-is-dependency-injection-b2671b1ea90a" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd jh gy z fp lh fr fs li fu fw jf bi translated">什么是依赖注入？</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">这比你想象的要简单</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">medium.com</p></div></div><div class="ll l"><div class="ms l ln lo lp ll lq ix lc"/></div></div></a></div></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="8e39" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是我们将在<a class="ae jd" href="https://medium.com/swlh/dependency-injection-in-go-using-fx-6a623c5c5e01" rel="noopener">后续文章</a>中探讨的内容。</p><p id="ba8e" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">敬请关注。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="47ca" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本系列迄今发表的文章的完整列表:</p><ol class=""><li id="2616" class="mt mu jg kf b kg kh kk kl ko mv ks mw kw mx la my mz na nb bi translated"><a class="ae jd" href="https://medium.com/swlh/dependency-injection-in-go-using-fx-6a623c5c5e01?source=your_stories_page-------------------------------------" rel="noopener">使用Fx在Go中进行依赖注入</a></li><li id="9d19" class="mt mu jg kf b kg nc kk nd ko ne ks nf kw ng la my mz na nb bi translated"><a class="ae jd" rel="noopener ugc nofollow" target="_blank" href="/writing-fx-modules-517193b9c4f0?source=your_stories_page-------------------------------------">编写Fx模块</a></li><li id="c889" class="mt mu jg kf b kg nc kk nd ko ne ks nf kw ng la my mz na nb bi translated"><a class="ae jd" href="https://sumit-agarwal.medium.com/writing-an-rpc-server-in-go-eb9afd56d1e1?source=your_stories_page-------------------------------------" rel="noopener">在Go中编写RPC服务器</a></li><li id="33a6" class="mt mu jg kf b kg nc kk nd ko ne ks nf kw ng la my mz na nb bi translated"><a class="ae jd" href="https://medium.com/swlh/using-grpc-and-protobuf-in-golang-9c218d662db3" rel="noopener">在GoLang使用gRPC和proto buf</a></li><li id="6cc1" class="mt mu jg kf b kg nc kk nd ko ne ks nf kw ng la my mz na nb bi translated"><a class="ae jd" href="https://sumit-agarwal.medium.com/using-grpc-and-protobuf-in-java-f8730bb65aa7" rel="noopener">在Java中使用gRPC和proto buf</a></li></ol><p id="cbad" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更多即将推出…</p></div></div>    
</body>
</html>