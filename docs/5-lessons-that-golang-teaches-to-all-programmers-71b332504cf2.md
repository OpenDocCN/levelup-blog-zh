# Golang 教给所有程序员的 5 条经验

> 原文：<https://levelup.gitconnected.com/5-lessons-that-golang-teaches-to-all-programmers-71b332504cf2>

## 你可能不会用 Go 编程，但是这些经验对你喜欢的编程语言是有效的

![](img/5896b29204c193a86105e6535f97c7f3.png)

由[萨法尔·萨法罗夫](https://unsplash.com/@codestorm?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/coding?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 拍摄，由 Canva 编辑

Go(也称为 Golang)是一种流行的编程语言，用于构建开发人员工具、云计算项目、CLI 程序、桌面应用程序和 web 应用程序后端。由于其最小语法、性能、强大的并发支持和一致的语言设计，Go 越来越受欢迎。Go 不会取代你最喜欢的编程语言，但毫无疑问，相对于其他流行的编程语言，Go 是一种整体上很好的语言。

Golang 只有 25 个关键字[和支持面向对象风格的编程，甚至没有保留关键字`class`。如今，程序员倾向于在性能和并发性起关键作用的场景中使用 Go。](https://golang.org/ref/spec#Keywords)

像 C 编程语言一样，Go 不是一种必须学习的类型语言——但是 Go 的设计原则为所有程序员提供了宝贵的经验。在这个故事中，我将解释 Go 编程语言的一些有价值的教训。这些事实将要求你重新思考你今天解决软件工程问题的方式。

# 编写代码时不要过度设计

在一个函数中编写任何软件程序都是可能的。但是，我们通常将软件程序的代码库分成多个组件(模块、类或函数)，以实现更好的可维护性。分解代码库的方式决定了代码库的复杂性。当您创建几个组件时，代码库可能看起来很复杂，不太容易维护。另一方面，当您试图将代码分解成许多过度工程化的小组件时，代码库又变得复杂了。

优秀的程序员在编写代码时，倾向于通过管理最少数量的模块来最小化项目的复杂性。

Golang 鼓励我们通过其最小化的设计来防止过度工程化。Go 有一些保留的关键字，但提供了现代语言的所有特性。Go 通常不会提供多种方法来做同一件事。例如，Golang 不提供三元运算符和传统的 while 循环语法，因为它已经有了 if-else 和 For 控制流。Go 定义了一个最小的语法，没有使用超过语言需要的字符。请参见下面的 while 循环。

```
for x < 10 {
  sum += x
}
```

Golang 鼓励所有程序员在不过度工程化的情况下编写干净的代码。下面的故事将进一步指导您干净的代码实践:

[](https://betterprogramming.pub/5-clean-code-practices-for-every-software-project-479443b31c3c) [## 每个软件项目的 5 个干净代码实践

### 提高前端、后端、CLI、桌面或移动应用程序代码库质量的想法

better 编程. pub](https://betterprogramming.pub/5-clean-code-practices-for-every-software-project-479443b31c3c) 

# 停止扩展软件核心的功能

即使你的软件系统没有遵循基于插件的架构，你也可以有一个包含软件系统主要逻辑的模块。软件系统核心是指驱动整个软件系统的主要代码部分。例如，web 应用程序的核心模块由数据库连接、服务器代码、认证流和核心业务逻辑组成。

如果程序员不经常修改软件系统的核心，整个软件系统就变得稳定了。另一方面，如果程序员频繁地修改核心功能，整个软件系统会变得更容易出错、不稳定和缓慢。由于这个原因，大多数软件开发项目团队通常锁定(或最小化)核心修改。

Golang 通过其标准的 API 设计和内置特性给我们上了这一课。Go 的参考核心规范是固定的，但开发团队一直在用特性和改进来扩展标准库。这种方法确实帮助 Golang 在短时间内变得更加稳定。

# 基于异常的错误处理是针对异常情况的

程序员使用各种策略来处理他们软件系统中的错误。使用 C/C++语言的程序员通常倾向于使用错误代码进行错误处理。C#和 Java 开发人员总是使用基于异常的错误处理策略。同时，一些程序员只对关键的错误处理流程使用异常。

几乎所有现代编程语言都支持传统 try-catch 式语法的异常。使用异常确实没问题，但是异常会产生一些不可避免的问题。异常是针对异常情况的，但是大多数程序员甚至试图用异常来避免 if-else 验证。此外，异常使程序流变得复杂，因为 try-catch 块创建了另一个逻辑流来处理错误。

Golang 不提供传统的异常和 try-catch 块作为语言特性。相反，它让程序员将错误作为函数的第二个返回值返回。这种方法允许程序员在同一程序流中处理错误，而无需创建另一个逻辑流。例如，检查我们通常如何检测 Go 中的 JSON 解析错误。

```
err := json.Unmarshal([]byte(jsonString), &myStruct)

if err != nil {
    fmt.Println("JSON decode error!")
    return
}
```

抛出错误前要三思。检查是否可以设置默认值或使用 if 条件预先检查输入。

# 传统的面向对象程序设计并不是每个项目的最佳选择

如今，程序员经常使用遵循面向对象编程(OOP)范例的软件项目。OOP 范例为我们提供了几个原则，将大的代码库分成小的、易于管理的组件，称为类。OOP 不是构建软件系统的唯一编程范例——我们也可以使用过程、函数和逻辑范例。通过识别几个可管理的对象，我们确实可以使用 OOP 来构建任何软件系统。然而，OOP 也有一些缺点。

每个程序员通常都是从过程化编程范式开始编码的——还记得您是如何编写代码来通过命令行获得用户输入的吗？此外，过程化编程模式自然且易于理解，因为它鼓励将数据模型和逻辑分开。另一方面，OOP 鼓励在数据模型中编写逻辑。因此，OOP 原则会使简单的项目变得复杂和臃肿。此外，OOP 中的重用模式有时会导致过度工程化。

尽管 Go 提供了用方法创建类的方法，但它并不完全支持所有传统的 OOP 概念。Golang 不支持传统的类和继承(有一些变通办法)。Golang 提供了大多数以自然过程风格编写代码的特性。在为下一个软件项目绘制类图之前，考虑一下过程和函数范例。

# 考虑解决编码问题的所有可能性

作为程序员，我们通过编写代码来解决各种软件工程问题。有些问题有简单明了的解决方法。但是，我们遇到的大多数软件工程问题没有直接的解决方案——我们需要从候选解决方案池中构建最佳解决方案。一些程序员倾向于使用简单的捷径来解决问题，并产生需要耗时的代码重构的技术债务。

过早优化是万恶之源，但值得花时间从所有可能性中找到最佳解决方案，因为撤销过程在编程中很难。

Golang 以非常不同且令人印象深刻的方式解决编程语言设计问题——这是其他编程语言没有考虑到的。看看 Golang 如何支持创建枚举，甚至不用将`enum`作为保留关键字。

```
const (
    Red int = iota
    Green
    Blue
)
```

Golang 用 Goroutines 回答了并行编程问题。Goroutines 是托管的轻量级线程，而不是本机操作系统级线程。看看与其他编程语言相比，将函数转换成线程有多容易。

```
go func() {
    fmt.Println("I'm async!")
}()
```

掌握计算机科学知识是更好地解决计算问题的关键。下面的故事对此有更详细的解释:

[](https://betterprogramming.pub/why-every-developer-should-learn-computer-science-theories-first-bb49781a3432) [## 为什么每个开发人员都应该首先学习计算机科学理论

### 每个人都可以学习如何编码。计算机科学理论将教你如何编程

better 编程. pub](https://betterprogramming.pub/why-every-developer-should-learn-computer-science-theories-first-bb49781a3432)