<html>
<head>
<title>Introducing pandagg: pandas-inspired library for ElasticSearch aggregations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pandaggç®€ä»‹:ç†ŠçŒ«å¯å‘çš„å¼¹æ€§æœç´¢èšåˆåº“</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/introducing-pandagg-pandas-inspired-library-for-elasticsearch-aggregations-6647df33ce63?source=collection_archive---------24-----------------------#2020-06-29">https://levelup.gitconnected.com/introducing-pandagg-pandas-inspired-library-for-elasticsearch-aggregations-6647df33ce63?source=collection_archive---------24-----------------------#2020-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/178c036a6a6bac987ccdae142e7a460c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q95lSnMPtimi6c-1LgeeFQ.jpeg"/></div></div></figure><p id="78bd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨<strong class="kd iu"> pandagg </strong>åº“æœ‰æ•ˆåœ°æ¢ç´¢ç´¢å¼•å¹¶è®¡ç®—ElasticSearchä¸­ç´¢å¼•æ•°æ®çš„æ·±åº¦åµŒå¥—èšåˆã€‚</p><p id="043e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨è§£é‡Šäº†ç¼–å†™è¿™ä¸ªåº“çš„åŠ¨æœºä¹‹å(å¦‚æœèµ¶æ—¶é—´çš„è¯ï¼Œ<em class="kz">è½¬è‡³â€œ</em>è®©æˆ‘ä»¬å¼€å§‹å§<em class="kz">â€ä¸€èŠ‚</em>ï¼Œæˆ‘ä»¬å°†å¤„ç†IMDBæ•°æ®é›†å¹¶è®¡ç®—èšåˆï¼Œä»¥å›ç­”éœ€è¦è¶Šæ¥è¶Šå¤æ‚çš„æŸ¥è¯¢çš„é—®é¢˜ã€‚</p><p id="f243" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å®ƒå‡è®¾ä½ æœ‰å¼¹æ€§æœç´¢æ¦‚å¿µçš„åŸºæœ¬çŸ¥è¯†ã€‚</p><blockquote class="la lb lc"><p id="b77f" class="kb kc kz kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">è¿™é‡Œæ¶‰åŠçš„æ‰€æœ‰æ¦‚å¿µåœ¨<a class="ae lg" href="https://pandagg.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">åº“æ–‡æ¡£</a>ä¸­æœ‰æ›´è¯¦ç»†çš„è§£é‡Šã€‚githubåº“åœ¨è¿™é‡Œå¯ç”¨<a class="ae lg" href="https://github.com/alkemics/pandagg" rel="noopener ugc nofollow" target="_blank">ã€‚</a></p></blockquote></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><h1 id="c8cc" class="lo lp it bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">åŠ¨æœº</h1><p id="a610" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">ElasticSearchæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„APIæ¥è®¡ç®—ç´¢å¼•æ•°æ®çš„èšåˆæŒ‡æ ‡:èšåˆã€‚å…¶ä¸­ä¸€ä¸ªè‡´å‘½çš„ç‰¹æ€§æ˜¯èƒ½å¤ŸåµŒå¥—èšåˆå­å¥ï¼Œæ¡¶èšåˆä¸­æä¾›äº†å‚æ•°<code class="fe mr ms mt mu b">aggs</code>ã€‚</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="38b9" class="nd lp it mu b gy ne nf l ng nh">{<br/>    "per_genre": {<br/>        "terms": {"field": "genres","size": 3},<br/>        "aggs": {<br/>            "rating_average": {"avg": {"field": "rank"}},<br/>            "nb_roles_average": {"avg": {"field": "nb_roles"}<br/>            }<br/>        }<br/>    }<br/>}</span></pre><p id="0c80" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä½†æ˜¯å¦‚æœæ‚¨å·²ç»å°è¯•è¿‡è®¡ç®—åµŒå¥—å¾ˆæ·±çš„æŸ¥è¯¢ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½å¾ˆéš¾è§£ææŸ¥è¯¢çš„è¾“å‡ºã€‚</p></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><h2 id="a625" class="nd lp it bd lq ni nj dn lu nk nl dp ly km nm nn mc kq no np mg ku nq nr mk ns bi translated">èšåˆå¼‚æ„ç»“æœæ ¼å¼</h2><p id="07c0" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">ä¸€ä¸ªåŸå› æ˜¯èšåˆå…·æœ‰ä¸åŒçš„ç»“æœæ ¼å¼ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬æ¯”è¾ƒä¸€ä¸‹ç­›é€‰å™¨å’Œæœ¯è¯­èšåˆ:</p><p id="1324" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ­¤<code class="fe mr ms mt mu b">filters</code>èšåˆ:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="6842" class="nd lp it mu b gy ne nf l ng nh">{"decade": {"filters": {"filters": {<br/>  "1990-2000": {"range": {"year": {"lte": 2000,"gte": 1990}}},<br/>  "1980-1990": {"range": {"year": {"lte": 1990,"gte": 1980}}}}}<br/>  }}</span></pre><p id="67e1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">â€¦ä»¥æ˜ å°„â€œé”®â€-&gt;â€œæ¡¶â€çš„æ–¹å¼æä¾›æ¡¶:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="6639" class="nd lp it mu b gy ne nf l ng nh">{<br/>  "decade": {"buckets": {<br/>      "1980-1990": {"doc_count": 56623},<br/>      "1990-2000": {"doc_count": 91138}<br/>  }}<br/>}</span></pre><p id="8d55" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è€Œè¿™ä¸ª<code class="fe mr ms mt mu b">terms</code>èšåˆ:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="1ac5" class="nd lp it mu b gy ne nf l ng nh">{"genres": {"terms": {"field": "genres", "size": 3}}}</span></pre><p id="ee6e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">â€¦ä»¥å­—å…¸æ•°ç»„çš„å½¢å¼æä¾›å­˜å‚¨æ¡¶ï¼Œæ¯ä¸ªå­˜å‚¨æ¡¶éƒ½åŒ…å«è‡ªå·±çš„å…³é”®å­—:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="40f1" class="nd lp it mu b gy ne nf l ng nh">{<br/>  "genres": {<br/>    "doc_count_error_upper_bound": 0,<br/>    "sum_other_doc_count": 184804,<br/>    "buckets": [<br/>      {"key": "Short", "doc_count": 81013},<br/>      {"key": "Drama", "doc_count": 72877},<br/>      {"key": "Comedy", "doc_count": 56425}<br/>    ]<br/>  }<br/>}</span></pre><p id="7d3b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¸ºäº†å¯ç”¨é€šç”¨æ ¼å¼ï¼Œ<strong class="kd iu"> pandagg </strong>å°†ä¸ºæ‰€æœ‰èšåˆå“åº”ä½¿ç”¨ä¸€ä¸ªå…¬å…±æ¥å£:å®ƒå°†åœ¨å†…éƒ¨è€ƒè™‘æ¯ä¸ªå“åº”æ¡¶ç”±ä»¥ä¸‹å„é¡¹ç»„æˆ:</p><ul class=""><li id="bdb4" class="nt nu it kd b ke kf ki kj km nv kq nw ku nx ky ny nz oa ob bi translated">a <code class="fe mr ms mt mu b">level</code>:èšåˆçš„åç§°</li><li id="1ac9" class="nt nu it kd b ke oc ki od km oe kq of ku og ky ny nz oa ob bi translated">ä¸€ä¸ª<code class="fe mr ms mt mu b">key</code>:é‚£ä¸ªæ¡¶çš„é’¥åŒ™</li><li id="bba9" class="nt nu it kd b ke oc ki od km oe kq of ku og ky ny nz oa ob bi translated">ä¸€ä¸ªæˆ–å¤šä¸ª<code class="fe mr ms mt mu b">values</code>:ä¾‹å¦‚<code class="fe mr ms mt mu b">doc_count</code>ç”¨äºå¤§å¤šæ•°æ¡¶èšåˆï¼Œæˆ–è€…<code class="fe mr ms mt mu b">value</code>ç”¨äºå¤§å¤šæ•°åº¦é‡èšåˆã€‚è¿™äº›å€¼æ˜¯è¿”å›æ„Ÿå…´è¶£çš„å€¼çš„jsoné”®ã€‚</li></ul><p id="81be" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä»¥ä¸Šé¢çš„ä¾‹å­ä¸ºä¾‹ï¼Œ<code class="fe mr ms mt mu b">decades</code>è¿‡æ»¤å™¨èšåˆè¿”å›ä¸¤ä¸ªæ¡¶:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="6794" class="nd lp it mu b gy ne nf l ng nh">{"level": "decade", "key": "1980-1990", "value": 56623}<br/>{"level": "decade", "key": "1990-2000", "value": 91138}</span></pre><p id="0dad" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">â€¦ä»¥åŠ<code class="fe mr ms mt mu b">genres</code>å­—æ®µä¸‰ä¸Šçš„æœ¯è¯­èšåˆ:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="c730" class="nd lp it mu b gy ne nf l ng nh">{"level": "genres", "key": "Short", "value": 81013}<br/>{"level": "genres", "key": "Drama", "value": 72877}<br/>{"level": "genres", "key": "Comedy", "value": 56425}</span></pre><h2 id="4e2e" class="nd lp it bd lq ni nj dn lu nk nl dp ly km nm nn mc kq no np mg ku nq nr mk ns bi translated">æ ‘å½¢ä¸è¡¨æ ¼å½¢çŠ¶</h2><p id="6d67" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">å¦ä¸€ä¸ªåŸå› æ˜¯ï¼Œè®¸å¤šç”¨ä¾‹éœ€è¦è¡¨æ ¼æ ¼å¼çš„æ•°æ®ï¼Œè€ŒElasticSearch aggregationså“åº”å…·æœ‰æ ‘å½¢ç»“æ„ã€‚</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="ab1c" class="nd lp it mu b gy ne nf l ng nh">{<br/>    "per_genre": {<br/>        "terms": {"field": "genres","size": 3},<br/>        "aggs": {<br/>            "rating_average": {"avg": {"field": "rank"}},<br/>            "nb_roles_average": {"avg": {"field": "nb_roles"}<br/>            }<br/>        }<br/>    }<br/>}</span></pre><p id="6fab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¼šå¯¼è‡´:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="de63" class="nd lp it mu b gy ne nf l ng nh">{<br/>  "per_genre": {<br/>    "doc_count_error_upper_bound": 0,<br/>    "sum_other_doc_count": 241229,<br/>    "buckets": [<br/>      {<br/>        "key": "Short",<br/>        "doc_count": 81013,<br/>        "rating_average": {<br/>          "value": 6.39<br/>        },<br/>        "nb_roles_average": {<br/>          "value": 2.63<br/>        }<br/>      },<br/>      {<br/>        "key": "Drama",<br/>        "doc_count": 72877,<br/>        "rating_average": {<br/>          "value": 6.13<br/>        },<br/>        "nb_roles_average": {<br/>          "value": 14.93<br/>        }<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><p id="5689" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™å¯ä»¥è¡¨ç¤ºä¸º:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="7301" class="nd lp it mu b gy ne nf l ng nh">_<br/>â”œâ”€â”€ <strong class="mu iu">per_genre</strong>=Drama                                    72877<br/>â”‚   â”œâ”€â”€ nb_roles_average                               14.93<br/>â”‚   â””â”€â”€ rating_average                                  6.13<br/>â””â”€â”€ <strong class="mu iu">per_genre</strong>=Short                                    81013<br/>    â”œâ”€â”€ nb_roles_average                                2.63<br/>    â””â”€â”€ rating_average                                  6.39</span></pre><p id="0076" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è€Œè¡¨æ ¼æ ¼å¼åœ¨è®¸å¤šæƒ…å†µä¸‹æ›´åˆé€‚ã€‚å®ƒå¯ä»¥è¡¨ç¤ºä¸º:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="aa4e" class="nd lp it mu b gy ne nf l ng nh"><strong class="mu iu">              doc_count  nb_roles_average  rating_average</strong><br/><strong class="mu iu">per_genre</strong>                                             <br/>Short          81013              2.63            6.39<br/>Drama          72877             14.93            6.13</span></pre><p id="c1b7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™æ ·åšéœ€è¦ç¡®å®šä¸€ä¸ªçº§åˆ«ï¼Œåœ¨ä»¥ä¸‹ä¸¤è€…ä¹‹é—´åˆ’ä¸€æ¡çº¿:</p><ul class=""><li id="c019" class="nt nu it kd b ke kf ki kj km nv kq nw ku nx ky ny nz oa ob bi translated">åˆ†ç»„çº§åˆ«:é‚£äº›å°†è¢«ç”¨æ¥è¯†åˆ«è¡Œçš„çº§åˆ«(è¿™é‡Œæ˜¯<code class="fe mr ms mt mu b">genres</code>ï¼Œä½†æ˜¯æ­£å¦‚æˆ‘ä»¬å°†åœ¨åé¢çœ‹åˆ°çš„ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªçº§åˆ«)</li><li id="1ed6" class="nt nu it kd b ke oc ki od km oe kq of ku og ky ny nz oa ob bi translated">åˆ—çº§åˆ«:å°†ç”¨äºå¡«å……åˆ—å’Œå•å…ƒæ ¼çš„çº§åˆ«(è¿™é‡Œæ˜¯<code class="fe mr ms mt mu b">nb_roles_average</code>å’Œ<code class="fe mr ms mt mu b">rating_average</code>)</li></ul><p id="1b03" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¡¨æ ¼æ ¼å¼ç‰¹åˆ«é€‚åˆå…·æœ‰<code class="fe mr ms mt mu b">T</code>å½¢çŠ¶çš„èšåˆï¼Œä¾‹å¦‚:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="b429" class="nd lp it mu b gy ne nf l ng nh">group_level_1 -&gt; group_level_2 -&gt; column_level_A<br/>                              â”œâ”€&gt; column_level_B<br/>                              â””â”€&gt; column_level_C</span></pre><p id="ecd7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">â€¦å¯ä»¥åˆ†ä¸º:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="85f9" class="nd lp it mu b gy ne nf l ng nh"><strong class="mu iu">                      lvl_A         lvl_B        lvl_C</strong><br/><strong class="mu iu">lvl_1</strong>    <strong class="mu iu">lvl_2</strong>                                             <br/>key_1    key_11        xxx           xxx          xxx<br/>key_2    key_21        xxx           xxx          xxx<br/>key_2    key_22        xxx           xxx          xxx</span></pre></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><p id="b1d7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å› æ­¤ï¼Œç¼–å†™<strong class="kd iu"> pandagg </strong>çš„æœ€åˆç›®æ ‡æ˜¯æ¶ˆé™¤è§£æèšåˆå“åº”çš„éšœç¢ï¼Œå¹¶èƒ½å¤Ÿè½»æ¾åœ°å°†å…¶è½¬æ¢ä¸ºåˆé€‚çš„æ ¼å¼ã€‚è¿™å°±æ˜¯æœ¬æ–‡å°†è¦å±•ç¤ºçš„å†…å®¹ã€‚</p><p id="3bbe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å®ƒæä¾›äº†å…¶ä»–æœ‰ç”¨çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å°†åœ¨åé¢ä»‹ç»ã€‚</p><h1 id="765b" class="lo lp it bd lq lr oh lt lu lv oi lx ly lz oj mb mc md ok mf mg mh ol mj mk ml bi translated">æˆ‘ä»¬èµ°å§</h1><p id="cf92" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">åœ¨æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å¤„ç†ä»IMDBä¸­æå–çš„æ ·æœ¬æ•°æ®ï¼Œè¿™äº›æ•°æ®åœ¨æˆ‘ç”¨Elastic Cloudè®¾ç½®çš„AWSæ‰˜ç®¡é›†ç¾¤ä¸­è¿›è¡Œç´¢å¼•ï¼Œä»¥ä¾¿æ‚¨åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨å®ƒä»¬ï¼Œè¿™äº›æ•°æ®å¯ä»¥åœ¨<a class="ae lg" href="https://beba020ee88d49488d8f30c163472151.eu-west-2.aws.cloud.es.io:9243/" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">è¿™ä¸ªåœ°å€</strong> </a>è·å¾—ï¼Œç”¨æˆ·<code class="fe mr ms mt mu b">pandagg</code>ï¼Œå¯†ç <code class="fe mr ms mt mu b">pandagg</code>å…·æœ‰è¯»å–æƒé™ã€‚</p><p id="1bc5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¯¹äºè¿™ä¸ªæ¼”ç¤ºï¼Œæˆ‘é¼“åŠ±æ‚¨åœ¨<code class="fe mr ms mt mu b">ipython</code>ä¸­å¯åŠ¨è„šæœ¬è¿›è¡Œäº¤äº’ä½¿ç”¨ï¼Œå¹¶å®‰è£…<code class="fe mr ms mt mu b">pandagg</code>å’Œ<code class="fe mr ms mt mu b">pandas</code> (pandasæ˜¯ä¸€ä¸ªè½¯ä¾èµ–)ã€‚åœ¨æ‚¨çš„è™šæ‹Ÿç¯å¢ƒä¸­:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="1b53" class="nd lp it mu b gy ne nf l ng nh">pip install ipython pandagg pandas</span></pre><p id="ad43" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•:æ„å»ºå’Œæ‰§è¡Œèšåˆï¼Œå°†å®ƒä»¬çš„å“åº”è§£æä¸ºè¡¨æ ¼æ ¼å¼(åœ¨æœ¬ä¾‹ä¸­ï¼Œè§£æä¸ºpandas <a class="ae lg" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank"> dataframes </a>ä»¥è·å¾—æ›´å¥½çš„å¯è¯»æ€§)å’Œäº¤äº’å¼æ ‘ã€‚</p></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><p id="bc6a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è®©æˆ‘ä»¬æ¥çœ‹çœ‹æœ€å…·ä»£è¡¨æ€§çš„ç”µå½±ç±»å‹æœ‰å“ªäº›:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="9125" class="nd lp it mu b gy ne nf l ng nh">from pandagg.search import Search<br/>from elasticsearch import Elasticsearch</span><span id="bdab" class="nd lp it mu b gy om nf l ng nh">client = Elasticsearch(hosts=['<a class="ae lg" href="https://beba020ee88d49488d8f30c163472151.eu-west-2.aws.cloud.es.io:9243/'" rel="noopener ugc nofollow" target="_blank">https://beba020ee88d49488d8f30c163472151.eu-west-2.aws.cloud.es.io:9243/'</a>], http_auth=('pandagg', 'pandagg'))</span><span id="fcb8" class="nd lp it mu b gy om nf l ng nh">r = Search(index='movies', using=client)\<br/>    .aggs("genres_counts", "terms", field="genres", size=4)\<br/>    .size(0)\<br/>    .execute()</span><span id="c077" class="nd lp it mu b gy om nf l ng nh">r<br/>&gt;&gt;&gt; &lt;Response&gt; took 1ms, success: True, total result &gt;=10000, contains 10 hits</span></pre><blockquote class="la lb lc"><p id="2aa5" class="kb kc kz kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">æ³¨æ„äº‹é¡¹:</p><p id="0410" class="kb kc kz kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">-å¦‚æœä¸éœ€è¦ç‚¹å‡»ï¼Œè¯·å°†å¤§å°è®¾ç½®ä¸º0ã€‚</p><p id="8da7" class="kb kc kz kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">-è¿™æ˜¯å£°æ˜è¯¥æœç´¢æŸ¥è¯¢çš„ä¸€ç§æ–¹å¼ï¼Œæ‰€æœ‰å¯ç”¨çš„è¯­æ³•åœ¨pandagg <a class="ae lg" href="https://pandagg.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">æ–‡æ¡£</a>ä¸­æœ‰è¯¦ç»†è¯´æ˜</p><p id="dd1b" class="kb kc kz kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">-æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨äº†å®˜æ–¹elasticsearch-dsl pythonåº“ä¸­ä½¿ç”¨çš„è¯­æ³•ï¼Œæä¾›äº†(agg_nameï¼Œagg_typeï¼Œ**body)å‚æ•°ã€‚å§‘ä¸”ç§°ä¹‹ä¸ºâ€œå¹³é¢è¯­æ³•â€ã€‚</p></blockquote><p id="aaeb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe mr ms mt mu b">Response</code>å¯¹è±¡æŒæœ‰<code class="fe mr ms mt mu b">hits</code>å’Œ<code class="fe mr ms mt mu b">aggregation</code>å±æ€§ã€‚</p><p id="34b0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">èšåˆå¯¹è±¡æä¾›äº†å‡ ç§æ–¹æ³•æ¥è§£æå‡ ç§æ ‘æˆ–è¡¨æ ¼æ ¼å¼çš„å“åº”ï¼Œè¿™äº›æ ¼å¼ä¸éœ€è¦<code class="fe mr ms mt mu b">pandas</code>ä¾èµ–é¡¹(<code class="fe mr ms mt mu b">to_tabular</code>ã€<code class="fe mr ms mt mu b">to_interactive_tree</code>ç­‰)ã€‚è¿™é‡Œæˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨å…·æœ‰æ›´å¥½æ˜¾ç¤ºçš„<code class="fe mr ms mt mu b">to_dataframe</code>æ–¹æ³•ï¼Œå› æ­¤åœ¨åšå®¢æ–‡ç« ä¸­çœ‹èµ·æ¥æ›´å¥½ã€‚</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="beaf" class="nd lp it mu b gy ne nf l ng nh">r.aggregations.to_dataframe()</span></pre><p id="b7f2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™å¯¼è‡´:</p><figure class="mv mw mx my gt ju gh gi paragraph-image"><div class="gh gi on"><img src="../Images/daa63e931a4cfe02b0220b847d3167e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*1B9h_6LXe5ZUoE-4pDNbhw.png"/></div></figure><p id="103b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è®©æˆ‘ä»¬æ¯åå¹´æ‰“ç ´å®ƒï¼Œå¹¶è®¡ç®—å…¶ä»–æŒ‡æ ‡:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="2610" class="nd lp it mu b gy ne nf l ng nh">r = Search(index='movies', using=client)\<br/>    .groupby('decade', 'histogram', interval=10, field='year')\<br/>    .groupby('genres', size=3)\<br/>    .aggs({<br/>        "avg_rank": {"avg": {"field": "rank"}},<br/>        "avg_nb_roles": {"max": {"field": "nb_roles"}}<br/>    })\<br/>    .filter('range', year={"gte": 1990})\<br/>    .execute()</span></pre><blockquote class="la lb lc"><p id="370b" class="kb kc kz kd b ke kf kg kh ki kj kk kl ld kn ko kp le kr ks kt lf kv kw kx ky im bi translated">æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨å¹³é¢è¯­æ³•è¿›è¡Œåˆ†ç»„æ“ä½œï¼Œå¹¶ä½¿ç”¨æœ¬åœ°â€œdictâ€è¯­æ³•æ¥å£°æ˜aggséƒ¨åˆ†</p></blockquote><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="4e20" class="nd lp it mu b gy ne nf l ng nh">r.aggregations.to_dataframe()</span></pre><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/daecb2b0079804638ef4589adfc1c6a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GiZvv_gw0IAKvjB0Mm7vvg.png"/></div></div></figure><p id="68ab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¯·æ³¨æ„ï¼Œå¦‚æœé€‚åˆæ‚¨æ¥è·å¾—å®Œå…¨ç›¸åŒçš„ç»“æœï¼Œæ‚¨å®é™…ä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨å¸¸è§„çš„dictè¯­æ³•:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="28b6" class="nd lp it mu b gy ne nf l ng nh">r = Search(using=client, index="movies")\<br/>  .aggs({<br/>    "decade": {<br/>      "histogram": {"field": "year", "interval": 10},<br/>      "aggs": {<br/>        "genres": {"terms": {"field": "genres", "size": 3},<br/>        "aggs":{<br/>          "avg_nb_roles": {"max": {"field":"nb_roles"}},<br/>          "avg_rank": {"avg": {"field": "rank"}}}<br/>        }<br/>      }<br/>    }<br/>  })\<br/>  .execute()</span></pre><h2 id="766b" class="nd lp it bd lq ni nj dn lu nk nl dp ly km nm nn mc kq no np mg ku nq nr mk ns bi translated">åœ¨èšåˆå“åº”ä¸­å¯¼èˆª</h2><p id="dcb4" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">åœ¨å…¶ä»–èšåˆåºåˆ—åŒ–æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹<code class="fe mr ms mt mu b">to_interactive_tree</code>:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="1f93" class="nd lp it mu b gy ne nf l ng nh">interactive_agg = r.aggregations.to_interactive_tree()<br/>interactive_agg</span><span id="fc6e" class="nd lp it mu b gy om nf l ng nh">&gt;&gt;&gt;<br/>&lt;IResponse&gt;<br/>root<br/>â”œâ”€â”€ decade=1990                                        79495<br/>â”‚   â”œâ”€â”€ genres=Documentary                              8393<br/>â”‚   â”‚   â”œâ”€â”€ avg_nb_roles                               217.0<br/>â”‚   â”‚   â””â”€â”€ avg_rank                       6.517093241977517<br/>â”‚   â”œâ”€â”€ genres=Drama                                   12232<br/>â”‚   â”‚   â”œâ”€â”€ avg_nb_roles                               340.0<br/>â”‚   â”‚   â””â”€â”€ avg_rank                       5.981429367965072<br/>â”‚   â””â”€â”€ genres=Short                                   12197<br/>â”‚       â”œâ”€â”€ avg_nb_roles                                82.0<br/>â”‚       â””â”€â”€ avg_rank                       6.311325829450123<br/>â””â”€â”€ decade=2000                                        57649<br/>    â”œâ”€â”€ genres=Documentary                              8639<br/>    â”‚   â”œâ”€â”€ avg_nb_roles                               178.0<br/>    â”‚   â””â”€â”€ avg_rank                       6.980897812811443<br/>    â”œâ”€â”€ genres=Drama                                   11500<br/>    â”‚   â”œâ”€â”€ avg_nb_roles                               227.0<br/>    â”‚   â””â”€â”€ avg_rank                       6.269675415719865<br/>    â””â”€â”€ genres=Short                                   13451<br/>        â”œâ”€â”€ avg_nb_roles                               118.0<br/>        â””â”€â”€ avg_rank                        6.83625304327684</span></pre><p id="53f1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ‚¨å¯ä»¥ä½¿ç”¨è‡ªåŠ¨å®ŒæˆåŠŸèƒ½åœ¨å…¶ä¸­å¯¼èˆª:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="0c0c" class="nd lp it mu b gy ne nf l ng nh">interactive_agg.decade_1990.genres_Drama</span><span id="dc67" class="nd lp it mu b gy om nf l ng nh">&gt;&gt;&gt;<br/>&lt;IResponse subpart: decade_1990.genres_Drama&gt;<br/>genres=Drama                                           12232<br/>â”œâ”€â”€ avg_nb_roles                                       340.0<br/>â””â”€â”€ avg_rank                               5.981429367965072</span></pre><p id="15cf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe mr ms mt mu b">get_bucket_filter</code>ç»™ä½ æŸ¥è¯¢è¿‡æ»¤å±äºç»™å®šæ¡¶çš„æ–‡æ¡£:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="72a6" class="nd lp it mu b gy ne nf l ng nh">interactive_agg.decade_1990.genres_Drama.get_bucket_filter()</span><span id="4d95" class="nd lp it mu b gy om nf l ng nh">&gt;&gt;&gt;<br/>{<br/>    "bool": {<br/>        "must": [<br/>            {"range": {"year": {"gte": 1990.0, "lt": 2000.0}}},<br/>            {"term": {"genres": {"value": "Drama"}}}<br/>        ],<br/>        "filter": [{"range": {"year": {"gte": 1990}}}]<br/>    }<br/>}</span></pre><p id="9fd4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe mr ms mt mu b">list_documents</code>æ–¹æ³•å®é™…æ‰§è¡ŒæŸ¥è¯¢ï¼Œåˆ—å‡ºå±äºbucketçš„æ–‡æ¡£:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="3b56" class="nd lp it mu b gy ne nf l ng nh">interactive_agg.decade_1990.genres_Drama.list_documents(size=2, _source={"includes": ['name']})</span><span id="7c15" class="nd lp it mu b gy om nf l ng nh">&gt;&gt;&gt;<br/>{<br/>  "took": 13,<br/>  "timed_out": false,<br/>  "_shards": {"total": 1, "successful": 1, "skipped": 0, "failed": 0},<br/>  "hits": {<br/>    "total": {"value": 10000, "relation": "gte"},<br/>    "max_score": 2.4539857,<br/>    "hits": [<br/>      {<br/>        "_index": "movies", "_type": "_doc", <br/>        "_id": "706", "_score": 2.4539857, <br/>        "_source": {"name": "100 meter fri"}<br/>      },<br/>      {<br/>        "_index": "movies", "_type": "_doc", <br/>        "_id": "714", "_score": 2.4539857, <br/>        "_source": {"name": "100 Proof"}<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><h1 id="1856" class="lo lp it bd lq lr oh lt lu lv oi lx ly lz oj mb mc md ok mf mg mh ol mj mk ml bi translated">å°±è¿™æ ·ï¼Ÿ</h1><p id="7904" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">ä¸ï¼Œå®é™…ä¸Šåœ¨<strong class="kd iu"> pandagg </strong>ä¸­è¿˜æœ‰å¾ˆå¤šå…¶ä»–å¾ˆé…·çš„åŠŸèƒ½ï¼è¿™é‡Œæ˜¯ä¸€ä¸ªå¿«é€Ÿçš„æ¦‚è¿°ï¼Œå¦‚æœè¿™ä¸ªåº“å¼•èµ·äº†ä¸€äº›å…´è¶£ï¼Œæˆ‘å¯èƒ½ä¼šè¿›ä¸€æ­¥è¯¦è¿°ã€‚</p><h2 id="5ff3" class="nd lp it bd lq ni nj dn lu nk nl dp ly km nm nn mc kq no np mg ku nq nr mk ns bi translated">å‘ç°æ¨¡å—</h2><p id="1990" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">å‘ç°æ¨¡å—å…è®¸å¿«é€Ÿæµè§ˆé›†ç¾¤ä¸­çš„å¯ç”¨ç´¢å¼•:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="e371" class="nd lp it mu b gy ne nf l ng nh">from elasticsearch import Elasticsearch<br/>from pandagg.discovery import discover</span><span id="8baf" class="nd lp it mu b gy om nf l ng nh">client = Elasticsearch(hosts=['<a class="ae lg" href="https://beba020ee88d49488d8f30c163472151.eu-west-2.aws.cloud.es.io:9243/'" rel="noopener ugc nofollow" target="_blank">https://beba020ee88d49488d8f30c163472151.eu-west-2.aws.cloud.es.io:9243/'</a>], http_auth=('pandagg', 'pandagg'))</span><span id="4f4a" class="nd lp it mu b gy om nf l ng nh">indices = discover(client, index="mov*")</span><span id="236b" class="nd lp it mu b gy om nf l ng nh"># indices provides autocomplete on contained indices<br/>indices<br/>&gt;&gt;&gt; &lt;Indices&gt; ['movies', 'movies_fake']</span><span id="dd47" class="nd lp it mu b gy om nf l ng nh">movies = indices.movies</span></pre><p id="6c80" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Indiceå¯¹è±¡åŒ…å«ç›¸å…³çš„<code class="fe mr ms mt mu b">settings</code>ã€<code class="fe mr ms mt mu b">mappings</code>å’Œ<code class="fe mr ms mt mu b">settings</code>å±æ€§ï¼Œä»¥åŠç”¨äºæ„å»ºæŸ¥è¯¢çš„<code class="fe mr ms mt mu b">search</code>æ–¹æ³•:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="ca9c" class="nd lp it mu b gy ne nf l ng nh">recent_movies = movies.search().filter("range", year={"gte": 1990}).execute()</span></pre><h2 id="19fd" class="nd lp it bd lq ni nj dn lu nk nl dp ly km nm nn mc kq no np mg ku nq nr mk ns bi translated">åœ°å›¾å¯¼èˆª</h2><p id="1a71" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated"><code class="fe mr ms mt mu b">mapping</code>å±æ€§å…·æœ‰æœ‰è¶£çš„ç‰¹æ€§ï¼Œå®ƒè¿”å›ä¸€ä¸ªå…·æœ‰å¯å¯¼èˆªè‡ªåŠ¨å®ŒæˆåŠŸèƒ½çš„äº¤äº’å¼æ ‘:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="0c6a" class="nd lp it mu b gy ne nf l ng nh">movies.mapping</span><span id="d402" class="nd lp it mu b gy om nf l ng nh">&gt;&gt;&gt;</span><span id="eb5a" class="nd lp it mu b gy om nf l ng nh">&lt;Mapping&gt;<br/>_<br/>â”œâ”€â”€ directors                                     [Nested]<br/>â”‚   â”œâ”€â”€ director_id                                Keyword<br/>â”‚   â”œâ”€â”€ first_name                                 Text<br/>â”‚   â”‚   â””â”€â”€ raw                                  ~ Keyword<br/>â”‚   â”œâ”€â”€ full_name                                  Text<br/>â”‚   â”‚   â””â”€â”€ raw                                  ~ Keyword<br/>â”‚   â”œâ”€â”€ gender                                     Keyword<br/>â”‚   â”œâ”€â”€ last_name                                  Text<br/>â”‚   â”‚   â””â”€â”€ raw                                  ~ Keyword<br/>â”‚   â””â”€â”€ role                                       Keyword<br/>â”œâ”€â”€ genres                                         Keyword<br/>â”œâ”€â”€ movie_id                                       Keyword<br/>...</span></pre><p id="bdf6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è‡ªåŠ¨å®ŒæˆåŠŸèƒ½å¯ç”¨äºæ— ç¼å¯¼èˆª:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="a88d" class="nd lp it mu b gy ne nf l ng nh">movies.mapping.directors.first_name</span><span id="cfbe" class="nd lp it mu b gy om nf l ng nh">&gt;&gt;&gt;<br/>&lt;Mapping subpart: directors.first_name&gt;<br/>first_name                                        Text<br/>â””â”€â”€ raw                                         ~ Keyword</span></pre><p id="b99d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è°ƒç”¨å®ƒå°†æ˜¾ç¤ºè¯¦ç»†çš„å­—æ®µä½“:</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="17ea" class="nd lp it mu b gy ne nf l ng nh">movies.mapping.directors.first_name()</span><span id="f797" class="nd lp it mu b gy om nf l ng nh">&gt;&gt;&gt;<br/>{<br/>  "fields": {<br/>    "raw": {<br/>      "type": "keyword"<br/>    }<br/>  },<br/>  "type": "text"<br/>}</span></pre><p id="efdf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¶å­—æ®µä¸Šçš„<code class="fe mr ms mt mu b">a</code>å±æ€§åˆ—å‡ºäº†å¯ä»¥åœ¨è¯¥å­—æ®µç±»å‹ä¸Šè®¡ç®—çš„æ‰€æœ‰èšåˆï¼Œå¹¶è®¡ç®—å®ƒ(åŒæ ·ä½¿ç”¨è‡ªåŠ¨å®Œæˆ):</p><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="a86d" class="nd lp it mu b gy ne nf l ng nh">movies.mapping.nb_roles.a.extended_stats()</span></pre><figure class="mv mw mx my gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi op"><img src="../Images/df65da1e5103a3e606c7bc312abd3d40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WDfYxGyF8UhUekHvSyLO7g.png"/></div></div></figure><pre class="mv mw mx my gt mz mu na nb aw nc bi"><span id="225f" class="nd lp it mu b gy ne nf l ng nh">movies.mapping.genres.a.terms()</span></pre><figure class="mv mw mx my gt ju gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/05be731efbaca307c8b75f5d75e1f30c.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*gSzJoOlQxeheOnS6XTslYA.png"/></div></figure><h2 id="3338" class="nd lp it bd lq ni nj dn lu nk nl dp ly km nm nn mc kq no np mg ku nq nr mk ns bi translated">å…¶ä»–åŠŸèƒ½åŒ…æ‹¬:</h2><ul class=""><li id="6891" class="nt nu it kd b ke mm ki mn km or kq os ku ot ky ny nz oa ob bi translated"><strong class="kd iu">è®¡ç®—æœç´¢æ“ä½œçš„å®Œæ•´DSL</strong>(æŸ¥è¯¢/èšåˆ/post_filterç­‰)ï¼Œå…·æœ‰çµæ´»çš„è¯­æ³•ï¼Œèƒ½å¤Ÿåœ¨ç‰¹å®šä½ç½®æ’å…¥æŸ¥è¯¢å­å¥ï¼ŒæŒ‡å®šè¦åœ¨å“ªä¸ªæŒ‡å®šçš„æŸ¥è¯¢å­å¥ä¸‹/ä¸Šæ’å…¥æ–°å­å¥</li><li id="d3f7" class="nt nu it kd b ke oc ki od km oe kq of ku og ky ny nz oa ob bi translated">é€‰æ‹©åŠ å…¥è‡ªåŠ¨åµŒå¥—åŠŸèƒ½ï¼Œå¯åœ¨éœ€è¦çš„åœ°æ–¹è‡ªåŠ¨å°†åµŒå¥—å­å¥æ’å…¥åˆ°èšåˆä¸­</li></ul></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><h1 id="ad4e" class="lo lp it bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">æ¥ä¸‹æ¥å‘¢ï¼Ÿ</h1><p id="c63a" class="pw-post-body-paragraph kb kc it kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">æœªæ¥çš„å·¥ä½œé‡ç‚¹æ˜¯:</p><ul class=""><li id="db2d" class="nt nu it kd b ke kf ki kj km nv kq nw ku nx ky ny nz oa ob bi translated">æ–‡æ¡£:æ­¤å¤„<a class="ae lg" href="https://pandagg.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">æœ‰</a>çš„æ–‡æ¡£ï¼Œå°†æ ¹æ®æ›´å¤šçš„ä¾‹å­å’Œåé¦ˆè¿›è¡Œæ”¹è¿›</li><li id="756f" class="nt nu it kd b ke oc ki od km oe kq of ku og ky ny nz oa ob bi translated">äº¤ä»˜æ¯ä¸ªä¸»è¦Elasticsearchç‰ˆæœ¬â‰¥ 5çš„ç‰ˆæœ¬(å½“å‰<strong class="kd iu"> pandagg </strong>ç‰ˆæœ¬ä»…ä¸Elasticsearch â‰¥7.x.xå…¼å®¹ï¼Œä¸ä¸ä»¥å‰çš„ç‰ˆæœ¬å…¼å®¹)</li><li id="7f6e" class="nt nu it kd b ke oc ki od km oe kq of ku og ky ny nz oa ob bi translated">æ¶µç›–äº†å¤§éƒ¨åˆ†çš„å¼¹æ€§æœç´¢æ“ä½œã€‚ç°åœ¨å®ƒä¸»è¦å…³æ³¨äº<strong class="kd iu">è¯»</strong>æ“ä½œï¼Œæˆ‘æƒ³æŠŠå®ƒæ‰©å±•åˆ°<strong class="kd iu">å†™</strong>æ“ä½œ</li></ul><p id="1c9b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¸Œæœ›ä½ è§‰å¾—æœ‰ç”¨ã€‚æ¬¢è¿å¹¶æ„Ÿè°¢æ¯ä¸€ä¸ªåé¦ˆã€åŠŸèƒ½è¯·æ±‚å’Œå¯¹æ”¹è¿›<strong class="kd iu"> pandagg </strong>çš„å¸®åŠ©ï¼</p><p id="d5c3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi">ğŸ‘‹ ğŸš€</p></div></div>    
</body>
</html>