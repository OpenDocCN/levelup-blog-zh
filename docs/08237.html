<html>
<head>
<title>Tutorial: Control Flow in Bash Scripting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">教程:Bash脚本中的控制流</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tutorial-conditional-statements-in-bash-scripting-d940a8b5e3c2?source=collection_archive---------12-----------------------#2021-04-13">https://levelup.gitconnected.com/tutorial-conditional-statements-in-bash-scripting-d940a8b5e3c2?source=collection_archive---------12-----------------------#2021-04-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="da84" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Bash脚本中条件语句的例子</h2></div><p id="71c8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本教程中，我们将提供bash脚本中条件语句的基本示例。</p><h1 id="be22" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">通过命令行向脚本传递变量</h1><p id="6da5" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">在脚本中，我们可以用美元符号<code class="fe mb mc md me b">$</code>定义变量。通过添加一个数字，我们引用了我们想要传递的变量。因此，<code class="fe mb mc md me b">$1</code>是第一个变量，<code class="fe mb mc md me b">$2</code>是第二个变量，依此类推。让我们看一个例子。下面我们来考虑一下<code class="fe mb mc md me b">myexample.sh</code>的脚本。</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="3c61" class="mn lf it me b gy mo mp l mq mr">echo "Hello, I pass the first variable $1 and the second one $2"</span></pre><p id="3026" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们通过键入以下命令来运行它:</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="8147" class="mn lf it me b gy mo mp l mq mr">bash myexample.sh var1 var2</span></pre><p id="93e6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里，<strong class="kk iu">变量1 </strong>被分配给<code class="fe mb mc md me b">$1</code>，而<strong class="kk iu">变量2 </strong>被分配给<code class="fe mb mc md me b">$2</code>，输出为:</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="295b" class="mn lf it me b gy mo mp l mq mr">Hello, I pass the first variable var1 and the second one var2</span></pre><h1 id="4d1d" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">if-then-else语句</h1><p id="8d1b" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">让我们提供一个简单的“if语句”的例子。脚本<code class="fe mb mc md me b">ifthenelse.sh</code>如下，它要求终端用户输入一个30-40之间的数字，如果猜测的数字等于37 ( <code class="fe mb mc md me b">-eq</code>)，那么它返回“<strong class="kk iu">你找到了！</strong>”，否则它返回“<strong class="kk iu">错误答案！</strong>”:</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="dfe2" class="mn lf it me b gy mo mp l mq mr">echo "Guess my Age!"<br/>echo "#####################"<br/>echo ""<br/>echo "Enter a Number Between 30 and 40: "<br/>read GUESS</span><span id="7a49" class="mn lf it me b gy ms mp l mq mr">if [ $GUESS -eq 37 ]<br/>then<br/>    echo "You found it!"<br/>else<br/>    echo "Wrong answer!"<br/>fi</span></pre><p id="475d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们通过猜测正确的年龄37来运行它，然后再次输入35。</p><figure class="mf mg mh mi gt mu gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/9c95b9b7817a66c3afd1b6179d891cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/0*ZlPvoPAPxdzLcGgD.png"/></div></figure><p id="034a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，Bash脚本中的<strong class="kk iu"> else if </strong>是Python中的<code class="fe mb mc md me b">elif</code>。</p><h1 id="66e9" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">for循环</h1><p id="f040" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">假设我们希望获得工作目录中每个Bash脚本的第一行:</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="8e7d" class="mn lf it me b gy mo mp l mq mr">echo "List the first line of all bash scripts within the directory"</span><span id="1768" class="mn lf it me b gy ms mp l mq mr">SHELLSCRIPTS=`ls *.sh`</span><span id="7f20" class="mn lf it me b gy ms mp l mq mr">for SCRIPT in "$SHELLSCRIPTS"<br/>do<br/>    DISPLAY="`head -n 1 $SCRIPT`"<br/> echo "File: $SCRIPT - First Lines $DISPLAY"<br/>done</span></pre><figure class="mf mg mh mi gt mu gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/6a2dfa0aafa49cfd857cec4e84d9b9fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/0*qum-jqC8pAeEv7O1.png"/></div></figure><h1 id="185e" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">案例陈述</h1><p id="209e" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">让我们提供一个Bash中case语句的例子:</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="b16d" class="mn lf it me b gy mo mp l mq mr">echo "How shall we proceed"<br/>echo "+++++++++++++++"<br/>echo "Press 1 for the main menu"<br/>echo "Press 2 for help"<br/>echo "Press 3 to exit"<br/>echo ""<br/>echo "Press a number between 1 and 3"</span><span id="8d28" class="mn lf it me b gy ms mp l mq mr">read CHOICE</span><span id="5e26" class="mn lf it me b gy ms mp l mq mr">case $CHOICE in<br/>1)<br/>  echo "You are in the main menu";;<br/>2)<br/>  echo "You asked for help";;<br/>3)<br/>  echo "You exit";;<br/>*)<br/>  echo "Choose a number between 1 and 3";;<br/>esac</span></pre><figure class="mf mg mh mi gt mu gh gi paragraph-image"><div class="gh gi my"><img src="../Images/7f531dc8cf4b6310ace7039cb76bcb7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/0*xMapw1lsuRdqFdWF.png"/></div></figure><h1 id="d303" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">while循环</h1><p id="ef89" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">让我们提供一个while循环的例子。</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="ef04" class="mn lf it me b gy mo mp l mq mr">echo "This is a while loop example"</span><span id="2700" class="mn lf it me b gy ms mp l mq mr">COUNT=1</span><span id="3200" class="mn lf it me b gy ms mp l mq mr">while [ $COUNT -le 10 ]<br/>do<br/>  echo "This is the loop number $COUNT"<br/>  COUNT="`expr $COUNT + 1`"<br/>done</span></pre><figure class="mf mg mh mi gt mu gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi mz"><img src="../Images/61b6ba093a0d0f1e0213302cd161c4cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FpI1x_-SWy_jgv4m.png"/></div></div></figure><h1 id="6894" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">执行运算符(&amp;&amp;和||)</h1><p id="2de4" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">在Bash脚本中，<strong class="kk iu">和</strong>是<code class="fe mb mc md me b">&amp;&amp;</code>，而<strong class="kk iu">或</strong>是<code class="fe mb mc md me b">||</code>。只有左侧的退出状态为零(即真)时，<code class="fe mb mc md me b">&amp;&amp;</code>的右侧才会被评估。<code class="fe mb mc md me b">||</code>则相反:只有左侧退出状态不为零(即false)时，才会对右侧进行评估。如果里面的测试评估为真，则返回零；否则返回非零值。例如:</p><pre class="mf mg mh mi gt mj me mk ml aw mm bi"><span id="760e" class="mn lf it me b gy mo mp l mq mr">$ false &amp;&amp; echo howdy!</span><span id="8e91" class="mn lf it me b gy ms mp l mq mr">$ true &amp;&amp; echo howdy!<br/>howdy!<br/>$ true || echo howdy!</span><span id="a5ee" class="mn lf it me b gy ms mp l mq mr">$ false || echo howdy!<br/>howdy!</span></pre></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="1766" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="nl">原载于</em><a class="ae nm" href="https://predictivehacks.com/tutorial-conditional-statements-in-bash-scripting/" rel="noopener ugc nofollow" target="_blank"><em class="nl">https://predictivehacks.com</em></a><em class="nl">。</em></p></div></div>    
</body>
</html>