<html>
<head>
<title>Exceptions in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的异常</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/exceptions-in-python-3eacaa894e4c?source=collection_archive---------6-----------------------#2022-07-30">https://levelup.gitconnected.com/exceptions-in-python-3eacaa894e4c?source=collection_archive---------6-----------------------#2022-07-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8b77" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于Python中异常的实践教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0a6b5f402cbaedfcd387eb797b6e4ed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*j4padeRHDuuzpjD2"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@albertshere?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿尔伯特·斯托伊诺夫</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><div class="kz la gp gr lb lc"><a href="https://jorgepit-14189.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">用我的推荐链接加入媒体-乔治皮皮斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">阅读乔治·皮皮斯(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">jorgepit-14189.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="c53b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在本教程中，我们将为您提供一个Python中异常处理的示例。为简单起见，我们将使用除法函数。先说一个简单的版本。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="6862" class="ms mt it mo b gy mu mv l mw mx">def div_func(a,b):<br/>    return a/b</span><span id="184d" class="ms mt it mo b gy my mv l mw mx">print(div_func(10,2))</span><span id="5fc2" class="ms mt it mo b gy my mv l mw mx">5.0</span></pre><p id="5db0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该功能似乎工作正常。但是让我们看看当我们要求除以0时会得到什么。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="fc77" class="ms mt it mo b gy mu mv l mw mx">print(div_func(10,0))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/d3a4c831fa79c44cc675a94cdf054ae2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*O3cKk4jXtxA_2huY.png"/></div></div></figure><p id="57bd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如我们所看到的，我们得到了上面的错误。使用<code class="fe na nb nc mo b">try-except</code>语句，我们可以处理这些错误。假设我们想返回消息“你不能被0除”。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="22f0" class="ms mt it mo b gy mu mv l mw mx">def div_func(a,b):<br/>    try:<br/>        return a/b<br/>    except:<br/>        return "You cannot divide by 0"</span><span id="17d9" class="ms mt it mo b gy my mv l mw mx">print(div_func(10,0))</span><span id="bb10" class="ms mt it mo b gy my mv l mw mx">You cannot divide by 0</span><span id="46aa" class="ms mt it mo b gy my mv l mw mx">print(div_func(7,2))</span><span id="a3d0" class="ms mt it mo b gy my mv l mw mx">3.5</span></pre><p id="1b53" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如我们所看到的，我们设法“处理了这个错误”，但我们理所当然地认为错误是被零除。好消息是，我们可以使用基类<strong class="lt iu">异常</strong>，它用于Python中编写的所有异常。我们可以通过在<strong class="lt iu"> </strong>异常后使用“<strong class="lt iu">as e”</strong>返回异常消息，作为异常的别名。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="e104" class="ms mt it mo b gy mu mv l mw mx">def div_func(a,b):<br/>    try:<br/>        return a/b<br/>    except Exception as e:<br/>        return e</span><span id="150a" class="ms mt it mo b gy my mv l mw mx">print(div_func(10,0))</span><span id="3417" class="ms mt it mo b gy my mv l mw mx">division by zero</span></pre><p id="d6b2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">正如我们所看到的，我们返回了由类“Exception”检测到的错误。我们还可以使用<code class="fe na nb nc mo b">e.__class__</code>来访问错误类型。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="eae3" class="ms mt it mo b gy mu mv l mw mx">def div_func(a,b):<br/>    try:<br/>        return a/b<br/>    except Exception as e:<br/>        return e.__class__</span><span id="54d2" class="ms mt it mo b gy my mv l mw mx">print(div_func(10,0))</span><span id="7d27" class="ms mt it mo b gy my mv l mw mx">&lt;class 'ZeroDivisionError'&gt;</span></pre><p id="2349" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们看看另一个例子，我们要求除以字符串，在这种情况下，与“<strong class="lt iu">两个</strong>”。</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="6bd6" class="ms mt it mo b gy mu mv l mw mx">def div_func(a,b):<br/>    try:<br/>        return a/b<br/>    except Exception as e:<br/>        return e</span><span id="2c86" class="ms mt it mo b gy my mv l mw mx">print(div_func(10,"two"))</span><span id="5f3b" class="ms mt it mo b gy my mv l mw mx">unsupported operand type(s) for /: 'int' and 'str'</span></pre><p id="e5d9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果我们知道预期误差，我们可以在<code class="fe na nb nc mo b">except</code>语句中定义它。例如:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="aac2" class="ms mt it mo b gy mu mv l mw mx">def div_func(a,b):<br/>    try:<br/>        return a/b<br/>    except ZeroDivisionError as e:<br/>        return e</span><span id="b9d1" class="ms mt it mo b gy my mv l mw mx">print(div_func(10,0))</span><span id="1a0f" class="ms mt it mo b gy my mv l mw mx">division by zero</span></pre><p id="562b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最后，重要的是要知道，我们可以处理不止一个异常。例如:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="3ac2" class="ms mt it mo b gy mu mv l mw mx">def div_func(a,b):<br/>    try:<br/>        return a/b<br/>    except ZeroDivisionError as e:<br/>        return e<br/>    except Exception as e:<br/>        return e</span><span id="ea74" class="ms mt it mo b gy my mv l mw mx">print(div_func(10,"5"))</span><span id="fe64" class="ms mt it mo b gy my mv l mw mx">unsupported operand type(s) for /: 'int' and 'str'</span></pre><h1 id="819c" class="nd mt it bd ne nf ng nh ni nj nk nl nm jz nn ka no kc np kd nq kf nr kg ns nt bi translated">引发异常</h1><p id="ff1e" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">如果条件发生，我们可以引发一个异常。例如:</p><pre class="kj kk kl km gt mn mo mp mq aw mr bi"><span id="71c9" class="ms mt it mo b gy mu mv l mw mx">x = 101</span><span id="5f08" class="ms mt it mo b gy my mv l mw mx">if x &gt;= 100:<br/>  raise Exception("All numbers must be less than 100")</span></pre><p id="4e42" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这个异常将停止程序。</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><p id="3f33" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最初由<a class="ae ky" href="https://predictivehacks.com/exceptions-in-python/" rel="noopener ugc nofollow" target="_blank">预测黑客</a>发布</p></div><div class="ab cl nz oa hx ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="im in io ip iq"><h1 id="77ac" class="nd mt it bd ne nf og nh ni nj oh nl nm jz oi ka no kc oj kd nq kf ok kg ns nt bi translated">分级编码</h1><p id="db2e" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="9321" class="ol om it lt b lu lv lx ly ma on me oo mi op mm oq or os ot bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="9ea4" class="ol om it lt b lu ou lx ov ma ow me ox mi oy mm oq or os ot bi translated">📰查看<a class="ae ky" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>中的更多内容</li><li id="16ee" class="ol om it lt b lu ou lx ov ma ow me ox mi oy mm oq or os ot bi translated">🔔关注我们:<a class="ae ky" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae ky" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ky" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="6718" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">🚀👉<a class="ae ky" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>