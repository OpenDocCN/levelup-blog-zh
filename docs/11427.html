<html>
<head>
<title>Bringing Old Images Back To Life With AI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用人工智能让旧图像重现生机</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/bringing-old-images-back-to-life-with-ai-4f33d11bd151?source=collection_archive---------8-----------------------#2022-03-15">https://levelup.gitconnected.com/bringing-old-images-back-to-life-with-ai-4f33d11bd151?source=collection_archive---------8-----------------------#2022-03-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/040a85c3c031d9dd4238c30a6eec38f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NmA1jVnmz094FVwRhjpU0A.png"/></div></div></figure><p id="51aa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">他们说一张图胜过千言万语，这应该包括老照片。所以我们需要让这些恢复生机，我们有我们的人工智能朋友来帮助我们。</p><p id="5772" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我们将使用一个名为DEOLDIFY的人工智能模型，将我继父、我叔叔、我奶奶和一个家庭朋友的旧图像带回生活。</p><h1 id="4243" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">模型是如何工作的？</h1><p id="664c" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">整个过程的第一步是拍摄一张黑白图像(作为我们的输入)。然后，我们将这张黑白图像传递给DEOLDIFY模型，该模型将对图像重新着色，我们的输出将是一张彩色图像。</p><p id="8361" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用诺干训练来训练模型，诺干训练仍然是一种甘训练。大多数GANS有两个部分，一个是生成器(生成图像的部分)和一个鉴别器(从真实图像中识别出赝品)。假的重新着色的图像和真的重新着色的图像。所以性别和歧视者是被隔离训练的，他们称之为NOGAN。</p><p id="4084" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，我们将一个黑色和哪个图像传递给生成器，我们就能够生成与我们的图像等价的颜色。因此，我们将再次训练微调，并找到一个微调颜色等效。</p><p id="1e55" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以鉴别器有一个假的彩色图像和一个生成的彩色图像，鉴别器将学习预测它是假的还是真的彩色图像。因此，在大多数GANS，我们并肩训练，但在诺根，我们单独训练。</p><p id="b505" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，在诺干(单独)训练后，它们被集合在一起进行微调。</p><p id="6ff2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在让我们开始吧；</p><p id="8f36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将克隆来自<a class="ae lz" href="https://github.com/jantic/DeOldify" rel="noopener ugc nofollow" target="_blank">https://github.com/jantic/DeOldify</a>的模型，也是来自作者的一堆资源，详细解释模型的内部工作。</p><h1 id="8338" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">设置我们的开发环境</h1><p id="7da0" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">首先，我们打开终端，创建文件夹，然后克隆存储库</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="783f" class="mj kx iq mf b gy mk ml l mm mn">get clone <a class="ae lz" href="https://github.com/jantic/DeOldify" rel="noopener ugc nofollow" target="_blank">https://github.com/jantic/DeOldify</a></span></pre><p id="77b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以用cd进入DEOLDIFY库和dir，进行检查；</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/1d5dd5db86e0606ed1773fc95b7c030b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N73tMChIRv5cSk1GoeLbwg.png"/></div></div></figure><p id="c1e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们现在将使用以下命令安装open CV</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="d6b7" class="mj kx iq mf b gy mk ml l mm mn">pip install opencv-python==4.4.0.42</span></pre><p id="117c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦完成，我们需要使用命令安装我们的需求；</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="70d8" class="mj kx iq mf b gy mk ml l mm mn">pip install -r requirements.txt<br/></span></pre><p id="bc2a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，我们可以通过运行命令来检查我们的环境</p><pre class="ma mb mc md gt me mf mg mh aw mi bi"><span id="fbd1" class="mj kx iq mf b gy mk ml l mm mn">pip list</span></pre><p id="9611" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在我们想下载预训练的深度学习模型。我已经附上了链接；<a class="ae lz" href="https://www.youtube.com/redirect?event=video_description&amp;redir_token=QUFFLUhqbHVIUHJQckZNR25VTXZlT3JUZW9qT2hjTWhJZ3xBQ3Jtc0tsR0hhNFN0cnoyc0pSY3Y1cXFZTXdwZVVVRkFTQXRRTWkxbnpuNWFJWGJXWmJkaGJGWkxWTXNaall2Y3BaRFJvTG5XSzc0dXN2alFBcjYyb0pid3VGNDBnaVJ5ZXNEZW1PbXlJcHlUTWkzNk9GZW9XYw&amp;q=https%3A%2F%2Fdata.deepai.org%2Fdeoldify%2FColorizeArtistic_gen.pth" rel="noopener ugc nofollow" target="_blank">https % 3A % 2F % 2f data . deepai . org % 2f deo ldify % 2f colorize artistic _ gen . PTH</a></p><p id="ff31" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦模型下载完成，我们需要把它放在一个名为models的文件夹中。</p><p id="b38d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，在我们的文件夹中，我们将创建一个新的文件夹模型，并将我们的模型放在那里。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/b5c82fb60c09ad537c941f898fb28003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5BBQOivsTq3KgpfiGCQG_A.png"/></div></div></figure><p id="0357" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我们可以将下载的模型拖放到那里。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/3213449cec8e7e99f3bbeb7ed63ce4dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_EATidByxANwPD23PeB77A.png"/></div></div></figure><p id="f0c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，它的领带火了我们的Jupyter笔记本电脑，并打开笔记本电脑图像彩色</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/a6f34faa3bb3d0703f3a4ed4dd8dacc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0yFeTrUr7E4LWOpsCeNjPA.png"/></div></div></figure><p id="0cf1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当我们打开笔记本时，我们将执行单元格。第一个单元注册我们的GPU。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/efcb79346300593fdc8062e24f25f51b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8-Z2fUqpDnI4-fBi9iw5UA.png"/></div></div></figure><p id="134a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第二个单元导入一些DEOLDIFY库或模块，并设置我们的torch后端。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/da7b88ed46a113b0177d9878804d3831.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8KkDKRt7yIxfoN9co6pk6A.png"/></div></div></figure><p id="23be" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第三个单元格获取我们下载并放在models文件夹中的模型。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/619610f5e3b985df0722c6f9b4486317.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bq7LhzSjf2Vxczge7-gEQw.png"/></div></div></figure><p id="39c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我将转移到谷歌实验室，以指导那些没有强大的GPU的。</p><p id="ee8a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，我们将提供一个源黑白图像，让它变成彩色。分配一个渲染因子，在图像上表演我们的魔术。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/798cea234e796bd016765b004bcb12f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OBhXTR_w3fg8t-3rlKUz8Q.png"/></div></div></figure><p id="9dde" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">重要的是，我在Jupyter notebook和Google Colab上尝试了多个图像，并遇到了多个错误。图像必须清晰，分辨率好。</p><p id="55b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，我们要比较图像的渲染因子，我们将开始和结束进行比较。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/b39eece41498dd405f70b9deb83e7da9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VhiMhiEGEuKRdwC-fYwlGw.png"/></div></div></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/9c71a2b6f8fc419dd673dd688a7e90fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*0Yph8y4c4CuKQtN4IU6GuA.png"/></div></figure><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/1763ecd6d677c20bfdc407c4c894fc2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xu4f9fdrhyQwaQ3WTgBSbg.png"/></div></div></figure><p id="49ec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">渲染因子为10的图像颜色为蓝色，渲染因子为38的图像颜色均匀，看起来更好。</p><h1 id="a3a2" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">额外资源</h1><div class="mz na gp gr nb nc"><a href="https://github.com/jantic/DeOldify" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">GitHub - jantic/DeOldify:一个基于深度学习的项目，用于着色和恢复旧图像…</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">快速入门:使用开源DeOldify给图像着色的最简单方法(免费！)在这里:DeOldify Image…</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">github.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq jw nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a href="https://colab.research.google.com/github/jantic/DeOldify/blob/master/ImageColorizerColab.ipynb#scrollTo=GcsQPXrj6q4k" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">谷歌联合实验室</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">编辑描述</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">colab.research.google.com</p></div></div><div class="nl l"><div class="nr l nn no np nl nq jw nc"/></div></div></a></div></div></div>    
</body>
</html>