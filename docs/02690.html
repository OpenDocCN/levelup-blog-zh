<html>
<head>
<title>Function Currying in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的函数Currying</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/function-currying-in-javascript-46d7ccee1a0e?source=collection_archive---------18-----------------------#2020-03-29">https://levelup.gitconnected.com/function-currying-in-javascript-46d7ccee1a0e?source=collection_archive---------18-----------------------#2020-03-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="9fa1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">函数currying是函数式编程中的一种有用的技术，它允许我们对一个函数求值，这个函数将多个参数放入一个具有一系列顺序内部函数的函数中，每个函数都只有一个参数。</p><p id="ceb8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">尽管这并不是JavaScript所独有的，但是这种技术是通过使用闭包在JavaScript中实现的。闭包涉及到在外部函数中函数的分层(或封装),允许内部函数访问外部函数的范围。在JavaScript中，函数属于第一类类型，如字符串或数字，这意味着它们是对象，像任何对象一样可以存储在变量中。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/77c922c7af685842fa70ae3c09c66631.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fPP5gs3X0yLg0FRmAlYb9g.png"/></div></div></figure><p id="1acb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的例子中，我编写了一个名为quarantine的arrow函数，它有一个名为days的参数，并在函数运行时返回一个带参数的插值字符串。然后，将一个名为myQuarantineTime的变量赋给隔离运行时调用的值，参数为17，在本例中是一个字符串(“我被隔离了17天。”).这个例子展示了JavaScript的基本特性，即给函数一等公民。</p><p id="4511" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于闭包，函数调用的返回值是另一个函数。让我们重新配置我们的隔离示例，不仅要指定隔离天数，还要添加一个名称参数。让我们使用闭包，而不是向隔离方法添加第二个参数(如下面注释掉的示例所示)。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi la"><img src="../Images/005f929f1a0764eefb6adcf1dfe8e88e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Z8CnFctuCu4I7kIy8QbFw.png"/></div></div></figure><p id="da33" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的例子中，我们将myQuarantineTime分配给函数quarantine，并给它一个参数17。然而，这一次，当我们将myQuarantineTime的值打印到终端时，myQuarantineTime的值是一个函数。在第二个日志中，我们将myQuarantineTime视为一个适当的函数，并给它一个参数“jack”，将预期值打印到终端(“Jack已经被隔离了17天。”)!同样的返回值也可以通过在我们的函数调用quarantine中调用一个名字来获取，如下所示:</p><p id="e548" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">检疫(17)(‘杰克’)；</strong></p><p id="160d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将一个具有多个参数的函数分解成多个连续的函数，以形成一种套娃式的形式，这个过程实际上是利用了函数curry！</p><p id="5a4a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="lb">再比如</em></p><p id="2527" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是另一个简单的奉承的例子。得到三维形状体积的公式是形状的长度乘以形状的深度乘以高度的乘积。此时，您可能会想象我们创建一个名为volume的函数，并传递三个参数(深度、长度和高度)来返回三个参数的乘积；相反，让我们使用currying，将一个参数传递给函数中的每个函数。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lc"><img src="../Images/34b143644a42c655d7aab448f99936ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4m5tu2e1QRqtzUWhVWkyeQ.png"/></div></div></figure><p id="c825" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的volume程序中，我们声明变量，并将它们设置为等于函数中的每个调用，直到我们不再返回函数。在第二个日志中，我们调用了函数的内部函数。两者返回相同的值。</p><p id="78e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一个更复杂的例子</p><p id="59d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">假设我们想要创建一个对三个数字求和的函数，但是如果我们没有输入适当数量的参数来计算总和，我们希望该函数有条件地返回一个函数。让我们称这个函数为sumThreeNums。</p><p id="c786" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">sumthrenoms(3，3，4)；</p><p id="93cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">sumthrenoms(3，3)(4)；</p><p id="7404" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">sumThreeNums(3)(3)(4)；</p><p id="0c9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们希望调用函数的每个可能的方法都返回相同的值(10)。如果传递给我们函数的参数少于三个，我们希望sumThree返回一个函数来传递数字参数，直到我们有三个数字相加！我们可以使用闭包和递归来做到这一点。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ld"><img src="../Images/6351e0a6c8db28602745671830951651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i_-pvoiiA1PsIYue9Zo_ZQ.png"/></div></div></figure><p id="2893" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个例子中，我们给sumThreeNums一个spread操作符的初始参数，因为从一开始传入的参数数量可以是零个或三个。然后，我们将这些参数放入一个数组，并检查数组中的数字是否超过2个。如果是，那么我们使用reduce方法并返回总和。如果没有，那么我们调用一个函数，它接受一个数字参数，我们用我们的原始参数和新参数递归调用sumThreeNums！</p><p id="9a44" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">函数曲线的实际应用</p><p id="045d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">函数currying是划分代码的一种优雅的方式，帮助我们保持代码干燥，并防止错误/不准确。最重要的是，我相信currying可以有很多实际用途。例如，假设我们正在构建一个假设的公司的电子商务应用程序，该公司希望根据特定的假期应用不同的折扣，或者为公司员工提供折扣。这个场景非常适合拍马屁。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi la"><img src="../Images/dde129fb31809daff8a8d80c54a49ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d3GG-wG3ci8N0-05ps_idQ.png"/></div></div></figure><p id="f669" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在上面的例子中，currying用于动态调用不同用户累积的总数的<em class="lb">实例</em>的特定折扣。这种技术当然允许更多的动态性，更少的重复代码，以及函数式编程中更低的不准确性和错误的可能性。</p></div></div>    
</body>
</html>