<html>
<head>
<title>Easily Create An Elegant REST API With Spring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Spring轻松创建优雅的REST API</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/easily-create-an-elegant-rest-api-with-spring-8977c5d07d19?source=collection_archive---------9-----------------------#2021-03-04">https://levelup.gitconnected.com/easily-create-an-elegant-rest-api-with-spring-8977c5d07d19?source=collection_archive---------9-----------------------#2021-03-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b4a5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">获取、发布、放置和删除路线</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1fe4f89ada4249f92f4e3cc774833d9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h2lVO9ZMo9vmyZrdIUmoYg.png"/></div></div></figure><p id="135e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本教程中，我们将创建一个Spring服务器，它将管理一个Person repo并支持PUT、POST、GET和DELETE操作。Spring框架允许我们为我们的应用程序快速启动后端服务器。</p><p id="8451" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先让我们设置基本的Spring应用程序，如果你有Intellij，你可以选择Spring boot并添加Spring Web和Spring devtools选项。如果您只是使用Maven，下面是我的POM依赖项的样子。</p><h2 id="37e3" class="ln lo iq bd lp lq lr dn ls lt lu dp lv la lw lx ly le lz ma mb li mc md me mf bi translated">POM文件依赖关系</h2><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="ff9f" class="ln lo iq mh b gy ml mm l mn mo">&lt;dependencies&gt;<br/>    &lt;dependency&gt;<br/>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;<br/>    &lt;/dependency&gt;</span><span id="131d" class="ln lo iq mh b gy mp mm l mn mo">    &lt;dependency&gt;<br/>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;<br/>        &lt;scope&gt;runtime&lt;/scope&gt;<br/>        &lt;optional&gt;true&lt;/optional&gt;<br/>    &lt;/dependency&gt;<br/>    &lt;dependency&gt;<br/>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;<br/>        &lt;scope&gt;test&lt;/scope&gt;<br/>        &lt;exclusions&gt;<br/>            &lt;exclusion&gt;<br/>                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;<br/>                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;<br/>            &lt;/exclusion&gt;<br/>        &lt;/exclusions&gt;<br/>    &lt;/dependency&gt;<br/>&lt;/dependencies&gt;</span></pre><p id="9c9b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这是构建插件。</p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="d7de" class="ln lo iq mh b gy ml mm l mn mo">&lt;build&gt;<br/>    &lt;plugins&gt;<br/>        &lt;plugin&gt;<br/>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;<br/>        &lt;/plugin&gt;<br/>    &lt;/plugins&gt;<br/>&lt;/build&gt;</span></pre><p id="59cf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们将创建基本的服务器应用程序。</p><h2 id="0327" class="ln lo iq bd lp lq lr dn ls lt lu dp lv la lw lx ly le lz ma mb li mc md me mf bi translated">基本应用程序</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="0bfe" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您运行这个，您将在LocalHost上启动您的服务器，它将告诉您它被托管在终端的哪个端口上(但是我们还没有配置任何路由，所以页面上不会有任何内容)</p><p id="cb88" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">接下来，我们将为一个人做一个POJO。</p><h2 id="ca8c" class="ln lo iq bd lp lq lr dn ls lt lu dp lv la lw lx ly le lz ma mb li mc md me mf bi translated">Person.java</h2><p id="c412" class="pw-post-body-paragraph kr ks iq kt b ku ms jr kw kx mt ju kz la mu lc ld le mv lg lh li mw lk ll lm ij bi translated">我们的Person对象非常简单，它由姓名、年龄和ID组成。在MVC架构(模型视图控制器)中，这将作为我们的模型。我们需要getters和setters，因为这是我们的控制器访问和更新这些字段的方式。我们将使用id作为查询Person对象的主键。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><h2 id="0c6a" class="ln lo iq bd lp lq lr dn ls lt lu dp lv la lw lx ly le lz ma mb li mc md me mf bi translated">端点</h2><p id="35cf" class="pw-post-body-paragraph kr ks iq kt b ku ms jr kw kx mt ju kz la mu lc ld le mv lg lh li mw lk ll lm ij bi translated">我们将“人”存储在一个map中，键是他们的id，值是Person对象。如您所见，我们有4个端点。每个人都将与我们的person map进行交互，并返回一些数据或响应消息以及HTTP代码。(以下是标准HTTP代码列表<a class="ae mx" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status" rel="noopener ugc nofollow" target="_blank"/></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><ol class=""><li id="1e74" class="my mz iq kt b ku kv kx ky la na le nb li nc lm nd ne nf ng bi translated">在<strong class="kt ir"> GET /people </strong>中，我们不接受任何参数，而是通过向ResponseEntity添加personMap.values()来发送所有数据。</li><li id="bfa4" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated">在<strong class="kt ir"> POST /people </strong>中，我们不接受任何参数，但是期望Person类的主体(JSON格式)，我们将那个人添加到我们的地图中，并且我们返回一个响应说创建成功。</li><li id="a069" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated">在<strong class="kt ir"> PUT /people/{id} </strong>中，我们为一个id获取一个参数，我们获取该id并用包含在主体中的Person JSON更新与该id相关联的Person对象。</li><li id="7374" class="my mz iq kt b ku nh kx ni la nj le nk li nl lm nd ne nf ng bi translated">在<strong class="kt ir"> DELETE /people/{id} </strong>中，我们删除与该id相关联的人员条目。</li></ol><p id="4384" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了测试API路由，我使用了<a class="ae mx" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> Postman </a>。Postman让您可以轻松地发出任何类型的请求(POST、PUT、DELETE、GET等)，还可以包含url参数或PUT和POST请求的主体。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5a35041259233cbed266d89a6de2589e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IvEQZ_LXRarOtR5IVyBjXQ.jpeg"/></div></div></figure><p id="da53" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是我用来通过POST创建条目的JSON的一个例子</p><pre class="kg kh ki kj gt mg mh mi mj aw mk bi"><span id="497f" class="ln lo iq mh b gy ml mm l mn mo">{</span><span id="379e" class="ln lo iq mh b gy mp mm l mn mo">"name":"John",</span><span id="c7db" class="ln lo iq mh b gy mp mm l mn mo">"age":20,</span><span id="9e41" class="ln lo iq mh b gy mp mm l mn mo">"id":1</span><span id="1d68" class="ln lo iq mh b gy mp mm l mn mo">}</span></pre><p id="bd32" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">确保你的体型是raw json，如下图</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nm"><img src="../Images/75b5a3a5f55969faede449552d7f1bc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AmrHEUC1yyZhCOfvaIr19A.png"/></div></div></figure></div></div>    
</body>
</html>