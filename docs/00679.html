<html>
<head>
<title>Creating a Tinder-like swipe UI on Vue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Vue上创建类似Tinder的滑动用户界面</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-a-tinder-like-swipe-ui-on-vue-32a3c6e1f8aa?source=collection_archive---------1-----------------------#2019-06-26">https://levelup.gitconnected.com/creating-a-tinder-like-swipe-ui-on-vue-32a3c6e1f8aa?source=collection_archive---------1-----------------------#2019-06-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ab14" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你有没有想过这种左右滑动、类似Tinder的用户体验是如何建立起来的？是的，几天前。我更多的是来自后台，我发现这种类型的用户界面很神奇。在这篇文章中，我将探索如何在Vue中构建Tinder swipe动画。</p><h1 id="b440" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">研究</h1><p id="c734" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">当我着手新项目时，收集信息总是我的第一步。我不会尝试任何代码，我会先用谷歌搜索。我的意思是，肯定有人比我聪明之前已经想到了这一点。</p><p id="bd18" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">搜索了<em class="lr">“vue可刷卡”</em>之后，google给我的第一条就是那个(<em class="lr">幸运的我)</em>。</p><p id="0397" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是<a class="ae ls" href="https://css-tricks.com/author/mateuszrybczonek/" rel="noopener ugc nofollow" target="_blank"> Mateusz Rybczonek </a>的css-tricks 中的一篇<a class="ae ls" href="https://css-tricks.com/swipeable-card-stack-using-vue-js-and-interact-js/" rel="noopener ugc nofollow" target="_blank">文章，讲述了如何使用<code class="fe lt lu lv lw b">interact.js</code>构建可刷卡卡。</a></p><p id="dc85" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章将解释一个可切换组件本身是如何被构建得比我好得多的。更重要的是，他把功能提取出来，作为<a class="ae ls" href="https://www.npmjs.com/package/vue2-interact" rel="noopener ugc nofollow" target="_blank">vue 2-interact</a>(<em class="lr">_ yay开源发布到npm！_ </em>)。</p><p id="edc3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然这篇文章解释了一切是如何工作的，但对我们来说，它本质上只是样板代码。我们需要的是实际使用提取的功能本身。这就是为什么<code class="fe lt lu lv lw b">Vue2InteractDraggable</code>是一个祝福，所有的重担已经为我们完成了。这只是一个弄清楚我们如何在我们自己的项目中使用它的问题。</p><h1 id="f5d4" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">实验</h1><p id="92c8" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">在这一点上，我需要做的就是玩它。<a class="ae ls" href="https://vue2-interact.netlify.com/docs/vue2interactdraggable/#basic-usage" rel="noopener ugc nofollow" target="_blank">文件</a>非常清楚。让我们从我们可以与之交互的最简单的代码开始:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="87d2" class="mf kp it lw b gy mg mh l mi mj">&lt;template&gt;<br/>  &lt;section class="container"&gt;<br/>    &lt;div class="fixed-center"&gt;<br/>      &lt;Vue2InteractDraggable<br/>        :interact-out-of-sight-x-coordinate="500"<br/>        :interact-max-rotation="15"<br/>        :interact-x-threshold="200"<br/>        :interact-y-threshold="200"<br/>        class="rounded-borders shadow-10 card"&gt;<br/>        &lt;div class="card__main"&gt;    <br/>        &lt;/div&gt;<br/>      &lt;/Vue2InteractDraggable&gt;<br/>    &lt;/div&gt;<br/>  &lt;/section&gt;<br/>&lt;/template&gt;</span><span id="7b76" class="mf kp it lw b gy mk mh l mi mj">&lt;script&gt;<br/>import { Vue2InteractDraggable } from 'vue2-interact'</span><span id="6712" class="mf kp it lw b gy mk mh l mi mj">export default {<br/>  name: 'SwipeableCards',<br/>  components: { Vue2InteractDraggable }<br/>}<br/>&lt;/script&gt;</span></pre><p id="20f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">没什么特别的，这只是在屏幕中央显示了一个粉红色的框，我可以拖动它。</p><figure class="lx ly lz ma gt mm gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/3afc31109bdf78c7ce90f5ede1b36b7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/0*ffyKBmzfBSbmCVjG.gif"/></div></figure><p id="ebf0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="lr">爽，爽，爽，爽</em>。它工作正常。现在我们已经验证了这一点，是时候考虑我想要完成的其他事情了。</p><p id="9c04" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了演示我所希望的那种用户交互，我将事情归结为以下需求。</p><ol class=""><li id="385f" class="mp mq it js b jt ju jx jy kb mr kf ms kj mt kn mu mv mw mx bi translated">检测卡是否被拖出视野并将其隐藏。</li><li id="b7cd" class="mp mq it js b jt my jx mz kb na kf nb kj nc kn mu mv mw mx bi translated">将可拖动的卡片叠放在一起。</li><li id="f1ef" class="mp mq it js b jt my jx mz kb na kf nb kj nc kn mu mv mw mx bi translated">能够控制滑动手势的滑动动作(通过按钮编程触发)。</li></ol><h2 id="525e" class="mf kp it bd kq nd ne dn ku nf ng dp ky kb nh ni lc kf nj nk lg kj nl nm lk nn bi translated">问题#1:检测和隐藏</h2><p id="d0b5" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">问题#1很简单，<code class="fe lt lu lv lw b">Vue2InteractDraggable</code>组件在超过<code class="fe lt lu lv lw b">interact-out-of-sight-*-coordinate</code>时发出<code class="fe lt lu lv lw b">drag*</code>事件，它也自动隐藏组件。</p><figure class="lx ly lz ma gt mm gh gi paragraph-image"><div class="gh gi no"><img src="../Images/4568ae8f4782a225fece5aa97bb6cc33.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/0*oo_skMGtUnDMrfcY.gif"/></div></figure><h2 id="9877" class="mf kp it bd kq nd ne dn ku nf ng dp ky kb nh ni lc kf nj nk lg kj nl nm lk nn bi translated">问题#2:堆叠卡片</h2><p id="ee09" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">问题#2相当棘手。从技术上讲，<code class="fe lt lu lv lw b">Vue2InteractDraggable</code>只是一个可拖动的组件。就UI而言，堆叠它们可以简单到使用css实现<code class="fe lt lu lv lw b">z-index</code>、<code class="fe lt lu lv lw b">width</code>和<code class="fe lt lu lv lw b">box-shadow</code>的组合来模拟深度。但是刷卡组件还能工作吗？嗯，我可以在最下面的牌上停止<code class="fe lt lu lv lw b">pointer-events</code>，以避免任何副作用。</p><p id="6462" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们试一试。我将使用一个数组，在每次向右滑动时弹出第一个元素。似乎很合理，对吧？</p><p id="0821" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下是目前为止的代码:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="f3c9" class="mf kp it lw b gy mg mh l mi mj">&lt;template&gt;<br/>  &lt;section class="container"&gt;<br/>    &lt;div&gt;<br/>        &lt;Vue2InteractDraggable<br/>          v-for="(card, index) in cards"<br/>          :key="index"<br/>          :interact-out-of-sight-x-coordinate="500"<br/>          :interact-max-rotation="15"<br/>          :interact-x-threshold="200"<br/>          :interact-y-threshold="200"<br/>          @draggedRight="right"<br/>          class="rounded-borders card fixed fixed--center"<br/>          :class="{<br/>            'card--top': index === 0<br/>          }"&gt;<br/>          &lt;div class="flex flex--center" style="height: 100%"&gt;<br/>            &lt;h1&gt;{{card.text}}&lt;/h1&gt;<br/>          &lt;/div&gt;<br/>      &lt;/Vue2InteractDraggable&gt;<br/>    &lt;/div&gt;<br/>  &lt;/section&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>import { Vue2InteractDraggable } from 'vue2-interact'</span><span id="2e7e" class="mf kp it lw b gy mk mh l mi mj">export default {<br/>  name: 'SwipeableCards',<br/>  components: { Vue2InteractDraggable },<br/>  data() {<br/>    return {<br/>      cards: [<br/>        { text: 'one' },<br/>        { text: 'two' },<br/>        { text: 'three' },<br/>      ]<br/>    }<br/>  },<br/>  methods: {<br/>    right() {<br/>      setTimeout(() =&gt; this.cards.shift(), 300);<br/>    }<br/>  }<br/>}<br/>&lt;/script&gt;</span><span id="85e3" class="mf kp it lw b gy mk mh l mi mj">&lt;style lang="scss" scoped&gt;<br/>.container {<br/>  background: #eceff1;<br/>  width: 100%;<br/>  height: 100vh;<br/>}</span><span id="01c8" class="mf kp it lw b gy mk mh l mi mj">.flex {<br/>  display: flex;<br/>  &amp;--center {<br/>    align-items: center;<br/>    justify-content: center;<br/>  }<br/>}</span><span id="c858" class="mf kp it lw b gy mk mh l mi mj">.fixed {<br/>  position: fixed;<br/>  &amp;--center {<br/>    left: 50%;<br/>    top: 50%;<br/>    transform: translate(-50%, -50%);<br/>  }<br/>}<br/>.rounded-borders {<br/>  border-radius: 2rem<br/>}<br/>.card {<br/>  pointer-events: none;<br/>  width: 300px;<br/>  height: 400px;<br/>  &amp;:nth-child(1) {<br/>    background: pink;<br/>    z-index: 3;<br/>  }<br/>  &amp;:nth-child(2) {<br/>    z-index: 2;<br/>    background: red;<br/>    top: 52%;<br/>  }<br/>  &amp;:nth-child(3) {<br/>    z-index: 1;<br/>    background: green;<br/>    top: 54%;<br/>  }<br/>  &amp;--top {<br/>    pointer-events: auto !important;<br/>  }<br/>}<br/>&lt;/style&gt;</span></pre><p id="5671" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是我所拥有的:</p><figure class="lx ly lz ma gt mm gh gi paragraph-image"><div class="gh gi np"><img src="../Images/ca805f5b02a0583438d158e411d05822.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/0*3OfOOyCnYALwTDmf.gif"/></div></figure><p id="cca9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">嗯，那是彻底的失败。由于某种原因，当事件为第一张卡触发时，它也为第二张卡触发。你可以在下面看到，在我第一次刷卡后，DOM上只剩下2张卡，但我们看不到第二张卡，因为它被旋转到视图之外。在dev工具上，我们可以看到，在刷完第一张卡后，第二张卡上正在设置转换动画样式(你可以看到，当我通过dev tool禁用该样式时，它会弹出来)。</p><figure class="lx ly lz ma gt mm gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nq"><img src="../Images/0e34c1c9fd69a46efbcc7fa5bec9a442.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eCJLApqdUjfam-DO.gif"/></div></div></figure><p id="8bdb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">即使我试着简单地把卡片排成一排，这个问题仍然存在。我不确定为什么会这样。我一定是漏掉了什么，或者是<code class="fe lt lu lv lw b">Vue2InteractDraggable</code>组件本身的问题。</p><p id="c987" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这一点上，我有两个选择:我可以继续调试，挖掘实际的实现，可能回溯原作者如何提取功能以找出不同之处，检查GitHub repo中的类似问题并尝试从那里找到答案；或者想一个不同的方法来完成同样的事情，只是在其他时间再回来。</p><p id="2aaf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我选择后者。一种不同的方法可能会和第一种一样好。在这个时候，不要贪多嚼不烂。我也可以改天再去看看。</p><p id="d180" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们继续吧。</p><p id="dcd2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">之前的结果让我思考——如果每次我使用多个<code class="fe lt lu lv lw b">Vue2InteractDraggable</code>组件时都出现问题，为什么不完全避免使用一个组件呢？毕竟我一次只拖一张牌。为什么不直接用同一张卡，相应地更换内容呢？再加上其他的CSS乱七八糟的东西，我想这可能行得通。</p><p id="1e04" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们用最简单的代码来验证我的假设:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="cb25" class="mf kp it lw b gy mg mh l mi mj">&lt;template&gt;<br/>  &lt;section class="container"&gt;<br/>    &lt;div class="fixed fixed--center" style="z-index: 3"&gt;<br/>      &lt;Vue2InteractDraggable<br/>        v-if="isVisible"<br/>        :interact-out-of-sight-x-coordinate="500"<br/>        :interact-max-rotation="15"<br/>        :interact-x-threshold="200"<br/>        :interact-y-threshold="200"<br/>        @draggedRight="right"<br/>        class="rounded-borders card card--one"&gt;<br/>        &lt;div class="flex flex--center" style="height: 100%"&gt;<br/>          &lt;h1&gt;{{current.text}}&lt;/h1&gt;<br/>        &lt;/div&gt;<br/>      &lt;/Vue2InteractDraggable&gt;<br/>    &lt;/div&gt;<br/>    &lt;div<br/>      class="rounded-borders card card--two fixed fixed--center"<br/>      style="z-index: 2"&gt;<br/>      &lt;div class="flex flex--center" style="height: 100%"&gt;<br/>        &lt;h1&gt;test&lt;/h1&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;div<br/>      class="rounded-borders card card--three fixed fixed--center"<br/>      style="z-index: 1"&gt;<br/>      &lt;div class="flex flex--center" style="height: 100%"&gt;<br/>        &lt;h1&gt;test&lt;/h1&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/section&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>import { Vue2InteractDraggable } from 'vue2-interact'</span><span id="1834" class="mf kp it lw b gy mk mh l mi mj">export default {<br/>  name: 'SwipeableCards',<br/>  components: { Vue2InteractDraggable },<br/>  data() {<br/>    return {<br/>      isVisible: true,<br/>      index: 0,<br/>      cards: [<br/>        { text: 'one' },<br/>        { text: 'two' },<br/>        { text: 'three' },<br/>      ]<br/>    }<br/>  },<br/>  computed: {<br/>    current() {<br/>      return this.cards[this.index]<br/>    }<br/>  },<br/>  methods: {<br/>    right() {<br/>      setTimeout(() =&gt; this.isVisible = false, 200)<br/>      setTimeout(() =&gt; {<br/>        this.index++<br/>        this.isVisible = true<br/>      }, 300)<br/>    }<br/>  }<br/>}<br/>&lt;/script&gt;</span><span id="b38b" class="mf kp it lw b gy mk mh l mi mj">&lt;style lang="scss" scoped&gt;<br/>.container {<br/>  background: #eceff1;<br/>  width: 100%;<br/>  height: 100vh;<br/>}</span><span id="e474" class="mf kp it lw b gy mk mh l mi mj">.flex {<br/>  display: flex;<br/>  &amp;--center {<br/>    align-items: center;<br/>    justify-items: center;<br/>    justify-content: center;<br/>  }<br/>}</span><span id="0b09" class="mf kp it lw b gy mk mh l mi mj">.fixed {<br/>  position: fixed;<br/>  &amp;--center {<br/>    left: 50%;<br/>    top: 50%;<br/>    transform: translate(-50%, -50%);<br/>  }<br/>}<br/>.rounded-borders {<br/>  border-radius: 12px;<br/>}<br/>.card {<br/>  width: 300px;<br/>  height: 400px;<br/>  color: white;<br/>  &amp;--one {<br/>    background-color: pink;<br/>  }<br/>  &amp;--two {<br/>    background-color: red;<br/>    width: 280px;<br/>    top: 51%;<br/>  }<br/>  &amp;--three {<br/>    background-color: orange;<br/>    width: 260px;<br/>    top: 51.8%;<br/>  }<br/>}<br/>&lt;/style&gt;</span></pre><p id="c37e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">成功了！</p><figure class="lx ly lz ma gt mm gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/a7b0ca5fa6f6b21486c96f9950067c77.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/0*87zKEnB30Fop3YZT.gif"/></div></figure><p id="3346" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">与我的第一种方法相比，这似乎更简单。我重用同一个<code class="fe lt lu lv lw b">Vue2InteractDraggable</code>实例，而不是为数组中的每个元素实例化一个。我们甚至不需要堆叠所有的牌，我们只需要保持这种错觉。</p><p id="dfcb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">也就是说，我可能应该在第一个元素后面的卡片上显示下一个元素的内容，以进一步改善错觉，就像这样:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="be35" class="mf kp it lw b gy mg mh l mi mj">&lt;template&gt;<br/>  &lt;section class="container"&gt;<br/>    &lt;div class="fixed fixed--center" style="z-index: 3"&gt;<br/>      &lt;Vue2InteractDraggable<br/>        v-if="isVisible"<br/>        :interact-out-of-sight-x-coordinate="500"<br/>        :interact-max-rotation="15"<br/>        :interact-x-threshold="200"<br/>        :interact-y-threshold="200"<br/>        @draggedRight="right"<br/>        class="rounded-borders card card--one"&gt;<br/>        &lt;div class="flex flex--center" style="height: 100%"&gt;<br/>          &lt;h1&gt;{{current.text}}&lt;/h1&gt;<br/>        &lt;/div&gt;<br/>      &lt;/Vue2InteractDraggable&gt;<br/>    &lt;/div&gt;<br/>    &lt;div<br/>      v-if="next"<br/>      class="rounded-borders card card--two fixed fixed--center"<br/>      style="z-index: 2"&gt;<br/>      &lt;div class="flex flex--center" style="height: 100%"&gt;<br/>        &lt;h1&gt;{{next.text}}&lt;/h1&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;div<br/>      v-if="index + 2 &lt; cards.length"<br/>      class="rounded-borders card card--three fixed fixed--center"<br/>      style="z-index: 1"&gt;<br/>      &lt;div class="flex flex--center" style="height: 100%"&gt;<br/>        &lt;h1&gt;test&lt;/h1&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>  &lt;/section&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>import { Vue2InteractDraggable } from 'vue2-interact'</span><span id="fdab" class="mf kp it lw b gy mk mh l mi mj">export default {<br/>  name: 'SwipeableCards',<br/>  components: { Vue2InteractDraggable },<br/>  data() {<br/>    return {<br/>      isVisible: true,<br/>      index: 0,<br/>      cards: [<br/>        { text: 'one' },<br/>        { text: 'two' },<br/>        { text: 'three' },<br/>      ]<br/>    }<br/>  },<br/>  computed: {<br/>    current() {<br/>      return this.cards[this.index]<br/>    },<br/>    next() {<br/>      return this.cards[this.index + 1]<br/>    }<br/>  },<br/>  methods: {<br/>    right() {<br/>      setTimeout(() =&gt; this.isVisible = false, 200)<br/>      setTimeout(() =&gt; {<br/>        this.index++<br/>        this.isVisible = true<br/>      }, 300)<br/>    }<br/>  }<br/>}<br/>&lt;/script&gt;</span></pre><p id="7e69" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我更换最上面的卡片时，我也相应地隐藏了最下面的虚拟卡片，<em class="lr"> good 'ol switcheroo </em>。</p><figure class="lx ly lz ma gt mm gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/5badeee3c453b63f0b1666871264179b.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/0*mKKkD_CiWwLYfEWX.gif"/></div></figure><p id="4d08" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这招很管用。当我们向上移动<code class="fe lt lu lv lw b">index</code>时，隐藏虚拟卡片也很有效。当我们开始使用图像而不是<code class="fe lt lu lv lw b">text</code>和彩色<code class="fe lt lu lv lw b">div</code>时，这可能会看起来更好。我们甚至可以通过将一些微妙的过渡动画放在最下面的卡片变成最上面的卡片来进一步增强这种错觉。但是我以后会担心这些，让我们继续最后一块拼图。</p><h2 id="9322" class="mf kp it bd kq nd ne dn ku nf ng dp ky kb nh ni lc kf nj nk lg kj nl nm lk nn bi translated">问题3:通过点击按钮触发滑动动作</h2><p id="4578" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">幸运的是，这也是相当琐碎的。<code class="fe lt lu lv lw b">vue2-interact</code>公开了一个<code class="fe lt lu lv lw b">EventBus</code>，我们可以用它来触发拖动/滑动动作。根据<a class="ae ls" href="https://vue2-interact.netlify.com/docs/vue2InteractDraggable/#event-bus-usage" rel="noopener ugc nofollow" target="_blank">文档</a>，这就像给<code class="fe lt lu lv lw b">interact-event-bus-events</code>道具提供一个包含你需要的事件的对象，然后使用<code class="fe lt lu lv lw b">InteractEventBus</code>来触发想要的动作一样简单。</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="cd3b" class="mf kp it lw b gy mg mh l mi mj">&lt;template&gt;<br/> &lt;Vue2InteractDraggable<br/>  @draggedLeft="draggedLeft"<br/>  :interact-event-bus-events="interactEventBusEvents"<br/>  v-if="isShowing"<br/>  class="card"&gt;<br/>  &lt;div&gt;<br/>    &lt;h3 class="cardTitle"&gt;Drag me!&lt;/h3&gt;<br/>  &lt;/div&gt;<br/> &lt;/Vue2InteractDraggable&gt;</span><span id="0616" class="mf kp it lw b gy mk mh l mi mj"> &lt;BaseButton @click="dragLeft" label="⇦" /&gt;<br/>&lt;/template&gt;<br/>&lt;script&gt;<br/>import { Vue2InteractDraggable, InteractEventBus } from 'vue2-interact'<br/>const INTERACT_DRAGGED_LEFT = 'INTERACT_DRAGGED_LEFT';</span><span id="bab4" class="mf kp it lw b gy mk mh l mi mj">export default {<br/>  components: { Vue2InteractDraggable },<br/>  data() {<br/>    return {<br/>      isShowing: true,<br/>      interactEventBusEvents: {<br/>        draggedLeft: INTERACT_DRAGGED_LEFT,<br/>      },<br/>    };<br/>  },</span><span id="eb71" class="mf kp it lw b gy mk mh l mi mj">  methods: {<br/>    dragLeft() {<br/>      InteractEventBus.$emit(INTERACT_DRAGGED_LEFT);<br/>    },<br/>  }<br/>};<br/>&lt;/script&gt;</span></pre><p id="293f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本质上，我们只是告诉组件在每次我们在<code class="fe lt lu lv lw b">InteractEventBus</code>处<code class="fe lt lu lv lw b">$emit</code>一个<code class="fe lt lu lv lw b">INTERACT_DRAGGED_LEFT</code>时触发<code class="fe lt lu lv lw b">draggedLeft</code>事件。</p><p id="aa2e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">至此，我认为我们已经具备了开始整合的所有条件。</p><h1 id="ce4b" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">把所有的放在一起</h1><p id="f63a" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">我从Unsplash下载了一些图片，并根据我的需要进行了缩小。我使用这些图像作为数组的值，这样我就可以替换文本并移除背景颜色。我还意识到，如果我改变牌堆的方向，会更容易增强幻觉。我没有向上叠，而是斜着叠。这样，我的转换动画就可以简单到在切换发生时，将第二张卡片的x和y平移放在第一张卡片上。我不会通过展示我所采取的所有步骤来使你厌烦，我想你已经得到了这个想法，我将把它留给你的想象力。</p><p id="c186" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在加入更多CSS魔法、渐变、阴影和其他东西之后。一个谷歌字体和一些材质图标。我的结局是这样的:</p><figure class="lx ly lz ma gt mm gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/93990f04da32cb7af512a451b8e97cc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/0*jB77-5Ixg1imd0Pe.gif"/></div></figure><p id="5143" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">看哪，基廷德！猫的火种。有意义吗？我不知道。但这是一个双关语的机会。如果这是一个真实的应用程序，我的猫可能会在Katrina上抓痒，他们年龄差不多，我想他们会很合得来。</p><p id="85ae" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以在这个github存储库上查看完整的代码:<a class="ae ls" href="https://github.com/josephharveyangeles/kittynder" rel="noopener ugc nofollow" target="_blank"> kittynder </a>。我在netlify发布了一个演示:【kittynder.netlify.com<a class="ae ls" href="https://kittynder.netlify.com/" rel="noopener ugc nofollow" target="_blank">。我强烈建议在移动视窗中观看。</a></p><h1 id="441e" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">收场白</h1><p id="0b0e" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">在这个简单的活动中，我意识到今天构建这个可切换的、类似tinder的UI是多么容易。我花了不到两个小时就完成了。现在，互联网上的工具和资源比以往任何时候都多，足以让你构建许多东西，这些东西似乎远远超出了你以前的能力范围。</p><p id="6a2e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这就是̶u̶l̶t̶r̶a̶ ̶i̶n̶s̶t̶i̶n̶c̶t̶开源社区的力量。这也是我开始这样写教程的原因之一。这是我回报社区的方式。我可能只是一个卑微平庸的开发人员，但我的思维过程和解决问题的方法对刚刚起步的人可能是有价值的(对未来的我也是如此，因为一年后我会完全忘记一切)。</p><figure class="lx ly lz ma gt mm gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi ny"><img src="../Images/951c62d4f93d6fe7bffc4cb85d1c494d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HMQ8AKcvrz0nz2MW.jpg"/></div></div></figure><h2 id="e536" class="mf kp it bd kq nd ne dn ku nf ng dp ky kb nh ni lc kf nj nk lg kj nl nm lk nn bi translated">下一步？</h2><p id="9b27" class="pw-post-body-paragraph jq jr it js b jt lm jv jw jx ln jz ka kb lo kd ke kf lp kh ki kj lq kl km kn im bi translated">当然，这绝不是生产就绪。我的css游戏相当糟糕，你可能应该考虑使用类似<a class="ae ls" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank"> tailwind.css </a>的东西，并预先缓存图像，检查浏览器兼容性等..但是，嘿，这是一个很好的锻炼。一步一步来，你最终会到达那里。只需<em class="lr">搜索、读取和构建。</em></p><p id="c61f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">实际上，我正在使用<a class="ae ls" href="https://quasar-framework.org/" rel="noopener ugc nofollow" target="_blank"> Quasar Framework </a>在一个稍大的个人项目中实现类似的东西，但那是另一个时代的故事了。</p><h1 id="4d1d" class="ko kp it bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">有用的链接</h1><ul class=""><li id="5b48" class="mp mq it js b jt lm jx ln kb nz kf oa kj ob kn oc mv mw mx bi translated"><a class="ae ls" href="https://kittynder.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Kittynder演示</a></li><li id="e1a6" class="mp mq it js b jt my jx mz kb na kf nb kj nc kn oc mv mw mx bi translated"><a class="ae ls" href="https://github.com/josephharveyangeles/kittynder" rel="noopener ugc nofollow" target="_blank"> Kittynder项目存储库</a></li><li id="7898" class="mp mq it js b jt my jx mz kb na kf nb kj nc kn oc mv mw mx bi translated"><a class="ae ls" href="https://css-tricks.com/swipeable-card-stack-using-vue-js-and-interact-js/" rel="noopener ugc nofollow" target="_blank">使用Vue的可刷卡堆叠</a></li><li id="d136" class="mp mq it js b jt my jx mz kb na kf nb kj nc kn oc mv mw mx bi translated"><a class="ae ls" href="https://www.npmjs.com/package/vue2-interact" rel="noopener ugc nofollow" target="_blank">vue 2-交互</a></li><li id="c0e0" class="mp mq it js b jt my jx mz kb na kf nb kj nc kn oc mv mw mx bi translated"><a class="ae ls" href="https://vue2-interact.netlify.com/" rel="noopener ugc nofollow" target="_blank">vue 2-互动文档</a></li></ul><p id="3243" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这篇文章最初发布在我的个人网站。</p></div></div>    
</body>
</html>