<html>
<head>
<title>Twilio Text Messages with Flutter 🚀</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Twilio文本消息与颤动🚀</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/twilio-text-messages-with-flutter-fe63f41eebe9?source=collection_archive---------4-----------------------#2021-02-12">https://levelup.gitconnected.com/twilio-text-messages-with-flutter-fe63f41eebe9?source=collection_archive---------4-----------------------#2021-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3f65b25f13a75322d74e5658fc9ed1d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PKli7U2t3qBaCprmZEhCfw.png"/></div></div></figure><p id="b5ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">大家好，这是我的第一篇文章。我已经尽了最大努力来传递我对这个话题的所有知识。如果你发现任何错误或有建议，请让我知道，这将有助于我提高很多！</em></p><p id="9193" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，我将指导您在Flutter应用程序中集成Twilio API。在开始所有令人讨厌的东西之前，让我们了解什么是Twilio以及我们为什么使用它。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="883c" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是Twilio</h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mc"><img src="../Images/61a301bc48a079883d7b5eb206dcf549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ECtRqDgWIH9tmDalBU24Jg.png"/></div></div></figure><p id="f829" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Twilio是一个使用web APIs为我们提供云通信即服务的平台。等一下！这些沉重的字眼是什么意思？🙄</p><p id="a5d9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我举一个简单的云通信的例子。你们大部分人都做过网上支付吧？因此，每当你进行网上支付时，你都会在交易前收到一个<strong class="ka ir"> OTP </strong>，在支付成功或失败后，你会收到一条来自银行的关于支付的<strong class="ka ir">短信</strong>。你有没有想过，这些OTP和短信是怎么发给你的？这正是云通信发挥作用的地方。</p><p id="5df9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Twilio提供了<strong class="ka ir">一个装满API</strong>的盒子，可以非常安全地将这样的服务或功能嵌入到移动应用或网站中。</p><p id="7103" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">如果你不知道什么是API，那么API基本上就是一堆在不同软件产品之间传递数据的代码。</em></p><p id="0b01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不用担心怎么做这个集成，我举一个Twilio集成在Flutter应用中的简单例子。</p><h1 id="bb12" class="le lf iq bd lg lh mh lj lk ll mi ln lo lp mj lr ls lt mk lv lw lx ml lz ma mb bi translated">什么是颤振？？</h1><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mm"><img src="../Images/629e933fb7fe48faf8bd29f7dbbd7344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kk3Ivu0vZgBnvqVQJ9yeaQ.png"/></div></div></figure><p id="7d4f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Flutter是目前<strong class="ka ir">应用开发</strong>中最流行的词汇之一。Flutter是Google开发的UI框架。它使用Dart编程语言。</p><p id="01cf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它可以用于从单一代码库<strong class="ka ir">开发Android应用程序、iOS应用程序、网站、Windows桌面应用程序、Google Fuchsia、Linux和MacOS。简单地说，这对开发者来说是一个惊喜。</strong></p><p id="ebfc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，介绍部分到此为止。让我们开始动手操作🤓…</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/e3c8e9ad2ef7908ecb7f936fa02a8af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/1*RITND2g8jmqgTF3RyiD23w.gif"/></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="5678" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">设置和测试twilio</h1><h2 id="9d54" class="mo lf iq bd lg mp mq dn lk mr ms dp lo kj mt mu ls kn mv mw lw kr mx my ma mz bi translated">第一步</h2><p id="11a8" class="pw-post-body-paragraph jy jz iq ka b kb na kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ne kt ku kv ij bi translated">你必须在<a class="ae nf" href="https://www.twilio.com/" rel="noopener ugc nofollow" target="_blank"> Twilio </a>上创建一个账户。通过创建一个帐户，您的帐户中将获得15.50美元的信用点数，随着您使用API，该点数将会减少。</p><h2 id="c39f" class="mo lf iq bd lg mp mq dn lk mr ms dp lo kj mt mu ls kn mv mw lw kr mx my ma mz bi translated">第二步</h2><p id="35d6" class="pw-post-body-paragraph jy jz iq ka b kb na kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ne kt ku kv ij bi translated">注册后，您将被重定向到Twilio仪表板，在那里您可以看到您的身份验证令牌和帐户SID，我们将在向api发出请求时使用它们。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/01ecca912e9401c0979392a6a86acab8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uEAWUzxc2OFKzhqO6aenlg.jpeg"/></div></div></figure><p id="dc46" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">不要与任何人共享此身份验证令牌和SID</em></p><h2 id="8664" class="mo lf iq bd lg mp mq dn lk mr ms dp lo kj mt mu ls kn mv mw lw kr mx my ma mz bi translated">第三步</h2><p id="3162" class="pw-post-body-paragraph jy jz iq ka b kb na kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ne kt ku kv ij bi translated">在这篇博客中，我们将使用Twilio向特定的手机号码发送一条简单的短信。这项服务在Twilio中被称为<strong class="ka ir">“可编程消息”</strong>。</p><p id="467c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，我们首先必须在Twilio上注册我们将向其发送文本消息的手机号码<em class="kw">(它必须是现有的手机号码)</em>，还必须选择发送消息的号码<em class="kw">(您不必提供真实号码，Twilio上会提供选择)</em>。</p><p id="4e57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从仪表板左侧的菜单进入<strong class="ka ir">“可编程信息”</strong>，然后进入<strong class="ka ir">“试用”</strong>部分，然后点击<strong class="ka ir">“开始设置”</strong>并按下开始设置按钮。</p><p id="14a0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为您的信息服务提供一个名称，然后Twilio将为您选择一个号码，作为您服务的发送方。</p><p id="47bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将每月从您的点数中扣除1美元。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/500d74744045209d7f515e8381be6137.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cq4pZMhMuMGFiB36ou0CyQ.png"/></div></div></figure><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/f0b242404179f25e8a1c7f3cc4b16300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VjSMu6CmJ3Vcbx7ukgAq-g.jpeg"/></div></div></figure><p id="77f6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">将该编号复制到某处，我们将在编码部分需要该编号</em></p><p id="9140" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们正在使用试用帐户，所以当我们想发送短信到一个号码时，我们首先必须在Twilio上验证该号码。</p><p id="9015" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">如果您升级了您的帐户，那么您可以直接向任何号码发送消息，而无需验证它们</em></p><p id="9d27" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">前往<strong class="ka ir">电话号码</strong> &gt; &gt; <strong class="ka ir">验证来电显示</strong> &gt; &gt; <strong class="ka ir">添加新号码</strong></p><p id="f28d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后输入号码，之后输入OTP。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/1a55eb790cd5217d559fe2ffdf8f0996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MArgyFoeun6q9LHpOqJ43A.png"/></div></div></figure><p id="a52f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在这个号码可以接收Twilio的短信了</p><p id="db5c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">终于，我们准备好发送第一条信息了。你兴奋吗🤩😁？？</p><p id="6c67" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所以，我们走吧！！！🚀🚀</p><h2 id="25d0" class="mo lf iq bd lg mp mq dn lk mr ms dp lo kj mt mu ls kn mv mw lw kr mx my ma mz bi translated">发送消息</h2><p id="7295" class="pw-post-body-paragraph jy jz iq ka b kb na kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ne kt ku kv ij bi translated">返回<strong class="ka ir">试用</strong>部分，点击<strong class="ka ir">试用短信</strong>，并提供您刚刚在上一步中验证的<em class="kw">手机号码</em>。</p><p id="0772" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后把你开始时生成的<em class="kw">消息服务SID </em>放入<em class="kw">正文</em>中写入消息。当你填写你可以在右边看到的细节时，相应的源代码也以不同的编程语言生成。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/3c54ef6249ea3bf8eccba27041b0be28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GafNlBdWFbglf1i8CaFnOA.jpeg"/></div></div></figure><p id="1193" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">并且点击<strong class="ka ir">发送</strong>。如果它成功了，那么你在不到3分钟的消息将被传递。您可以在右侧看到响应状态。</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/20b27e37f5798a18b23c56e5cac91067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TtPiuDQqJpQCnj03nhIhqg.jpeg"/></div></div></figure><p id="6b13" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">传递的消息将如下所示…</p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/c625dd90403e036f7ef43c4ddf8f5b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*d9C4MjNL_NBZ8dyhi-_nKg.jpeg"/></div></figure><p id="a0a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">呜呜呜🎉🎉现在让我们做一些编码部分，准备好了吗？我们走吧🚀</strong></p><figure class="md me mf mg gt jr gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/db13df6df9006575497c2d59cc840c05.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/1*ZeYBlVyHQw9trIm4pwomGA.gif"/></div></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="42dc" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">颤振积分</h1><p id="5c73" class="pw-post-body-paragraph jy jz iq ka b kb na kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ne kt ku kv ij bi translated">有两种方法可以将Twilio集成到flutter应用程序中，</p><ol class=""><li id="a9b5" class="no np iq ka b kb kc kf kg kj nq kn nr kr ns kv nt nu nv nw bi translated">使用http请求</li><li id="7c0d" class="no np iq ka b kb nx kf ny kj nz kn oa kr ob kv nt nu nv nw bi translated">使用<code class="fe oc od oe of b">twilio_flutter: ^0.0.5</code>包</li></ol><p id="bac1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将使用第一种方法，以便您可以了解实际的API调用。</p><h2 id="b8b8" class="mo lf iq bd lg mp mq dn lk mr ms dp lo kj mt mu ls kn mv mw lw kr mx my ma mz bi translated">第一步</h2><p id="2661" class="pw-post-body-paragraph jy jz iq ka b kb na kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ne kt ku kv ij bi translated">创建一个颤振项目。</p><p id="e70f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<code class="fe oc od oe of b">pubspec.yaml</code>文件中添加<code class="fe oc od oe of b">http: ^0.12.1</code>包</p><p id="88ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将<code class="fe oc od oe of b">http.dart</code>导入到您的dart文件中，如下所示</p><p id="39b9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe oc od oe of b">import 'http.dart' as http</code></p><h2 id="d27a" class="mo lf iq bd lg mp mq dn lk mr ms dp lo kj mt mu ls kn mv mw lw kr mx my ma mz bi translated">第二步</h2><p id="fba1" class="pw-post-body-paragraph jy jz iq ka b kb na kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ne kt ku kv ij bi translated">在一个函数中或者任何你想实现的地方写下面的代码</p><pre class="md me mf mg gt og of oh oi aw oj bi"><span id="bea3" class="mo lf iq of b gy ok ol l om on">var credentials = 'ACCOUNT_SID:AUTH_TOKEN';<br/><br/>var bytes = utf8.encode(cred);<br/><br/>var base64Str = base64.encode(bytes);</span><span id="4bae" class="mo lf iq of b gy oo ol l om on">var url = 'https://api.twilio.com/2010-04-01/Accounts/ACCOUNT_SID/Messages.json';<br/><br/>var response = await http.post(url, headers: {<br/>      'Authorization': 'Basic ${base64Str}' }, <br/>body: {<br/>      'From': 'ENTER_YOUR_TWILIO_SENDER_NUMBER',<br/><br/>      'To': 'ENTER_RECEIVER_NUMBER',<br/><br/>      'Body': 'WRITE_YOUR_MESSAGE'<br/>    });</span><span id="de59" class="mo lf iq of b gy oo ol l om on">print('Response status: ${response.statusCode}');<br/><br/>print('Response body: ${response.body}');</span></pre><h2 id="49c6" class="mo lf iq bd lg mp mq dn lk mr ms dp lo kj mt mu ls kn mv mw lw kr mx my ma mz bi translated">代码解释</h2><ol class=""><li id="4085" class="no np iq ka b kb na kf nb kj op kn oq kr or kv nt nu nv nw bi translated">将<strong class="ka ir"> ACCOUNT_SID </strong>和<strong class="ka ir"> AUTH_TOKEN </strong>替换为您的(<em class="kw">可在Twillio仪表盘</em>上找到)</li><li id="1ceb" class="no np iq ka b kb nx kf ny kj nz kn oa kr ob kv nt nu nv nw bi translated">然后，我们将凭证(<em class="kw"> Account_SID和Auth_token </em>)编码到base64中，因为我们必须在API调用中传递它们以进行身份验证</li><li id="d3b9" class="no np iq ka b kb nx kf ny kj nz kn oa kr ob kv nt nu nv nw bi translated">之后，我们向Twilio API发出http <strong class="ka ir"> POST </strong>请求。你可以从Twilio文档中获得url。</li><li id="1d82" class="no np iq ka b kb nx kf ny kj nz kn oa kr ob kv nt nu nv nw bi translated">提供请求正文所需的详细信息</li><li id="5af1" class="no np iq ka b kb nx kf ny kj nz kn oa kr ob kv nt nu nv nw bi translated">最后，我们只是打印响应体和响应状态代码，以检查请求是否成功。</li></ol><p id="d494" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">大功告成！！！🎉</strong></p><p id="e192" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是发送SMS的第一种方法，在其他方法中，您可以直接使用<a class="ae nf" href="https://pub.dev/packages/twilio_flutter" rel="noopener ugc nofollow" target="_blank"> twilio_flutter </a>包并调用内置方法来发送SMS。</p><h1 id="deac" class="le lf iq bd lg lh mh lj lk ll mi ln lo lp mj lr ls lt mk lv lw lx ml lz ma mb bi translated">展示一些爱和支持</h1><p id="d2ea" class="pw-post-body-paragraph jy jz iq ka b kb na kd ke kf nb kh ki kj nc kl km kn nd kp kq kr ne kt ku kv ij bi translated">如果你觉得这篇文章有帮助，那么请给一些掌声👏👏</p><p id="5338" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更了解我:<a class="ae nf" href="https://linktr.ee/yashpaneliya" rel="noopener ugc nofollow" target="_blank">https://linktr.ee/yashpaneliya</a></p></div></div>    
</body>
</html>