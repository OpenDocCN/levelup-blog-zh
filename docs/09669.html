<html>
<head>
<title>Python for Trading — How I Used Classification Algorithms to Enhance My Winning Rate By 22.4% Easily</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python交易——我如何使用分类算法轻松将我的胜率提高了22.4%</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/python-for-trading-how-i-used-classification-algorithms-to-easily-enhance-my-winning-rate-by-22-4-6269167fbf93?source=collection_archive---------0-----------------------#2021-09-01">https://levelup.gitconnected.com/python-for-trading-how-i-used-classification-algorithms-to-easily-enhance-my-winning-rate-by-22-4-6269167fbf93?source=collection_archive---------0-----------------------#2021-09-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="3845" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">面向交易者和加密的Python故事时间</h2><div class=""/><div class=""><h2 id="9131" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">网飞使用了一个错误的机器学习算法，以增加我的技术分析的稳健性，并像高频交易者一样交易。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/c73e6c4839b742bf2d1f1ccf7f146ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zFEwOCccG-0TqYJxcHXSgQ.png"/></div></div></figure><p id="aa31" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">由于文章的长度和内容的密度，我选择将这篇文章分成两部分。第二部将在5天后上映。在第一部分中，我们将经历开发该算法所需的前两个步骤。尽情享受吧！</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="7a79" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi mh translated">从数学角度来说，他的文章会比平时更先进一点。如果你是这个领域的新手，在这篇文章的结尾，除了获得完整的解释、代码和细节，你将能够对分类算法是如何工作的有一个总体的了解。</p><p id="365c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在过去的几个月里，我在<a class="ae mq" href="https://lhessani-sajid.medium.com/" rel="noopener">媒体</a>上或通过对冲基金信件发表了一系列文章，内容是关于我在交易库中使用的一些算法。</p><p id="e51c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">今天，算法将会更加复杂。然而，如果你从编码开始，或者你渴望了解更多关于这个领域的知识，那将是一个令人兴奋的挑战。</p><p id="61f3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果按部就班，在算法交易和数据科学方面会更强。</p><p id="ea48" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><em class="lz">在本文的最后，你会看到一个发布在</em><a class="ae mq" href="https://www.youtube.com/c/AlgorithmicTradingbySajid" rel="noopener ugc nofollow" target="_blank"><em class="lz">Youtube</em></a><em class="lz">上的视频教程(在那里你会有进一步的解释)，以及一个下载相关Python脚本的链接。</em></p><h2 id="50e1" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">开始前</h2><p id="2a78" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">所以在开始之前…</p><p id="b0a7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果你想更进一步，看看更多的例子，你可以浏览下面的文章:</p><div class="no np gp gr nq nr"><a href="https://medium.com/analytics-vidhya/python-i-have-tested-a-trading-mathematical-technic-in-realtime-658a80381151" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">Python:我已经测试了实时交易数学技术。</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">我用Python实时测试了一个著名的预测市场的数学技术的实现…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">medium.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of lb nr"/></div></div></a></div><div class="no np gp gr nq nr"><a rel="noopener  ugc nofollow" target="_blank" href="/how-i-tripled-my-return-on-bitcoin-using-mathematics-algorithms-and-python-347edd9b5625"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">我如何利用数学、算法和Python让我的比特币回报率翻了三倍</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">利用黄金线算法，我预测了比特币、Ripple、以太坊和Dogecoin的价格演变。完整的Python代码…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oa l"><div class="og l oc od oe oa of lb nr"/></div></div></a></div><p id="ba7f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">两篇文章都涵盖了一些有趣且健壮的算法，您可以通过一个真实的交易例子来轻松预测市场走势。第一个基于美国市场(SP500 +随机股票)，第二个基于加密货币。</p><p id="ef13" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">今天提出的算法的附加价值不是产生一种预测市场的新方法，而是<strong class="lf jd">保护</strong>和<strong class="lf jd">放大</strong>当前的技术分析。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="191b" class="oh ms it bd mt oi oj ok mw ol om on mz ki oo kj nc kl op km nf ko oq kp ni or bi translated">分类算法和SVM</h1><p id="56d8" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">本文将介绍的算法是SVM，称为“支持向量机”。SVM结合了上世纪90年代由Vladimir Vapnik和T2 alexe Tchervonenkis发明的统计技术，属于分类算法家族。</p><p id="9cbb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在实现之前，让我们回顾一下关于分类和SVM的一些理论…</p><h2 id="1bb4" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">什么是分类算法？</h2><p id="e7a8" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">分类是一种机器学习方法，包括给每个数据点分配一个标签。这包括获取输入并将其运行到分类技术或分类器中，以将其映射到离散的类或类别中。</p><p id="77db" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">下面是一个简短的例子:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi os"><img src="../Images/894c017045083156628a49bb0eae11e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*TSijBnVnL4he-EeIpM-dMA.png"/></div></div><figcaption class="ot ou gj gh gi ov ow bd b be z dk translated">上面是一个二元分类的例子</figcaption></figure><p id="812a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这是一个初级二元分类的例子。红色代表高水平，蓝色代表低水平。分类画了一条叫做<strong class="lf jd">的线，一个超平面</strong>(数学上来说:一个函数)来分开两个簇。</p><p id="e44d" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">分类算法的目标是检测定义数量的具有相同模式的聚类，以预测输出。</p><p id="cdef" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在我们的日常生活中，分类算法应用于各个领域，最常见的有<strong class="lf jd">医疗诊断</strong>、<strong class="lf jd">垃圾信息</strong>、<strong class="lf jd">欺诈检测</strong>、<strong class="lf jd">笔迹</strong>、<strong class="lf jd">识别</strong>、<strong class="lf jd">客户</strong>、<strong class="lf jd">细分</strong>、<strong class="lf jd">风险</strong>、<strong class="lf jd">评估</strong>等。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="e266" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">现在，让我们问问自己如何使用这些数学方法来帮助我们的交易决策？</p><p id="ff48" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果你看一下科学文献，五种主要的方法通常被用来将分类应用到现实生活中:</p><ul class=""><li id="9e35" class="ox oy it lf b lg lh lj lk lm oz lq pa lu pb ly pc pd pe pf bi translated">k-最近邻算法(KNN)，</li><li id="6590" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated">使用决策树的随机森林，</li><li id="4fd3" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated"><strong class="lf jd">支持向量机(SVM)</strong></li><li id="02d1" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated">人工神经网络(ANN)，</li><li id="1ebc" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated">朴素贝叶斯分类。</li></ul><p id="51e4" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">与我们的案例相关的方法是SVM。根据文献记载，这种方法越来越多地用于交易领域。根据google scholar的数据，自去年以来，引用量增加了125%以上。</p><p id="d1d8" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在实现我们的方法之前，让我们看看这种方法是如何工作的，以及与上面提到的分类的主要区别。</p><h2 id="a58a" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">差异SVM与二元/多元分类</h2><p id="b341" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">多项式次数是我们将使用的算法(SVM算法)和通常的分类技术之间的显著差异。</p><p id="e713" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">下面我们通过一个图来介绍一下区别:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pl"><img src="../Images/4b128204222f6d9b029c06aa16025474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*prUJFoZE-Lm16h0gB53zFw.png"/></div></div></figure><p id="ec42" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在上面的第三张图中，线性边界不会将消极结果与积极结果分开。在这种情况下，我们将不得不使用非线性决策边界来进行分类。</p><p id="3827" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">SVM分类将通过使用三次方程、二次方程甚至一个<strong class="lf jd"> sigmoid </strong>方程来优化与边界的距离。支持向量机将选择一条<strong class="lf jd">最优线，最大化边界和任一类中最近点</strong>之间的距离。</p><p id="32f9" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这就是为什么在学术界，支持向量机有时被称为最大间隔分类器。</p><p id="4b2c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这个例子表明，我们可以通过将复杂的参数拟合到相对简单的sigmoid函数来构建更复杂的决策边界。通过使用高阶多项式项，我们可以得到复杂的决策边界，如上图所示。</p><p id="d56b" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果你想了解更多信息，你可以点击这个<a class="ae mq" href="https://quantra.quantinsti.com/course/introduction-to-machine-learning-for-trading/?ref=sajidlhessani" rel="noopener ugc nofollow" target="_blank">链接</a>。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><p id="173e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">既然我们已经讨论了背后的数学直觉，让我们开始测试，看看它是如何帮助预测市场的。</p><blockquote class="pm pn po"><p id="3b86" class="ld le lz lf b lg lh kd li lj lk kg ll pp ln lo lp pq lr ls lt pr lv lw lx ly im bi translated">如果您想以同样的速度编码，需要预先安装一些配置和软件包。</p></blockquote><p id="7bc9" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">再者，如果你太心急，想知道如何快速实施这个策略，可以直接看本文末尾的录音。我正在现场应用这个策略，你可以自己看看结果:)。</p><p id="4d43" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我记录了自己对理论、代码的解释，并给出了开发过程中的额外提示。可以自己在家涂。</p><h1 id="88e1" class="oh ms it bd mt oi ps ok mw ol pt on mz ki pu kj nc kl pv km nf ko pw kp ni or bi translated">编码</h1><p id="89c6" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">本部分旨在帮助您逐步开发该算法。如果对代码不感兴趣，可以跳转到结果或者交易机器人的链接。</p><h2 id="188a" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">先决条件:</h2><p id="ed20" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">首先，如果你想跟踪我的进度，在开始之前，你需要在你的机器上安装一个<strong class="lf jd"> Python 3 </strong>版本和以下软件包:</p><ul class=""><li id="821e" class="ox oy it lf b lg lh lj lk lm oz lq pa lu pb ly pc pd pe pf bi translated"><strong class="lf jd">熊猫</strong></li><li id="e9e5" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated"><strong class="lf jd"> NumPy </strong></li><li id="be44" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated"><strong class="lf jd">y金融</strong></li><li id="90c5" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated"><strong class="lf jd"> Scikit-learn </strong></li><li id="2058" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated"><strong class="lf jd"> Ta-Lib </strong></li><li id="a8dc" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated"><strong class="lf jd">密谋</strong> ( <em class="lz">非强制，但对密谋</em>有价值)</li></ul><p id="f3a7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果这些软件包中的任何一个尚未安装，您可以使用pip命令，如下所示。</p><pre class="ks kt ku kv gt px py pz qa aw qb bi"><span id="e355" class="mr ms it py b gy qc qd l qe qf">pip install yfinance<br/>pip install plotly<br/>pip install -U scikit-learn</span></pre><p id="3168" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">对于Mac用户:</p><pre class="ks kt ku kv gt px py pz qa aw qb bi"><span id="eacb" class="mr ms it py b gy qc qd l qe qf">pip install yfinance<br/>pip install plotly<br/>pip install -U numpy scipy scikit-learn</span></pre><p id="ed6f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">一旦您确保安装了以下软件包，我们就可以讨论我们的数据管道和模型了。</p><h2 id="061a" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">数据管道和建模:</h2><p id="0974" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">既然我们已经确认上面的包已经安装在我们的机器中，我们就可以定义数据处理了。</p><p id="cb55" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">数据模型将分为5个不同的步骤。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qg"><img src="../Images/a3ced3ed609eedb2a1df43335c930c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ArHYF_VruYGTuw-vhEW4Uw.png"/></div></div></figure><p id="0554" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">首先</strong>，我们将使用<strong class="lf jd">雅虎金融API </strong>查询实时加密货币的数据。</p><p id="0902" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">秒</strong>，定义一段时间，为我们计算的字段创建新列，并每秒更新这些值。</p><p id="d2db" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">第三个</strong>，现场画这个图，检查我们的信号是否准确。</p><p id="d164" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><em class="lz">在这篇文章中，我不会过多讨论代码和API的细节；阅读下面的文章，你可以找到更多关于如何获得实时市场数据的信息:</em></p><div class="no np gp gr nq nr"><a href="https://towardsdatascience.com/python-how-to-get-live-market-data-less-than-0-1-second-lag-c85ee280ed93" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">Python:如何获取实时市场数据(滞后小于0.1秒)。</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">这篇文章会有点特别。我将测试雅虎财经Python API的最新版本…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="qh l oc od oe oa of lb nr"/></div></div></a></div><p id="1ffb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">现在我们已经有了一个清晰的模型计划，我们可以开始编码了！</p><blockquote class="pm pn po"><p id="437f" class="ld le lz lf b lg lh kd li lj lk kg ll pp ln lo lp pq lr ls lt pr lv lw lx ly im bi translated"><strong class="lf jd"> <em class="it">如果你已经有了使用Python的经验，可以跳到第二步。第一步包括导入包和输入数据。</em>T13】</strong></p></blockquote><h1 id="8bfd" class="oh ms it bd mt oi ps ok mw ol pt on mz ki pu kj nc kl pv km nf ko pw kp ni or bi translated">步骤1:导入所需的包和市场数据。</h1><p id="b7c0" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">第一步将包括导入必要的包和我们的初始条目数据。</p><p id="0268" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">首先，您将使用以下代码行导入先前安装的软件包:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qi qj l"/></div></figure><p id="c059" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">一旦我们设置好了，并且没有出现错误，让我们继续下一步。</p><p id="0fde" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">既然库已经导入，我们现在可以导入我们的初始条目数据了。</p><h2 id="80dc" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">导入市场数据</h2><p id="adb2" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">既然已经上传了所需的不同包。我们将使用<strong class="lf jd">特斯拉</strong>来测试我们的假设。</p><p id="2a7e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">因此，我们将使用<strong class="lf jd"> <em class="lz">雅虎金融API </em> </strong>调用实时市场数据。</p><p id="d841" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">供您参考，雅虎财经API将需要3个强制参数(更多信息请见上面的文章)，顺序如下:</p><ul class=""><li id="4d49" class="ox oy it lf b lg lh lj lk lm oz lq pa lu pb ly pc pd pe pf bi translated">跑马灯<em class="lz"> (1) </em></li><li id="8b04" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated"><em class="lz">开始日期+结束日期</em>或期间<em class="lz"> (2) </em></li><li id="d13e" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated">区间<em class="lz"> (3) </em></li></ul><p id="63f4" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">对于我们的例子，股票代码<em class="lz">(参数1) </em>将是<strong class="lf jd"> TSLA </strong>。此外，我们将为我们的测试选择一个时间段<em class="lz">(参数2) </em>来获取最新的数据，而不是定义一个开始和结束日期。我们将设置1分钟的时间间隔<em class="lz">(参数3) </em>，作为日内交易者。<em class="lz">(你甚至可以选择更短的时间，但一分钟是最佳的)</em></p><p id="0fec" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><em class="lz">快速提醒一下，特斯拉的股票代号是</em><strong class="lf jd"><em class="lz">TSLA</em></strong><em class="lz">。</em></p><p id="5d86" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">要调用您的数据，您必须使用以下结构:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qk"><img src="../Images/3323948df7d8223c30afb39fb2ef4da5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fEOKFR14YpqneenN1kplUw.png"/></div></div><figcaption class="ot ou gj gh gi ov ow bd b be z dk translated">以上描述了获取我们感兴趣的市场数据的结构。</figcaption></figure><p id="2faf" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">现在我们有了结构，让我们运行代码。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qi qj l"/></div><figcaption class="ot ou gj gh gi ov ow bd b be z dk translated">下载市场数据的代码行</figcaption></figure><p id="cc92" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">下面是您应该得到的输出示例:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ql"><img src="../Images/a15af97e585294caf7152340a0dd0ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YLNvvA4Kr-ZTQMC8_5DvHQ.png"/></div></div><figcaption class="ot ou gj gh gi ov ow bd b be z dk translated">输出样本</figcaption></figure><p id="225e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">现在我们已经下载并存储了数据，我们可以快速查看数据在图表上的样子，并开始数据处理:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qm"><img src="../Images/529d94fc12c327dc7de83e5c940b9a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hl_BzB_i7GH1dz5L1F8dZA.png"/></div></div></figure><p id="ec09" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">所以一切看起来都很好；我们可以进行第二步:)。</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="3c25" class="oh ms it bd mt oi oj ok mw ol om on mz ki oo kj nc kl op km nf ko oq kp ni or bi translated">第二步:数据处理</h1><p id="d959" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">数据处理部分将分4步工作:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qn"><img src="../Images/0ade1c1faf7d2d1390b24eda6054b0ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m8dBtoBKrK4ItCX0r8cBQQ.png"/></div></div></figure><p id="898a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">首先，我们需要清理数据，删除零和NA值。然后，索引我们的价值观，并添加市场指标。第三，设置一个目标值(我们会在第二篇文章中谈到“目标值”的概念)来评估我们的模型。第四，将数据集分为训练集和测试集。</p><h2 id="62cc" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">1.数据清理</h2><p id="a29a" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">在开始开发我们的算法之前，需要做一些数据准备。事实上，如果你希望你的算法运行良好，数据的质量是至关重要的。不幸的是，当你进行实时交易时，雅虎财经表格中有时会出现一个小错误。</p><p id="167a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">API提供的数据总体上是干净的，但是一个变量就可能导致<strong class="lf jd"> <em class="lz">问题</em> </strong>。</p><p id="1aaf" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">需要清理的一栏是<strong class="lf jd">交易量</strong>。</p><p id="de71" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">事实上，因为时间很短，在我们的数据集中的某个点，Yahoo Finance显示的交易量为0。如果我们让它保持原样，它可能会产生离群值，这会破坏算法。</p><p id="ab2c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果你想解决这个问题，我们开始吧:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qi qj l"/></div><figcaption class="ot ou gj gh gi ov ow bd b be z dk translated">上面的命令将删除交易量为零的线</figcaption></figure><h2 id="a853" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">索引值并添加额外的变量</h2><p id="9b68" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">现在我们有了一个干净的数据集，是时候给你的算法额外的变量来帮助他理解市场了。</p><p id="eb3c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我们将添加计算字段，如技术指标和其他有影响的变量，如每分钟的回报，相关系数，移动平均线，前几分钟的信息…</p><blockquote class="pm pn po"><p id="fc52" class="ld le lz lf b lg lh kd li lj lk kg ll pp ln lo lp pq lr ls lt pr lv lw lx ly im bi translated">在下面的部分中，我只保留了经过敏感性测试后最有趣和最有影响的变量。在第一部分中，将仅涵盖RSI。另一个变量将在第二篇文章中讨论。</p></blockquote><p id="1b64" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我们将与SVM算法相结合的技术指标是RSI。</p><p id="aac9" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">对于不熟悉交易的人来说，RSI(相对强弱指数)是一个众所周知的基于动量策略的交易指标。</p><p id="70b6" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">它将分析市场变化并给出相对强弱指数(RSI)。这是背后的数学原理:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qo"><img src="../Images/4d63593a87698924b7fe3876994893ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QTvee1_4DuwmJtfKsznm-A.png"/></div></div><figcaption class="ot ou gj gh gi ov ow bd b be z dk translated"><strong class="bd mt"> n </strong>代表时间段数。</figcaption></figure><p id="a410" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">然而，今天，不需要手动开发数学计算。我们将通过使用Ta-Lib库来走捷径。我们需要定义的唯一因素是<strong class="lf jd">时间段和</strong>时间段的数量。</p><p id="0e21" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">我们将为我们的日交易光学<strong class="lf jd">选择的时间段</strong>是1分钟</strong>，时间段<strong class="lf jd">是14个</strong>。</p><p id="c4c3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">为此，我们执行下面的代码行，开始吧:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qi qj l"/></div></figure><p id="b2c3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">让我们想象一下！(完整的可视化代码在下面的视频教程中)</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qp"><img src="../Images/6c8b1b2bbe32449f1cd61601689ebb3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxSS9Z1x1HqZ2FoeHpPqdQ.png"/></div></div></figure><p id="0e5d" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">一切都好。</p><p id="bd08" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">看到交易指标的买和卖之间的模式是很有趣的。</p><p id="b50f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在使用RSI的基础上，我们将添加额外的变量，使算法更健壮，受离群值的影响更小。</p><p id="b3f1" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这些变量将在第二部分讨论。第二部分将于2021年9月7日星期三<strong class="lf jd">出版。</strong>所以，想在<a class="ae mq" href="https://lhessani-sajid.medium.com/" rel="noopener"> <strong class="lf jd">上订阅</strong> </a>或<a class="ae mq" href="https://www.youtube.com/c/AlgorithmicTradingbySajid" rel="noopener ugc nofollow" target="_blank"> <strong class="lf jd"> Youtube </strong> </a>来获取更新。</p><p id="36ea" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我爱你们所有人。我希望你喜欢这第一部分；第二部分会更加精彩。</p><h1 id="56b3" class="oh ms it bd mt oi ps ok mw ol pt on mz ki pu kj nc kl pv km nf ko pw kp ni or bi translated">在下一篇文章中…</h1><p id="c8ee" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">第二部分，我们将开发我们的机器学习，并运行我们的AI机器人进行交易！</p><p id="4329" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">下面，您可以获得最终结果的示例:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qq"><img src="../Images/d4181123bf798ad10668fb12e1326d01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kp76rJeYHUj2bqYWq8hDVA.png"/></div></div></figure><p id="c7ba" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">你可以访问下面的完整视频教程，如果你想在家里开发它，还有进一步的解释:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qr qj l"/></div><figcaption class="ot ou gj gh gi ov ow bd b be z dk translated"><strong class="ak">教程视频</strong></figcaption></figure><h1 id="c32e" class="oh ms it bd mt oi ps ok mw ol pt on mz ki pu kj nc kl pv km nf ko pw kp ni or bi translated">结论</h1><p id="6772" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">在第一篇文章的结尾，我们已经讨论了以下要点:</p><ul class=""><li id="279c" class="ox oy it lf b lg lh lj lk lm oz lq pa lu pb ly pc pd pe pf bi translated">分类算法背后的直觉</li><li id="4fe1" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated">如何导入市场数据</li><li id="ebb8" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated">快速浏览RSI</li><li id="09a3" class="ox oy it lf b lg pg lj ph lm pi lq pj lu pk ly pc pd pe pf bi translated">对市场运动最有影响的一些因素</li></ul><p id="6720" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">下一篇文章将在未来几天发布；我不想让它太沉重而无法阅读，只是想订阅不要错过它。我希望你喜欢这篇文章，再见。</p><p id="a9fc" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">快乐编码，</p><p id="6eb2" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">赛义德</p></div><div class="ab cl ma mb hx mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="im in io ip iq"><h1 id="37ce" class="oh ms it bd mt oi oj ok mw ol om on mz ki oo kj nc kl op km nf ko oq kp ni or bi translated">为了更进一步:</h1><h2 id="9e3a" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">推荐内容</h2><p id="9366" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">如果你想在这个领域更进一步，我可以推荐以下两个课程:</p><p id="3156" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><a class="ae mq" href="https://quantra.quantinsti.com/learning-track/machine-learning-deep-learning-in-financial-markets/?ref=sajidlhessani" rel="noopener ugc nofollow" target="_blank">金融市场的机器学习和深度学习</a></p><p id="b642" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><a class="ae mq" href="https://quantra.quantinsti.com/learning-track/algorithmic-trading-for-everyone/?ref=sajidlhessani" rel="noopener ugc nofollow" target="_blank">人人算法交易</a></p><p id="6982" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><a class="ae mq" href="https://quantra.quantinsti.com/course/trading-with-machine-learning-regression/?ref=sajidlhessani" rel="noopener ugc nofollow" target="_blank">用机器学习回归交易</a></p><h2 id="ee0a" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">需要一对一的教训</h2><p id="bbc4" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">如果你需要一个特定的一对一课程来开始学习算法交易和数据科学:</p><div class="no np gp gr nq nr"><a href="https://www.superprof.co.uk/data-scientist-working-banking-and-capital-market-youtube-channel-algorithmic-trading-sajid.html" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">赛义德-伦敦，大伦敦:在银行和资本市场工作的数据科学家。Youtube…</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">我向学生提出的附加值是基于现实生活中的项目。目标是从初学者到…</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">www.superprof.co.uk</p></div></div><div class="oa l"><div class="qs l oc od oe oa of lb nr"/></div></div></a></div><h2 id="c509" class="mr ms it bd mt mu mv dn mw mx my dp mz lm na nb nc lq nd ne nf lu ng nh ni iz bi translated">跟随我的自动交易机器人。</h2><p id="44b2" class="pw-post-body-paragraph ld le it lf b lg nj kd li lj nk kg ll lm nl lo lp lq nm ls lt lu nn lw lx ly im bi translated">下面是我的交易机器人的一个例子，用来获取加密市场上的每日实时信号:</p><div class="no np gp gr nq nr"><a href="https://t.me/joinchat/lIRlxve7ik1mMGNk" rel="noopener  ugc nofollow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jd gy z fp nw fr fs nx fu fw jc bi translated">Cryptop</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">林克-https://t.me/joinchat/IIQwifpza3BjZTE0</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">t.me</p></div></div><div class="oa l"><div class="qt l oc od oe oa of lb nr"/></div></div></a></div><h1 id="7b02" class="oh ms it bd mt oi ps ok mw ol pt on mz ki pu kj nc kl pv km nf ko pw kp ni or bi translated">完整的Python代码—第1/2部分</h1><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qi qj l"/></div></figure></div></div>    
</body>
</html>