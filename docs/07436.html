<html>
<head>
<title>Type Annotation vs Type Inference in TypeScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TypeScript中的类型注释与类型推理</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/type-annotation-vs-type-inference-in-typescript-85ba2194ebe1?source=collection_archive---------4-----------------------#2021-02-18">https://levelup.gitconnected.com/type-annotation-vs-type-inference-in-typescript-85ba2194ebe1?source=collection_archive---------4-----------------------#2021-02-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fe66" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何在TypeScript中向变量添加类型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8c074babe433ce02cec5b25770541ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xrMxDPHmbHkLZR-W"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@lucamartini?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卢卡·马丁尼</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="0418" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">欢迎来到打字世界！JavaScript语言的超集，其中每个值都有一个与之关联的类型。</p><p id="872d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将通过理解类型注释和类型推断之间的区别来尝试使用TypeScript。我假设您有一些JavaScript经验，并且了解基本类型，比如字符串、数字和布尔值。如果您不熟悉类型，请查看下面的文档开始学习。</p><div class="lv lw gp gr lx ly"><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">手册—基本类型</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">学习TypeScript的第一步:基本类型。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">www.typescriptlang.org</p></div></div></div></a></div><h2 id="a5b2" class="mh mi it bd mj mk ml dn mm mn mo dp mp li mq mr ms lm mt mu mv lq mw mx my mz bi translated">TL；速度三角形定位法(dead reckoning)</h2><blockquote class="na"><p id="4104" class="nb nc it bd nd ne nf ng nh ni nj lu dk translated">类型注释:我们显式地告诉TypeScript类型</p><p id="c4b6" class="nb nc it bd nd ne nf ng nh ni nj lu dk translated">类型推断:TypeScript隐式地计算出类型</p></blockquote></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="23d3" class="nr mi it bd mj ns nt nu mm nv nw nx mp jz ny ka ms kc nz kd mv kf oa kg my ob bi translated">类型注释</h1><p id="1bb7" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">类型注释意味着我们告诉TypeScript值是什么类型。为了将一个类型明确地赋给一个值，我们将在变量声明后添加一个冒号和类型。下面的代码将变量<code class="fe oh oi oj ok b">color</code>的类型指定为<code class="fe oh oi oj ok b">string</code>。</p><pre class="kj kk kl km gt ol ok om on aw oo bi"><span id="e706" class="mh mi it ok b gy op oq l or os">let color: string = 'blue';</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/0ff22c53ace3defb80294a23978fcad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*fZAQfrsdiguUR7eUqtgSMw.png"/></div></figure><p id="22c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们试图将<code class="fe oh oi oj ok b">color</code>变量重新赋值给字符串以外的任何东西，我们将会得到一个错误。</p><pre class="kj kk kl km gt ol ok om on aw oo bi"><span id="0ed8" class="mh mi it ok b gy op oq l or os">// We manually assign the type to string<br/>let color: string = 'blue';</span><span id="8c7f" class="mh mi it ok b gy ou oq l or os">// This will cause an error since color must be a string<br/>color = 10;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/149203e13f8ab191b3e0a5d1256543c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ytRXSo5vgkT5LnOrhqxqGw.png"/></div></div></figure><p id="b367" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以对数字、布尔值或任何其他类型做同样的事情。</p><h1 id="2db4" class="nr mi it bd mj ns ow nu mm nv ox nx mp jz oy ka ms kc oz kd mv kf pa kg my ob bi translated">类型推理</h1><p id="d7c6" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">类型推断是TypeScript用来猜测类型的系统。如果在一个表达式中声明一个变量并初始化它，TypeScript将知道该类型。</p><p id="c952" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的代码中，我们没有显式地给<code class="fe oh oi oj ok b">color</code>变量分配类型。因为我们将其初始化为值<code class="fe oh oi oj ok b">'blue'</code>，TypeScript知道color必须是一个<code class="fe oh oi oj ok b">string</code>并为我们分配类型。这是类型推理。</p><pre class="kj kk kl km gt ol ok om on aw oo bi"><span id="072b" class="mh mi it ok b gy op oq l or os">// TypeScript will assign the type to string<br/>let color = 'blue';</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/8cdf6e49aa552a89af22fbae5e581ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*flMA0kg-shCrM-RtBZG9Yg.png"/></div></figure><p id="4e9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们试图将颜色重新分配给字符串以外的任何东西，我们将得到与以前相同的错误。</p><h1 id="13d3" class="nr mi it bd mj ns ow nu mm nv ox nx mp jz oy ka ms kc oz kd mv kf pa kg my ob bi translated">我们什么时候需要使用类型注释？</h1><p id="c3ac" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">类型推断使我们很容易使用TypeScript，但是你不能总是依赖它如你所愿地工作。那么我们什么时候需要使用类型注释呢？</p><h2 id="f837" class="mh mi it bd mj mk ml dn mm mn mo dp mp li mq mr ms lm mt mu mv lq mw mx my mz bi translated">延迟初始化</h2><p id="987a" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">一个例子是，如果我们在一行中声明一个变量，然后在稍后初始化它。如果我们只是声明一个没有类型的变量，TypeScript会给这个变量一个类型<code class="fe oh oi oj ok b">any</code>。这是我们想要避免的。</p><pre class="kj kk kl km gt ol ok om on aw oo bi"><span id="298c" class="mh mi it ok b gy op oq l or os">// TypeScript will assign the type to any<br/>let color;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/baa0b40e6149ebc46ba43e3c1e7d69b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*2S1yxubq_BhQV8B7gT5iVw.png"/></div></figure><p id="1e2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了解决这个问题，我们将在声明变量时对类型进行注释。现在，TypeScript知道这个值必须是一个字符串。如果我们试图将它赋给其他任何东西，它将显示一个错误。</p><pre class="kj kk kl km gt ol ok om on aw oo bi"><span id="9cb4" class="mh mi it ok b gy op oq l or os">// We manually assign the type to string<br/>let color: string;<br/>color = 'blue'</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/268d28b210e853ae28d19e35068ba827.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*NhvdlOmvdoBayVGxW-FIGA.png"/></div></figure><h2 id="a3c5" class="mh mi it bd mj mk ml dn mm mn mo dp mp li mq mr ms lm mt mu mv lq mw mx my mz bi translated">分配多种类型</h2><p id="fc0f" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">第二个例子是，如果我们想赋予一个值多种类型。我们可以使用一个<code class="fe oh oi oj ok b">|</code>字符将一个变量设置为多种类型。</p><p id="66f9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的代码中，<code class="fe oh oi oj ok b">color</code>变量现在可以是字符串或数字。</p><pre class="kj kk kl km gt ol ok om on aw oo bi"><span id="aecc" class="mh mi it ok b gy op oq l or os">let color: (string | number) = 'blue';</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/27529d3c9b4032c0bf412ff78aee78d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*FiVo8vEyoqk_M2pzAQSgkA.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/d78bfade160f39b9dfee91a340e99e4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*M2Fni-tF9ZvdBBKNn4jk-A.png"/></div></figure><h2 id="cc6b" class="mh mi it bd mj mk ml dn mm mn mo dp mp li mq mr ms lm mt mu mv lq mw mx my mz bi translated">功能类型</h2><p id="d805" class="pw-post-body-paragraph kz la it lb b lc oc ju le lf od jx lh li oe lk ll lm of lo lp lq og ls lt lu im bi translated">我们需要注释类型的另一个例子是在处理函数的时候。函数也有类型推断，但是有时候返回的类型不是我们想要的。处理函数中的类型是我们将在以后的文章中深入探讨的另一个主题。现在，只要知道在处理函数时，直接注释类型可能是个好主意。</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><p id="7989" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！我希望本文能让您对TypeScript有一个简要的了解，并理解类型注释和类型推断之间的区别。</p><p id="c081" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在考虑学习TypeScript，但不确定你是否应该，我会说试试吧。它的受欢迎程度正在上升。现在很多公司都在用，会给你打开更多的工作机会。如果您来自另一种静态类型语言或者了解JavaScript，那么这个转换不会太难。</p><p id="7e07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看下面的文章，继续学习关于TypeScript的知识。</p><div class="lv lw gp gr lx ly"><a href="https://js.plainenglish.io/functions-and-interfaces-working-together-in-typescript-34d2abba3fc6" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">在TypeScript中一起工作的函数和接口</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">如何在TypeScript中向函数添加类型和使用接口</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">js .平原英语. io</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl ks ly"/></div></div></a></div></div></div>    
</body>
</html>