<html>
<head>
<title>How to Use Generics in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Swift中使用泛型</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-use-generics-in-swift-3cf2438973fe?source=collection_archive---------6-----------------------#2022-04-27">https://levelup.gitconnected.com/how-to-use-generics-in-swift-3cf2438973fe?source=collection_archive---------6-----------------------#2022-04-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a018" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让你的代码最小化</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a24d88e52cb5f9a5b11e579f412a6368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wLP_Inum-KWyZr6Y"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@codestorm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">萨法尔·萨法罗夫</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="a356" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为开发人员，我们的主要职责之一是尽可能保持代码简单，避免重复代码。泛型是提供很多好处的功能之一，比如更好的性能、更少的代码、可重用的代码等等。所以我认为每个开发人员都了解泛型是很重要的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d29f" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">为什么我们需要泛型？</h1><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="d576" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所看到的，<code class="fe mw mx my mz b">SearchUtil</code>类将接受一个整数列表作为参数。<code class="fe mw mx my mz b">searchItem</code>函数将一个整数(需要搜索的)作为输入并返回结果。这似乎很好。不是吗？。那还有什么问题？</p><p id="1f04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设，现在你需要搜索一个字符串或对象的列表。你会怎么做？这个问题有两种可能的解决方案。</p><ol class=""><li id="3db6" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">创建另一个<code class="fe mw mx my mz b">SearchUtil</code>类和<code class="fe mw mx my mz b">searchItem</code>函数，它们将接受字符串或对象类型并返回结果。</li><li id="91e2" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">使用泛型</li></ol><p id="7720" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解决方案1显然不是一个好主意。因为我们要写很多代码，而且很多代码会重复。在这种情况下，泛型可以提供帮助。</p><h1 id="eb7b" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">什么是泛型？</h1><p id="fae4" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">根据官方文件，</p><blockquote class="ny nz oa"><p id="f1e3" class="kz la ob lb b lc ld ju le lf lg jx lh oc lj lk ll od ln lo lp oe lr ls lt lu im bi translated">泛型是类、结构、接口和方法，它们为自己存储或使用的一个或多个类型提供了占位符(类型参数)。泛型集合类可能使用类型参数作为其存储的对象类型的占位符；类型参数显示为其字段的类型和其方法的参数类型。泛型方法可能使用其类型参数作为其返回值的类型，或者作为其某个形参的类型。</p></blockquote><p id="b1ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简而言之，</p><blockquote class="ny nz oa"><p id="aeb0" class="kz la ob lb b lc ld ju le lf lg jx lh oc lj lk ll od ln lo lp oe lr ls lt lu im bi translated">泛型是一个灵活的系统，允许您处理任何数据类型。它把类型的负担从你身上转移到了编译器身上。</p></blockquote><p id="bf2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我觉得这是最简单的解释。</p><h1 id="5d78" class="mc md it bd me mf no mh mi mj np ml mm jz nq ka mo kc nr kd mq kf ns kg ms mt bi translated">行动中的仿制药</h1><p id="f315" class="pw-post-body-paragraph kz la it lb b lc nt ju le lf nu jx lh li nv lk ll lm nw lo lp lq nx ls lt lu im bi translated">现在我们将把上面的例子转换成泛型。要将<code class="fe mw mx my mz b">SearchUtil</code>类转换为泛型，我们需要如下修改它</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="58a1" class="oj md it mz b gy ok ol l om on">class SearchUtil&lt;T: Equatable&gt;</span></pre><p id="07c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里<code class="fe mw mx my mz b">T</code>表示任何一种类型都可以作为实参使用。我使用<code class="fe mw mx my mz b">Equatable</code>协议，因为对象将被检查是否相等。</p><p id="f599" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有，我们需要修改<code class="fe mw mx my mz b">searchItem</code>函数。</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="e9e4" class="oj md it mz b gy ok ol l om on">func searchItem(element: T, foundItem: (T?)-&gt;())</span></pre><p id="90ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以使用任何我们想要的类型。</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="fb8f" class="oj md it mz b gy ok ol l om on">let searchUtil = SearchUtil<em class="ob">(</em>list : listOfObjects<em class="ob">)<br/></em>let searchUtil = SearchUtil<em class="ob">(</em>list : listOfNumber<em class="ob">)</em></span></pre><p id="7952" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码将没有任何问题。我们来看一个真实的例子。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="a1b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们创建了一个<code class="fe mw mx my mz b">Person</code>结构。我们正在对<code class="fe mw mx my mz b">listOfPerson</code>执行搜索操作。现在，如果您想在一个整数列表上执行搜索操作，您可以在不改变<code class="fe mw mx my mz b">SearchUtil</code>或<code class="fe mw mx my mz b">searchItem</code>的情况下完成</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="13bc" class="oj md it mz b gy ok ol l om on"><em class="ob">let searchUtil = SearchUtil(list: [Int](arrayLiteral: 24,25,26))<br/>searchUtil.searchItem(element: 26) {(result) -&gt; () in</em><strong class="mz iu"><em class="ob"><br/>    </em></strong><em class="ob">print(result ?? "Not found")<br/>}</em></span></pre><p id="6e9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太棒了，不是吗？。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="31f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天到此为止。我希望你学到了新的有用的东西。</p><p id="60b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有什么建议，请在评论中分享。直到我们再次见面…干杯！</p><pre class="kj kk kl km gt of mz og oh aw oi bi"><span id="467a" class="oj md it mz b gy ok ol l om on"><strong class="mz iu">Want to Connect?</strong>If you want to, you can connect with me on <a class="ae ky" href="https://twitter.com/FarhanT99598254" rel="noopener ugc nofollow" target="_blank">Twitter</a> or <a class="ae ky" href="https://www.linkedin.com/in/farhan-tanvir-b08520151/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>.</span></pre></div></div>    
</body>
</html>