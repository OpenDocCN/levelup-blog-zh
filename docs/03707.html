<html>
<head>
<title>Strategies for Debugging Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">调试代码的策略</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/strategies-for-debugging-code-9de0ca9f823b?source=collection_archive---------12-----------------------#2020-05-23">https://levelup.gitconnected.com/strategies-for-debugging-code-9de0ca9f823b?source=collection_archive---------12-----------------------#2020-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/95811884b95ea7db24633aa9d4a7ace3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uhRitfPhbqeYy7LA"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">劳伦茨·克莱因海德在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="db48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">调试代码通常是一个艰难而令人疲惫的过程。然而，归根结底还是要解决问题。</p><p id="2bbf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将看看如何使调试变得更容易。</p><h1 id="b506" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">安静</h1><p id="77b1" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">当我们遇到一个bug的时候，首先要做的就是冷静下来。</p><p id="5ea8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可能已经感到疲惫和沮丧，但是当我们调试时，我们必须冷静下来，这样我们才能更快更容易地找到问题的根源。</p><p id="2054" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还有，调试的时候要保持开放的心态。近视对我们没有任何好处。</p><p id="81c1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们应该找到问题的根源，而不是解决问题的表象。真正的罪魁祸首可能离我们观察到的东西有几步之遥。</p><p id="eeae" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，我们所看到的并不总是根本原因。因此，我们应该找到根本原因，一劳永逸地修复我们遇到的bug。</p><h1 id="f7b0" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">从哪里开始</h1><p id="f493" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们首先要确保我们的代码构建和运行没有错误。</p><p id="f3f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们需要收集所有相关的数据。我们应该注意，我们可能会被巧合误导。</p><p id="46ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们不能在巧合上浪费时间。我们的观察必须准确。</p><p id="d9dd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果错误报告来自第三方，准确性也会降低。</p><p id="5995" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">他们可能不知道到底发生了什么，我们需要观察向某些东西报告错误的用户实际上重现了错误，这样我们自己也可以重现它。</p><p id="c8fb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">人工测试可能不会充分锻炼应用程序，导致我们的问题。我们可能需要测试用户可能会做的边缘案例和其他实际使用模式。</p><h1 id="067e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">调试策略</h1><p id="c0e5" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">开始修复一个bug的最好方法是从我们自己复制它开始。</p><p id="ac25" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们不能复制它，那么我们不会知道它是固定的。</p><p id="b455" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要做的事情就是能够用一个命令来复制一些东西。如果我们必须通过许多步骤来隔离可能导致错误的场景，从而重现错误，那么修复起来会困难得多。</p><h1 id="dca8" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">可视化数据</h1><p id="1251" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">当我们试图重现bug时，我们需要将数据可视化。</p><p id="b119" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是调试器的用武之地。它让我们观察每个变量的值，看看是否有什么东西会因为给变量设置了错误的值而导致错误。</p><h1 id="d2bd" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">描摹</h1><p id="586a" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">调试器现在关注程序的状态。所以为了可视化整个工作流程，我们需要追踪代码的流程。</p><p id="2fe4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这就是代码的堆栈跟踪非常有用的地方，因为它列出了在获得给定结果之前运行的所有代码。</p><p id="5615" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以在代码中添加跟踪语句来跟踪代码是如何被调用的。为此，我们可以编写自己的日志语句，将文本打印到控制台，这样我们就可以看到调用了什么。</p><p id="d28a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">打印出这些值也很有用，这样我们就可以在控制台中看到它们。</p><p id="79de" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这让我们可以通过沿着调用树深入到bug的根本原因来深入到代码。</p><h1 id="73bf" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">橡皮鸭</h1><p id="6111" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">当我们解释运行一段代码的工作流时，我们可能会通过向另一个旁观者解释来捕捉一些异常。</p><p id="6126" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们正在向他或她解释，他或她也可能告诉我们一些我们没有发现的东西，这可能有助于找到错误的罪魁祸首。</p><h1 id="2469" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">消除过程</h1><p id="67a1" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在大多数应用程序中，有许多部分组成了整个应用程序。它可能由我们编写的代码、其他人编写的代码以及第三方库、框架和其他产品组成。</p><p id="0f52" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，bug可以存在于任何这些地方。然而，代码更有可能存在于我们或团队中其他人开发的部分中。</p><p id="e270" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在他们被我们的调试工作证明是错误的之前，我们不应该假设他们给出了任何东西。</p><p id="50cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们不能假设这不是一个简单的打字错误导致的错误，直到我们实际上消除了这种可能性。</p><p id="13b7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们可能错误地调用了库的一部分。因此，我们应该检查他们的文档，以确保我们调用它是正确的。</p><p id="fcd2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这非常重要，因为这绝对是一种可能性，我们只能通过直接否定它来消除它。</p><p id="bd08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，在我们真正找到罪魁祸首并解决它之前，我们不应该做任何假设。</p><p id="69b8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们修复之后，我们应该通过多测试几次来检查这不是侥幸或巧合，以确保bug确实消失了。</p><figure class="mi mj mk ml gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mh"><img src="../Images/96cc13daf0c0c011640d2667c467d82f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4ekZ8Q11cxhUr_h1"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">本·怀特在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="48f2" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="e833" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在粉碎虫子的时候，我们不应该做任何假设。在做出任何结论之前，确保我们考虑了所有的可能性并逐一排除了它们。</p><p id="0b08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还有就是调试的时候要静下心来理性思考。这样，我们实际上可以思考。</p></div></div>    
</body>
</html>