<html>
<head>
<title>Which is faster: Rust or C? Let’s find out who is the Usain Bolt of programming world.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Rust和C哪个更快？让我们来看看谁是编程界的尤塞恩·博尔特。</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/which-is-faster-rust-or-c-lets-find-out-who-is-the-usain-bolt-87495c774c8?source=collection_archive---------0-----------------------#2020-11-03">https://levelup.gitconnected.com/which-is-faster-rust-or-c-lets-find-out-who-is-the-usain-bolt-87495c774c8?source=collection_archive---------0-----------------------#2020-11-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2b73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用流行排序算法对C和Rust语言速度的比较研究。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/32ae8b930e62118d4b9767972bc1c131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G-YkdY18UNFB6UJO"/></div></div></figure><h1 id="1418" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">忍者神龟的主人</h1><p id="dbd7" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">C是古怪的，有缺陷的，但却是巨大的成功</p><p id="2499" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">——<a class="ae ma" href="https://www.inspiringquotes.us/author/6242-dennis-ritchie" rel="noopener ugc nofollow" target="_blank">T3【丹尼斯里奇】T4</a></p><p id="0bda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ma" href="https://en.wikipedia.org/wiki/C_(programming_language)" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> C </strong> </a>，最早的编程语言之一，是一种命令式通用计算机编程语言，可追溯到1969年。<a class="ae ma" href="https://en.wikipedia.org/wiki/Dennis_Ritchie" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">丹尼斯里奇</strong> </a> <strong class="jp ir"> </strong>是C编程语言之父<strong class="jp ir"> </strong>。1989年，美国国家标准协会和国际标准化组织为c开发了新的共识标准。它仍然是一种通用的、广泛使用的编程语言，是一种简单的、跨平台工作的低级编程语言。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/0b7ca92f4ccbaefdc071d64a110d9896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*0Qa4nzuF43tBzwOV"/></div></figure><p id="6b1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">比方说，C++和Java可能比普通的C增长得更快，但我打赌C仍将存在 </p><p id="d052" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mc"> — </em> <a class="ae ma" href="https://www.inspiringquotes.us/author/6242-dennis-ritchie" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="mc">丹尼斯里奇</em> </strong> </a></p><p id="aa7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">微波炉、洗衣机和数码相机等流行的家用设备正变得日益复杂。包含在这些机器中的微处理器、操作系统和软件提供了这种知识。这些程序不仅要高效运行，还要在少量内存上工作。这样的程序是用c写的并不令人吃惊。</p><p id="0425" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像Windows、UNIX、Linux这样的流行操作系统的主要部分仍然是用C编写的，这是因为即使在今天，当谈到性能(执行速度)时，也没有什么能胜过C(但从现在开始不会了)。此外，如果要扩展操作系统以与新设备一起工作，就需要编写设备驱动程序。这些程序完全是用c语言编写的。</p><p id="f35d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">c语言对IT行业有着巨大的影响，并且仍然发挥着至关重要的作用。</p><h1 id="587f" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">Rust，每个领域的潜在竞争者</h1><p id="7370" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated"><a class="ae ma" href="https://en.wikipedia.org/wiki/Rust_(programming_language)" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> Rust </strong> </a>是一种专注于性能和安全，尤其是安全并发的多范式编程语言。Rust在语法上类似于C++，它不使用垃圾收集，而是通过使用借用检查系统来提供内存安全。</p><p id="28d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Rust最初是由T4 Mozilla公司T5研究所的格雷顿·霍尔设计的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi md"><img src="../Images/d69c4511b9f6a0c9da0f5897139d43b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LpyXFlPz7iHkHdV4"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">*生锈</figcaption></figure><p id="42fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">铁锈主要集中在以下几个方面</p><p id="3d0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">1.并发性。</p><p id="2b32" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.安全。</p><p id="ce34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.速度。</p><p id="7315" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">记忆安全</strong></p><p id="5046" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Rust的一个主要卖点是，它在编译时保证你的应用程序不会被取消引用空指针或悬空指针。铁锈也使内存泄漏变得困难。</p><p id="cec2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">性能</strong></p><p id="a87b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Rust语言在设计上没有垃圾收集器(GC)。Rust会知道变量何时超出范围或者它的生命周期何时在编译时结束，从而插入相应的LLVM/assembly指令来释放内存。这提高了运行时的性能。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/40dd3eb1f9d6fa5c3d2e9f30911db2a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/0*ixf1HA8mWF8A1Rq6"/></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">这就是Rust处理记忆的方式。</figcaption></figure><p id="555a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">多线程</strong></p><p id="1e63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在Rust中，由于所有权的原因，线程自动相互“隔离”。只有当线程拥有可变的访问权限时，写入才会发生，无论是通过拥有数据还是通过可变地借用数据。无论哪种方式，都保证线程是当时唯一可以访问的线程</p><p id="1819" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">腹板组装支架</strong></p><p id="cb75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Web Assembly有助于在浏览器、嵌入式设备或任何其他地方执行高计算密集型算法。它以本机代码的速度运行。Rust可以编译成Web程序集，以便快速、可靠地执行。</p><h1 id="9315" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">比较C的速度&amp;生锈</strong></h1><h2 id="3925" class="mj ky iq bd kz mk ml dn ld mm mn dp lh jy mo mp ll kc mq mr lp kg ms mt lt mu bi translated">方法学</h2><p id="90a3" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">比较这两种语言速度的方法是编写最流行的排序算法，针对不同的元素范围运行它们，并比较哪种语言在排序元素时花费的时间最长。我使用的排序算法是:-</p><p id="1e75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">1.<a class="ae ma" href="https://en.wikipedia.org/wiki/Bubble_sort" rel="noopener ugc nofollow" target="_blank">冒泡排序</a>。</p><p id="ba28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.<a class="ae ma" href="https://en.wikipedia.org/wiki/Insertion_sort" rel="noopener ugc nofollow" target="_blank">插入排序</a>。</p><p id="b954" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.<a class="ae ma" href="https://en.wikipedia.org/wiki/Selection_sort" rel="noopener ugc nofollow" target="_blank">选择排序</a>。</p><p id="1d76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.<a class="ae ma" href="https://en.wikipedia.org/wiki/Shellsort" rel="noopener ugc nofollow" target="_blank">贝壳分类</a>。</p><p id="ec0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.<a class="ae ma" href="https://en.wikipedia.org/wiki/Heapsort" rel="noopener ugc nofollow" target="_blank">堆排序</a>。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/084e70b549478697e3164249c2d60df0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U2gQVKotHESKxhCZ"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">*流行排序算法的时间复杂度</figcaption></figure><p id="adee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以上是流行排序算法的时间复杂度，通过观察最坏情况下的复杂度，我们可以大致了解哪种排序技术在它们之间表现最差。</p><p id="f767" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">冒泡排序的最坏情况复杂度为O(N ),与其他排序技术相比，它的性能肯定是最差的。我们将生成的结果矩阵还将帮助我们通过比较排序元素所需的时间来理解时间方面的最坏情况的复杂性。</p><p id="7890" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，我用C &amp; Rust写了上面的5个算法。出于输入的目的，我使用了一个整数数组，并使用随机数生成器函数<a class="ae ma" href="http://www.cplusplus.com/reference/cstdlib/rand/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> rand </strong> () </a>在C语言中以及<a class="ae ma" href="https://docs.rs/rand/*/rand/trait.Rng.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> rand::Rng </strong> </a>在Rust语言中用随机数填充该数组。这个数组作为排序算法的输入，输出记录在一个矩阵中。测试三个范围1000、10000 &amp; 100000个元素的算法性能。</p><p id="7efa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这种设置已经运行了100次迭代，求平均值以产生输出矩阵。</p><h1 id="7d8c" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">性能比较设置</h1><p id="8ce0" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">完成并运行上述设置的系统配置是:-</p><p id="20e5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">马科斯·卡特琳娜</p><p id="f690" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">MacBook Pro (16英寸，2019年)</p><p id="33d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">处理器:- 2.3 GHz 8核英特尔酷睿i9处理器</p><p id="3445" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">内存:- 16 GB 2667 MHz DDR4</p><p id="54e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">clang版本12.0.0(优化标志-O3)</p><p id="588b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">rustc 1.45.2(优化标志-发布)</p><h1 id="b282" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">性能统计</h1><p id="3caf" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">以下是生成的输出矩阵</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mw"><img src="../Images/4ee471b45f01c3175c72e067491ae162.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HrGOFSNeaNCRxDDobeeaGQ.png"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">* C语言在不同排序算法上的性能。</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mx"><img src="../Images/b2a610f284292145ae083fbc2a4af7a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*37g2JLwbjMDdcl9Y"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">* Rust语言在不同排序算法上的性能。</figcaption></figure><p id="7426" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从输出矩阵中可以清楚地看出，结果在某种程度上是相等的。对于每种排序技术和输入数组范围，在某些情况下Rust性能更好，在某些情况下C性能更好。在较低范围的元素(1000个元素)中，Rust的表现更好，除了在插入排序中。对于10000个元素的范围，C对于每种排序技术都表现得更好。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi my"><img src="../Images/691c4434f6c748e64d84223529782070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LBw1M8vF9NZImM7o5mHY5A.png"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk translated">*图形表示。</figcaption></figure><p id="d177" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">柱状图还显示，所有情况下的结果几乎相同。</p><p id="bc99" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以尝试在自己的系统上实现它。</p><p id="caa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">项目的Github链接:-<a class="ae ma" href="https://github.com/imrushabh/C_vs_Rust" rel="noopener ugc nofollow" target="_blank">https://github.com/imrushabh/C_vs_Rust</a></p><h1 id="1d6a" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">结论</strong></h1><p id="243c" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">很难说哪种语言更快，因为这取决于具体情况。但是我们可以说Rust在速度上是C的竞争对手，它比许多其他流行语言如Java和Python都要快。Rust提供了许多功能，如它专注于速度、内存安全和并行性，并且是开源的，我们可以使用Rust创建各种新的软件应用程序，如游戏引擎、操作系统、文件系统、浏览器组件和虚拟现实的模拟引擎。在接下来的时间里，我们肯定会看到锈无处不在！！！</p><h2 id="05cf" class="mj ky iq bd kz mk ml dn ld mm mn dp lh jy mo mp ll kc mq mr lp kg ms mt lt mu bi translated">请给我买杯咖啡来支持我:-<a class="ae ma" href="http://buymeacoffee.com/rushabh" rel="noopener ugc nofollow" target="_blank">buymeacoffee.com/rushabh</a></h2></div></div>    
</body>
</html>