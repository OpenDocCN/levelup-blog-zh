<html>
<head>
<title>Learn Basic Operations with SQLite and Nodejs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习SQLite和Nodejs的基本操作</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learn-basic-operations-with-sqlite-and-nodejs-a693c6fc2e15?source=collection_archive---------4-----------------------#2020-08-02">https://levelup.gitconnected.com/learn-basic-operations-with-sqlite-and-nodejs-a693c6fc2e15?source=collection_archive---------4-----------------------#2020-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="aa38" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在这一课中，我们将学习如何将nodejs应用程序与SQLite数据库进行交互。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5bdaa14c23d455c8a304a0b3ca191e49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NNm7IMgYt-5ZO6N1XMMX2A.png"/></div></div></figure><p id="64d9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">SQLite是一个强大的数据库，它存在于单个文件或内存中，并为我们提供了所有的基本操作(查询、视图、触发器、索引等),这些操作拥有大型企业数据库，如MySQL、Postgress等…</p><p id="5f36" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在nodejs中，我们有一个<code class="fe lq lr ls lt b">sqlite3</code>模块，它为我们提供了与SQLite数据库交互所需的所有特性。</p><h1 id="1178" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">1.安装<code class="fe lq lr ls lt b"><strong class="ak">sqlite3</strong></code>并连接数据库</h1><p id="a223" class="pw-post-body-paragraph ku kv it kw b kx mm ju kz la mn jx lc ld mo lf lg lh mp lj lk ll mq ln lo lp im bi translated">在本节中，我们将创建<strong class="kw iu"> users.db </strong>数据库，建立并关闭与<strong class="kw iu"> users.db </strong>的连接。</p><p id="65d4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">创建新的nodejs项目</p><pre class="kj kk kl km gt mr lt ms mt aw mu bi"><span id="166d" class="mv lv it lt b gy mw mx l my mz">cd sqliteBasics<br/>npm init -y<br/>npm i sqlite3</span></pre><p id="43e4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在创建一个<strong class="kw iu">。/index.js </strong>文件</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated"><strong class="ak">。/index.js </strong></figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/728f8aecf856308eef8d94b2724c4a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*8hpdpbfHJE1C2O0Xi5eyWA.png"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">终端输出</figcaption></figure><h1 id="c838" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">2.创建表，插入和检索数据</h1><p id="d2e8" class="pw-post-body-paragraph ku kv it kw b kx mm ju kz la mn jx lc ld mo lf lg lh mp lj lk ll mq ln lo lp im bi translated">任务是创建一个有两列(用户名，密码)的<code class="fe lq lr ls lt b">users</code>表，然后插入和检索数据。但是在nodejs框架中，串行操作很棘手。不要害怕<code class="fe lq lr ls lt b">sqlite3</code>有<strong class="kw iu"><em class="nh">db . serialize()</em></strong>函数，它赋予我们序列化查询语句的能力。</p><p id="c6bb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们将使用3个主要功能:</p><blockquote class="ni nj nk"><p id="80fb" class="ku kv nh kw b kx ky ju kz la lb jx lc nl le lf lg nm li lj lk nn lm ln lo lp im bi translated"><strong class="kw iu">db . serialize([callback])</strong>在回调方法中，我们可以按顺序运行操作。</p><p id="5f8e" class="ku kv nh kw b kx ky ju kz la lb jx lc nl le lf lg nm li lj lk nn lm ln lo lp im bi translated"><strong class="kw iu"> db.run(SQL，[param，...]，[callback]) </strong>运行SQL语句但不检索任何数据。</p><p id="111f" class="ku kv nh kw b kx ky ju kz la lb jx lc nl le lf lg nm li lj lk nn lm ln lo lp im bi translated"><strong class="kw iu"> db.each(SQL，[param，...]，[callback]，[complete]) </strong>运行SQL语句从查询中检索数据，并分别循环每一行。</p></blockquote><p id="9e0e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">更新<strong class="kw iu">。/index.js </strong>文件</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/679a81ac77d78bc757c2adb37d02cac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*GzoNVjLT-386a2dAZMhA7Q.png"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">终端输出</figcaption></figure><h1 id="054a" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">3.更新和删除数据</h1><p id="11c0" class="pw-post-body-paragraph ku kv it kw b kx mm ju kz la mn jx lc ld mo lf lg lh mp lj lk ll mq ln lo lp im bi translated">现在我们有了包含数据的<strong class="kw iu"> <em class="nh"> users.db </em> </strong>数据库，我们可以运行更新和删除查询。</p><p id="7afc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">创建一个新文件<strong class="kw iu">。/updateDelete.js </strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/67cde5ca3702bc8c333b2580d97e1aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*ZPwJSmnl9I0YvVouanDjAw.png"/></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk translated">终端输出</figcaption></figure><h1 id="947a" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">结论</h1><p id="aaf1" class="pw-post-body-paragraph ku kv it kw b kx mm ju kz la mn jx lc ld mo lf lg lh mp lj lk ll mq ln lo lp im bi translated">这是一堂关于<code class="fe lq lr ls lt b">sqlite3</code>模块的快速课程，内容是如何:</p><ol class=""><li id="056e" class="nq nr it kw b kx ky la lb ld ns lh nt ll nu lp nv nw nx ny bi translated">打开-关闭与数据库的连接</li><li id="ec6c" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">运行<strong class="kw iu"><em class="nh"/></strong>(创建、更新、删除)查询</li><li id="50b1" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp nv nw nx ny bi translated">使用<strong class="kw iu"> db.serialize(【回调】)</strong>方法将流设置为串行模式</li></ol><h1 id="b894" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">参考</h1><ul class=""><li id="5dac" class="nq nr it kw b kx mm la mn ld oe lh of ll og lp oh nw nx ny bi translated"><a class="ae oi" href="https://www.sqlite.org/index.html" rel="noopener ugc nofollow" target="_blank">https://www.sqlite.org/index.html</a></li><li id="d663" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp oh nw nx ny bi translated"><a class="ae oi" href="https://www.sqlitetutorial.net" rel="noopener ugc nofollow" target="_blank">https://www.sqlitetutorial.net</a></li><li id="f18e" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp oh nw nx ny bi translated"><a class="ae oi" href="https://www.npmjs.com/package/sqlite3" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/sqlite3</a></li><li id="ebb5" class="nq nr it kw b kx nz la oa ld ob lh oc ll od lp oh nw nx ny bi translated"><a class="ae oi" href="https://github.com/mapbox/node-sqlite3/wiki/API" rel="noopener ugc nofollow" target="_blank">https://github.com/mapbox/node-sqlite3/wiki/API</a></li></ul><blockquote class="oj"><p id="5116" class="ok ol it bd om on oo op oq or os lp dk translated">T <a class="ae oi" href="https://www.subscribepage.com/pkoulianos" rel="noopener ugc nofollow" target="_blank">汉克斯🙏🙏为了阅读我的故事，请在这里注册，并继续关注更多的nodejs和SQLite博客</a></p></blockquote></div></div>    
</body>
</html>