<html>
<head>
<title>What is “__name__” and “__main__” in Python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的“__name__”和“__main__”是什么？</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/what-is-name-and-main-in-python-354375d9a480?source=collection_archive---------5-----------------------#2020-10-14">https://levelup.gitconnected.com/what-is-name-and-main-in-python-354375d9a480?source=collection_archive---------5-----------------------#2020-10-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6f5a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">揭开Python代码__name__和__main__背后奥秘的指南</h2></div><p id="74d7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这行代码是什么意思？</p><blockquote class="lb"><p id="2aee" class="lc ld iq bd le lf lg lh li lj lk la dk translated">if __name__ == "__main__ ":</p></blockquote><p id="2946" class="pw-post-body-paragraph kf kg iq kh b ki ll jr kk kl lm ju kn ko ln kq kr ks lo ku kv kw lp ky kz la ij bi translated">这一行代码背后的整个思想是，当你从一个模块导入时，你想知道一个模块的函数是否被用作导入，或者你是否使用原始的函数。py”文件。在这种情况下，我们使用上面的行。</p><p id="c5a1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过将脚本作为命令传递给Python解释器来运行脚本时:</p><blockquote class="lb"><p id="19a7" class="lc ld iq bd le lf lg lh li lj lk la dk translated">python myscript.py</p></blockquote><p id="2191" class="pw-post-body-paragraph kf kg iq kh b ki ll jr kk kl lm ju kn ko ln kq kr ks lo ku kv kw lp ky kz la ij bi translated">缩进级别为0的所有代码都会被执行。定义了函数和类，但是它们的代码都没有运行。与其他语言不同，没有自动运行的main()函数——main()函数隐含了顶层的所有代码。</p><p id="2539" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">__name__是一个内置变量，其计算结果为当前模块的名称。根据我们运行实际脚本的方式，这个变量被赋予一个字符串。</p><p id="ef0a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果模块是直接运行的(如上面的myscript.py所示)，则__name__改为设置为字符串“__main__”。因此，您可以通过测试来测试您的脚本是直接运行还是由其他东西导入</p><p id="ac8f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe lq lr ls lt b">if __name__ == “__main__”:</code></p><p id="1104" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果代码被导入到另一个模块中，那么各种函数和类的定义都会被导入，但是main()代码不会运行。</p><p id="4fa1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了更好地理解它，创建两个python文件“test1.py”和“test2.py”。在test1中，我们定义了一个函数，在test2中，我们导入了tes1脚本。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/1db2be1bc71e7d8ab0189024a73cad2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jIXLB1P7G8T-PrUNnZgqgQ.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">test1.py(来源:作者)</figcaption></figure><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/ce3b4681cb19d8da0d746145e7dd5fbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YFqELLNsa1wAfle1_A53Og.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">test2.py(来源:作者)</figcaption></figure><p id="43c4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们直接从命令行运行test1脚本时，我们得到下面的输出，从中我们可以看出，当我们直接运行脚本时__name__被分配了字符串__main__。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi mk"><img src="../Images/13da83af08edf32eb7b696ec687900f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S_4GwtNWqYniFnemodRIjA.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">test1.py输出(来源:作者)</figcaption></figure><p id="d0c1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们运行test2脚本时，test1脚本通过导入它而被间接调用，因此“else”语句运行并显示它正被导入到另一个模块中。然而，test2脚本是直接运行的，所以它打印的是直接运行的。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ml"><img src="../Images/7867ea62c2d1f60347fa54152a0123a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z58QWRYRVk2F5L-vVubCZA.png"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk translated">test2.py输出(来源:作者)</figcaption></figure><h2 id="5a2d" class="mm mn iq bd mo mp mq dn mr ms mt dp mu ko mv mw mx ks my mz na kw nb nc nd ne bi translated">学习Python可以参考的入门书籍:</h2><div class="nf ng gp gr nh ni"><a href="https://amzn.to/3yDY4To" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">Python速成班，第二版:基于项目的编程入门实践</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">世界上最畅销的Python书籍的第二版。一个快速的，没有废话的Python编程指南…</h3></div></div><div class="nq l"><div class="nr l ns nt nu nq nv me ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://amzn.to/3vtvQZv" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">艰难地学习Python:一个非常简单的介绍可怕的美丽世界…</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">你会学习Python！Zed Shaw完善了世界上最好的学习Python的系统。遵循它，你会…</h3></div></div><div class="nq l"><div class="nw l ns nt nu nq nv me ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://amzn.to/3urluYI" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">思考Python，2e:如何像计算机科学家一样思考</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">思考Python，2e:如何像计算机科学家一样思考</h3></div></div><div class="nq l"><div class="nx l ns nt nu nq nv me ni"/></div></div></a></div><h2 id="c31d" class="mm mn iq bd mo mp mq dn mr ms mt dp mu ko mv mw mx ks my mz na kw nb nc nd ne bi translated">学习Python可以参考的高级书籍:</h2><div class="nf ng gp gr nh ni"><a href="https://amzn.to/3fMzVBn" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">编程Python:强大的面向对象编程</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">如果你已经掌握了Python的基础，你就可以开始使用它来完成真正的工作了。编程Python将…</h3></div></div><div class="nq l"><div class="ny l ns nt nu nq nv me ni"/></div></div></a></div><div class="nf ng gp gr nh ni"><a href="https://amzn.to/34oFFMl" rel="noopener  ugc nofollow" target="_blank"><div class="nj ab fo"><div class="nk ab nl cl cj nm"><h2 class="bd ir gy z fp nn fr fs no fu fw ip bi translated">高级Python编程:使用以下工具构建高性能、并发和多线程应用</h2><div class="np l"><h3 class="bd b gy z fp nn fr fs no fu fw dk translated">关键特性使用Dask和PySpark Master技能在集群上设置和运行分布式算法，以准确地…</h3></div></div><div class="nq l"><div class="nz l ns nt nu nq nv me ni"/></div></div></a></div><blockquote class="oa ob oc"><p id="c6e3" class="kf kg od kh b ki kj jr kk kl km ju kn oe kp kq kr of kt ku kv og kx ky kz la ij bi translated">联系我:<a class="ae oh" href="https://www.linkedin.com/in/jayashree-domala8/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a></p><p id="6bb6" class="kf kg od kh b ki kj jr kk kl km ju kn oe kp kq kr of kt ku kv og kx ky kz la ij bi translated">看看我的其他作品:<a class="ae oh" href="https://github.com/jayashree8" rel="noopener ugc nofollow" target="_blank"> GitHub </a></p></blockquote></div></div>    
</body>
</html>