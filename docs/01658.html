<html>
<head>
<title>Starting With React? Benefit From These Coding Tips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从React开始？受益于这些编码技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/starting-with-react-benefit-from-these-coding-tips-fadfb25eaed7?source=collection_archive---------7-----------------------#2020-01-20">https://levelup.gitconnected.com/starting-with-react-benefit-from-these-coding-tips-fadfb25eaed7?source=collection_archive---------7-----------------------#2020-01-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/34b4d4fc51a79e1a533e4007fa38763e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cMwiXecR6AiDf5S8ITweDA.png"/></div></div></figure><div class=""/><div class=""><h2 id="8a70" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">当你要学习反应时，给自己一个好的开始</h2></div><p id="c402" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">你是新来的吗？或者，在您真正开始学习这个Javascript库之前，您是否正在寻找更多的信息？你可能不是唯一一个。React是生态系统中最流行的JavaScript前端框架之一。</p><p id="eac3" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这篇文章是为那些想开始学习或刚刚开始学习的人写的。但是，建议您至少对JavaScript有一些经验，以便能够阅读和理解本文中使用的编码示例。</p><p id="c2be" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">本文中的技巧应该让您更好地了解某些事情，如事件处理，在React中是如何工作的。这将为您成为更好的React开发人员提供一个良好的开端。</p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h1 id="da43" class="lw lx je bd ly lz ma mb mc md me mf mg kk mh kl mi kn mj ko mk kq ml kr mm mn bi translated">成分</h1><p id="5505" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">您可能已经知道，React是基于组件的。随之而来的一个好处是，逻辑只需实现一次，然后就可以在应用程序中的任何地方重用。</p><p id="51fb" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">一个非常基本的React组件可能如下所示:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="61c9" class="nc lx je my b gy nd ne l nf ng">import React, { Component } from 'react'</span><span id="ea49" class="nc lx je my b gy nh ne l nf ng">class Car extends React.Component {<br/>  render() {<br/>    return &lt;h1&gt;Model: {this.props.model}&lt;/h1&gt;;<br/>  }<br/>}</span></pre><p id="3ed2" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">正如你所看到的，汽车组件有一个<em class="ni">渲染</em>功能。React组件必须实现这个功能。<em class="ni">渲染</em>功能决定屏幕上显示的内容。</p><p id="c84c" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">但是有多种方法来定义一个组件。</p><h2 id="cb29" class="nc lx je bd ly nj nk dn mc nl nm dp mg lc nn no mi lg np nq mk lk nr ns mm nt bi translated">不同类型的组件</h2><p id="5ff7" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">在上面的例子中，我们创建了一个<em class="ni">类组件</em>。有道理对吗？但是也有另一种方法来定义组件。我们将这类组件<em class="ni">称为功能组件</em>。</p><p id="c940" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">让我们将前面示例中的汽车组件重写为一个功能组件。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="cf60" class="nc lx je my b gy nd ne l nf ng">import React from 'react'</span><span id="deb0" class="nc lx je my b gy nh ne l nf ng">const Car = (props) =&gt; &lt;h1&gt;Model: {props.model}&lt;/h1&gt;</span></pre><h2 id="9c63" class="nc lx je bd ly nj nk dn mc nl nm dp mg lc nn no mi lg np nq mk lk nr ns mm nt bi translated">返回值</h2><p id="d556" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">随着时间的推移，您的组件可能会变得更加复杂，这导致返回值也变得更加复杂。知道一个组件可以并且应该只有一个父组件是件好事。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="e370" class="nc lx je my b gy nd ne l nf ng">import React from 'react'</span><span id="5f09" class="nc lx je my b gy nh ne l nf ng">const Car = (props) =&gt; {<br/>  return (<br/>    &lt;h1&gt;Model: {props.model}&lt;/h1&gt;<br/>    &lt;span&gt;{props.price}$&lt;/span&gt;<br/>    &lt;a href="#"&gt;Buy this car&lt;/a&gt;<br/>  )<br/>}</span></pre><p id="e8da" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">上面的例子会导致一个错误，因为没有父节点。<em class="ni"> h1 </em>、<em class="ni"> span、</em>和<em class="ni"> a </em>标签都在同一层。这在React中是不允许的。</p><p id="f5fb" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">有多种方法可以解决这个问题。最明显的方法是将汽车组件的整个输出包装在一个<em class="ni"> div </em>中。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="8735" class="nc lx je my b gy nd ne l nf ng">import React from 'react'</span><span id="6f39" class="nc lx je my b gy nh ne l nf ng">const Car = (props) =&gt; {<br/>  return (<br/>    &lt;div&gt;<br/>      &lt;h1&gt;Model: {props.model}&lt;/h1&gt;<br/>      &lt;span&gt;{props.price}$&lt;/span&gt;<br/>      &lt;a href="#"&gt;Buy this car&lt;/a&gt;<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="267f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">但是可能会有一种情况，你不想要一个包装。别担心，你还有选择。你可以利用碎片。片段可以让您分组一系列子节点，而无需向DOM添加额外的节点。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="ac13" class="nc lx je my b gy nd ne l nf ng">import React from 'react'</span><span id="4af3" class="nc lx je my b gy nh ne l nf ng">const Car = (props) =&gt; {<br/>  return (<br/>    &lt;&gt;<br/>      &lt;h1&gt;Model: {props.model}&lt;/h1&gt;<br/>      &lt;span&gt;$ {props.price}&lt;/span&gt;<br/>      &lt;a href="#"&gt;Buy this car&lt;/a&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre><p id="aa29" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">注意<code class="fe nu nv nw my b"><em class="ni">&lt;&gt; &lt;/&gt;</em></code>包装器，它是一个片段。这个元素不会向DOM添加额外的节点。</p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h1 id="f3b3" class="lw lx je bd ly lz ma mb mc md me mf mg kk mh kl mi kn mj ko mk kq ml kr mm mn bi translated">班级</h1><p id="4f57" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">当我第一次开始学习React时，我不得不习惯的一件事是，<em class="ni"> class </em>属性没有被使用。类是Javascript中的关键字，JSX是Javascript的扩展。这就是React使用<em class="ni">类名</em>而不是<em class="ni">类</em>的主要原因。</p><p id="2282" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">所以如果你想给你的组件添加一些类，你可以使用<em class="ni"> className </em>属性，而不是<em class="ni"> class </em>。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="7d5b" class="nc lx je my b gy nd ne l nf ng">&lt;Car className="suv" /&gt;</span></pre></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h1 id="c622" class="lw lx je bd ly lz ma mb mc md me mf mg kk mh kl mi kn mj ko mk kq ml kr mm mn bi translated">呈现多个组件</h1><p id="b859" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">假设我们想扩展我们之前的例子。我们现在有多辆车。但是我们如何渲染所有这些组件呢？</p><p id="850b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">如果你是一个普通的Javascript爱好者，你可能会对此使用for循环。但是在React中，你可以通过使用<em class="ni">映射</em>函数来实现。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="452c" class="nc lx je my b gy nd ne l nf ng">import React from 'react'</span><span id="c1ca" class="nc lx je my b gy nh ne l nf ng">const CarOverview = (props) =&gt; {<br/>  return (<br/>    &lt;div className="cars"&gt;<br/>      {props.cars.map((car, key) =&gt; {<br/>        return (<br/>          &lt;Car key={key} model={car.model} price={car.price} /&gt;<br/>        )<br/>      })}<br/>    &lt;/div&gt;<br/>  )<br/>}</span></pre><p id="34bc" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">请注意，我们已经为列表上的项目添加了一个<em class="ni">键</em>。<em class="ni"> Key </em>是一个特殊的字符串属性，您需要在创建元素列表时包含它。关键字有助于识别哪些项目已经更改、添加或删除。每当你在一个数组上循环的时候，应该给所有的元素一个键。这给了元素一个稳定的身份。</p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h1 id="76d0" class="lw lx je bd ly lz ma mb mc md me mf mg kk mh kl mi kn mj ko mk kq ml kr mm mn bi translated">条件渲染</h1><p id="1386" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">有时，您会遇到这样的情况，在将某些内容呈现到屏幕上之前，您需要检查一些条件。在我们的例子中，这可以应用于电动汽车。我们想展示一辆电动汽车可以行驶的最大总里程。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="1ad8" class="nc lx je my b gy nd ne l nf ng">import React from 'react'</span><span id="c0de" class="nc lx je my b gy nh ne l nf ng">const Car = (props) =&gt; {<br/>  return (<br/>    &lt;&gt;<br/>      &lt;h1&gt;Model: {props.model}&lt;/h1&gt;<br/>      &lt;span&gt;$ {props.price}&lt;/span&gt;</span><span id="cc3e" class="nc lx je my b gy nh ne l nf ng">     {props.electric &amp;&amp; (<br/>       return &lt;span&gt;Range: {props.range} miles&lt;/span&gt;<br/>     )}   </span><span id="9ff9" class="nc lx je my b gy nh ne l nf ng">      &lt;a href="#"&gt;Buy this car&lt;/a&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre><p id="e6b2" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">在其他情况下，您可能想要添加一个<em class="ni"> else </em>子句:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="b2d0" class="nc lx je my b gy nd ne l nf ng">import React from 'react'</span><span id="b74d" class="nc lx je my b gy nh ne l nf ng">const Car = (props) =&gt; {<br/>  return (<br/>    &lt;&gt;<br/>      &lt;h1&gt;Model: {props.model}&lt;/h1&gt;<br/>      &lt;span&gt;$ {props.price}&lt;/span&gt;</span><span id="2249" class="nc lx je my b gy nh ne l nf ng">     {props.electric ? 'Electric' : 'Not electric'}</span><span id="19d6" class="nc lx je my b gy nh ne l nf ng">     &lt;a href="#"&gt;Buy this car&lt;/a&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre><p id="89a7" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">如果你真的想使用多个else if子句，你可以选择将所有的逻辑放在一个函数中。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="6085" class="nc lx je my b gy nd ne l nf ng">const Car = (props) =&gt; {</span><span id="01a3" class="nc lx je my b gy nh ne l nf ng">  const getType = () =&gt; {<br/>    if (props.electric) {<br/>      return 'Electric'<br/>    } else if (props.hybrid) {<br/>      return 'Hybrid'<br/>    }<br/>    <br/>    return 'Gas'<br/>  }</span><span id="0730" class="nc lx je my b gy nh ne l nf ng">  return (<br/>    &lt;&gt;<br/>      &lt;h1&gt;Model: {props.model}&lt;/h1&gt;<br/>      &lt;span&gt;$ {props.price}&lt;/span&gt;</span><span id="58db" class="nc lx je my b gy nh ne l nf ng">      {getType()}</span><span id="ea86" class="nc lx je my b gy nh ne l nf ng">      &lt;a href="#"&gt;Buy this car&lt;/a&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre><h1 id="6633" class="lw lx je bd ly lz nx mb mc md ny mf mg kk nz kl mi kn oa ko mk kq ob kr mm mn bi translated">处理事件</h1><p id="788e" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">在React中处理事件非常简单，您可能熟悉这种方法。唯一不同的是一些小的语法问题。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="2c7d" class="nc lx je my b gy nd ne l nf ng">import React from 'react'</span><span id="b523" class="nc lx je my b gy nh ne l nf ng">const Car = (props) =&gt; {</span><span id="5580" class="nc lx je my b gy nh ne l nf ng">  const buyCar = (e) =&gt; {<br/>    e.preventDefault()</span><span id="1bbf" class="nc lx je my b gy nh ne l nf ng">    console.log('Someone wants to buy this car')<br/>  }</span><span id="20c8" class="nc lx je my b gy nh ne l nf ng">  return (<br/>    &lt;&gt;<br/>      ...<br/>       <br/>      &lt;button onClick={buyCar}&gt;Buy this car!&lt;/button&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span></pre></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h1 id="2299" class="lw lx je bd ly lz ma mb mc md me mf mg kk mh kl mi kn mj ko mk kq ml kr mm mn bi translated">在组件中使用状态</h1><p id="d7b7" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">我们已经到达了本文将要讨论的最后一个主题。了解状态如何工作是理解React的关键。</p><p id="0a62" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">让我们看看下面的例子:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="edb4" class="nc lx je my b gy nd ne l nf ng">import React, { useState } from 'react';<br/><br/>const Like = (props) =&gt; {<br/>  const [likes, setLikes] = useState(props.likes)</span><span id="08ec" class="nc lx je my b gy nh ne l nf ng">  const like = () =&gt; {<br/>    setLikes(likes + 1)<br/>  }</span><span id="7ef9" class="nc lx je my b gy nh ne l nf ng">  return (<br/>    &lt;div&gt;<br/>      &lt;p&gt;This car has been liked {likes} times&lt;/p&gt;<br/>      &lt;button onClick={like}&gt;<br/>        Like<br/>      &lt;/button&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="2bef" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">正如你所看到的，我们引入了一个新的组件，叫做<em class="ni">，就像</em>。我们使用了<em class="ni"> useState </em>钩子来声明一个状态变量。但是在我们进一步讨论之前，什么是状态？</p><p id="0ade" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">状态只不过是一个存储组件动态数据的JavaScript对象。因为状态是动态的，所以它使组件能够跟踪呈现之间不断变化的信息。因此，状态可以用来使组件动态和交互。</p><p id="c996" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">状态类似于道具，但不同于道具，它是组件的私有属性，只由组件控制。</p><p id="ece9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">但是下面这行代码到底是做什么的呢:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="e28e" class="nc lx je my b gy nd ne l nf ng">const [likes, setLikes] = useState(props.likes)</span></pre><p id="f45b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这行代码声明了一个名为<em class="ni">的状态变量likes </em>。为了改变我们的<em class="ni"> likes </em>状态变量的值，我们可以使用我们定义的<em class="ni"> setLikes </em>函数。所以任何时候我们想要更新我们的<em class="ni"> likes </em>变量，我们调用<em class="ni"> setLikes </em>函数。最后但同样重要的是，我们传递给<em class="ni"> useState </em>函数的参数是<em class="ni"> likes </em>变量的默认值，在本例中是通过props传递的。</p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><h1 id="9cd6" class="lw lx je bd ly lz ma mb mc md me mf mg kk mh kl mi kn mj ko mk kq ml kr mm mn bi translated">后续步骤</h1><p id="0240" class="pw-post-body-paragraph kt ku je kv b kw mo kf ky kz mp ki lb lc mq le lf lg mr li lj lk ms lm ln lo im bi translated">现在您已经对React的工作原理有了一些了解，是时候开始使用它了。你可以从Create React App <a class="ae oc" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"> Github </a>入手。这样，您可以立即开始摆弄React。</p><p id="e83f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">试着更好地理解主要概念。一旦你掌握了这些，尝试更高级的概念，如<a class="ae oc" href="https://reactjs.org/docs/context.html" rel="noopener ugc nofollow" target="_blank">上下文</a>。不要忘了，学习的唯一方法，就是把你的手弄脏！</p><figure class="mt mu mv mw gt iv"><div class="bz fp l di"><div class="od oe l"/></div></figure></div></div>    
</body>
</html>