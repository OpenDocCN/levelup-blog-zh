<html>
<head>
<title>Build a command-line Application using kotlinx-cli | Kotlin beginner to advanced</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨kotlinx-cli | Kotlinåˆçº§åˆ°é«˜çº§æ„å»ºå‘½ä»¤è¡Œåº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/kotlin-beginner-to-advance-build-real-command-line-tool-using-kotlinx-cli-608bbc6d9a3?source=collection_archive---------1-----------------------#2020-03-12">https://levelup.gitconnected.com/kotlin-beginner-to-advance-build-real-command-line-tool-using-kotlinx-cli-608bbc6d9a3?source=collection_archive---------1-----------------------#2020-03-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a9f3f9471b684b8e8f09d0eb798e7dbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YK5PLgDKciZ0J66Ilvb9wQ.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">ç§‘ç‰¹æ—æ ‡å¿—</figcaption></figure><div class=""/><p id="d555" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨è®¸å¤šé¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œç¼–å†™å‘½ä»¤è¡Œåº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚å¤§å¤šæ•°é¢å‘å¯¹è±¡çš„è¯­è¨€éœ€è¦æ²‰é‡çš„ç»“æ„(æºä»£ç )æ¥è¿è¡Œä¸€ä¸ªç®€å•çš„ç¨‹åºã€‚Java/Kotlinå°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚åœ¨è¿™é‡Œï¼Œæ ¼é›·å°”æ¥æ•‘æˆ‘ä»¬äº†ã€‚</p><p id="3794" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">Gradleæ˜¯ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬åˆ›å»ºå’Œç»´æŠ¤å¤§å‹åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚æ ¼æ‹‰å¾·å¤ªæ£’äº†ã€‚ç„¶è€Œï¼Œè®¾ç½®Gradleä¹Ÿæ˜¯ä¸€é¡¹ç¹ççš„ä»»åŠ¡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†ä¸€æ­¥ä¸€æ­¥åœ°å±•ç¤ºå¦‚ä½•åœ¨Kotlinä¸­æ„å»ºä¸€ä¸ªå¯ä¼¸ç¼©çš„CLI(å‘½ä»¤è¡Œç•Œé¢)å·¥å…·ã€‚</p><h2 id="09eb" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">å…ˆå†³æ¡ä»¶:</h2><ol class=""><li id="ffba" class="lw lx ji kh b ki ly km lz kq ma ku mb ky mc lc md me mf mg bi translated">Java 1.8åŠä»¥ä¸Šç‰ˆæœ¬</li><li id="2682" class="lw lx ji kh b ki mh km mi kq mj ku mk ky ml lc md me mf mg bi translated"><a class="ae mm" href="https://gradle.org/install/" rel="noopener ugc nofollow" target="_blank"> Gradle 5.5ã€‚</a> 1åŠä»¥ä¸Š(æ”¯æŒKotlin DSLçš„Gradle)</li></ol><h2 id="c292" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">æ­¥éª¤1:åˆ›å»ºä¸€ä¸ªå¤šæ¨¡å—çš„Gradleé¡¹ç›®</h2><p id="3f58" class="pw-post-body-paragraph kf kg ji kh b ki ly kk kl km lz ko kp kq mn ks kt ku mo kw kx ky mp la lb lc im bi translated">åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨Gradleæ­å»ºç»“æ„ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="3845" class="ld le ji mv b gy mz na l nb nc">mkdir kotlin-demos #[your project name]<br/>cd kotlin-demos &amp;&amp; gradle init</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nd"><img src="../Images/ef0da0476b0cf80c74ff26fa10d7473e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Kzbw07NBIcpmqIETsRLtg.png"/></div></div></figure><p id="97b0" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">é€‰æ‹©åŸºæœ¬<strong class="kh jj">ã€é€‰é¡¹1ã€‘</strong>æˆ–ç›´æ¥æŒ‰å›è½¦é”®ã€‚ä¹‹åé€‰æ‹©Kotlin <strong class="kh jj">ã€é€‰é¡¹2ã€‘</strong>ä½œä¸ºæ„å»ºè„šæœ¬DSLã€‚æ‚¨å¯ä»¥è¾“å…¥æ‰€éœ€çš„é¡¹ç›®åç§°ã€‚é¡¹ç›®åç§°å¯ä»¥ä¸åŒäºæ–‡ä»¶å¤¹åç§°ã€‚</p><p id="ed9a" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åˆå§‹åŒ–å®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨IntelliJ(IDE)ä¸­æ‰“å¼€é¡¹ç›®ã€‚å®ƒå°†åŒæ­¥Gradleé¡¹ç›®ï¼Œæ‚¨å¯ä»¥åœ¨ideçš„å³ä¾§çœ‹åˆ°å¯ç”¨çš„Gradleå‘½ä»¤ã€‚</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ne"><img src="../Images/61f8e1bbecfae0ac5734fa91a2724a1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFwphYGipdtllpCGeE8gvA.png"/></div></div></figure><p id="bc71" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">æ³¨æ„:</strong>æœ¬æ•™ç¨‹ä¸éœ€è¦IntelliJã€‚ç„¶è€Œï¼ŒIntelliJä¸Gradleä¸€èµ·å·¥ä½œéå¸¸æ–¹ä¾¿ã€‚</p><p id="e0d0" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">æ–‡ä»¶å¤¹ç»“æ„:</strong></p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nf"><img src="../Images/6df3d5ad1374eefad3445a823ecf20b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jiO5Idm_1d4WbGpWCMHLRA.png"/></div></div></figure><p id="a79d" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ä¸€æ—¦é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼Œæ‚¨å°†çœ‹åˆ°<code class="fe ng nh ni mv b">settings.gradle.kts</code>å’Œ<code class="fe ng nh ni mv b">build.gradle.kts </code>æ–‡ä»¶ã€‚</p><h2 id="fc16" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">ç¬¬äºŒæ­¥:åˆ›å»ºAppæˆ–CLIé¡¹ç›®ï¼Œæ·»åŠ Javaæ’ä»¶</strong></h2><p id="69fa" class="pw-post-body-paragraph kf kg ji kh b ki ly kk kl km lz ko kp kq mn ks kt ku mo kw kx ky mp la lb lc im bi translated">åœ¨åˆ›å»ºä»»ä½•æ–°é¡¹ç›®ä¹‹å‰ï¼Œæ·»åŠ ä¾èµ–é¡¹çš„å­˜å‚¨åº“ã€‚å®ƒå¯ä»¥ä¸å…¶ä»–æ¨¡å—å•ç‹¬å®Œæˆã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="cc54" class="ld le ji mv b gy mz na l nb nc">// build.gradle.kts<br/>allprojects <strong class="mv jj">{<br/>    </strong><em class="nj">repositories </em><strong class="mv jj">{<br/>        </strong>jcenter() <br/>    <strong class="mv jj">}<br/>}</strong></span></pre><p id="ef94" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ç°åœ¨åˆ›å»ºä¸€ä¸ªæ¨¡å—ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="79d3" class="ld le ji mv b gy mz na l nb nc">mkdir cli-app &amp;&amp; cd cli-app<br/>gradle init</span></pre><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nk"><img src="../Images/e71f0f3b23895caf057edd847eb1c27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WCOsSEAKxCeoWtQxVOG_mw.png"/></div></div></figure><p id="f9b1" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¿™é‡Œé€‰æ‹©å¦‚ä¸‹æ‰€è¿°</p><ol class=""><li id="57bb" class="lw lx ji kh b ki kj km kn kq nl ku nm ky nn lc md me mf mg bi translated">é¡¹ç›®ç±»å‹ç”³è¯·[é€‰é¡¹2]</li><li id="68f1" class="lw lx ji kh b ki mh km mi kq mj ku mk ky ml lc md me mf mg bi translated">è¯­è¨€ä¸ºç§‘ç‰¹æ—è¯­[é€‰é¡¹4]</li><li id="7dc4" class="lw lx ji kh b ki mh km mi kq mj ku mk ky ml lc md me mf mg bi translated">DSL[é€‰é¡¹2]</li><li id="ddbd" class="lw lx ji kh b ki mh km mi kq mj ku mk ky ml lc md me mf mg bi translated">ä¼‘æ¯é»˜è®¤[æŒ‰å›è½¦é”®]</li></ol><p id="8512" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ä¸€æ—¦åˆå§‹åŒ–å®Œæˆ:ä½ å°†çœ‹åˆ°å¸¦æœ‰cli-appçš„ç›®å½•ã€‚</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div class="gh gi no"><img src="../Images/afc429103f948169b1a122de73558fcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*yLqcojw_-XYyYQ4jrs3DbA.png"/></div></figure><h1 id="5aaf" class="np le ji bd lf nq nr ns li nt nu nv ll nw nx ny lo nz oa ob lr oc od oe lu of bi translated">éœ€è¦æ³¨æ„çš„äº‹é¡¹:</h1><p id="4d31" class="pw-post-body-paragraph kf kg ji kh b ki ly kk kl km lz ko kp kq mn ks kt ku mo kw kx ky mp la lb lc im bi translated">åœ¨<code class="fe ng nh ni mv b">cli-app/build.gradle.kts</code>é‡Œé¢ï¼Œä½ ä¼šçœ‹åˆ°<code class="fe ng nh ni mv b">kotlin.jvm</code>è¿™ä¸ªæ’ä»¶ã€‚å¯ä»¥å°†æ’ä»¶å‡çº§åˆ°æœ€æ–°çš„ã€‚<code class="fe ng nh ni mv b"> <strong class="kh jj">(While the time writing, kotlin.jvm was 1.3.70)</strong></code></p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="19cb" class="ld le ji mv b gy mz na l nb nc">plugins <strong class="mv jj">{<br/>    </strong>id("org.jetbrains.kotlin.jvm").version("1.3.70")<br/>    <em class="nj">application<br/></em><strong class="mv jj">}</strong></span></pre><p id="2c07" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯:<code class="fe ng nh ni mv b"><em class="nj">mainClassName</em></code> <em class="nj">åœ¨åº”ç”¨é…ç½®ä¸­ã€‚å¦‚æœæ‚¨çš„ç±»åä¸åŒï¼Œæ‚¨å¯ä»¥æ›´æ–°ç¡®åˆ‡çš„ç±»åã€‚</em></p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="3572" class="ld le ji mv b gy mz na l nb nc"><em class="nj">application </em><strong class="mv jj">{<br/>    </strong>// Define the main class for the application<br/>    <em class="nj">mainClassName </em>= "cli.app.AppKt"<br/><strong class="mv jj">}</strong></span></pre><p id="409f" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ³¨æ„:ä½ ä»ç„¶ä¸èƒ½è¿è¡Œè¿™ä¸ªé¡¹ç›®ã€‚</p><h2 id="1b73" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">ç¬¬ä¸‰æ­¥:å°†å­æ¨¡å—é…ç½®åˆ°ä¸»é¡¹ç›®</strong></h2><p id="0550" class="pw-post-body-paragraph kf kg ji kh b ki ly kk kl km lz ko kp kq mn ks kt ku mo kw kx ky mp la lb lc im bi translated">ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å‘½ä»¤è¡Œï¼ŒGradleåœ¨é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šåŒ…å«å­æ¨¡å—ã€‚æˆ‘ä»¬å¿…é¡»åœ¨æ ¹é¡¹ç›®çš„<strong class="kh jj"><em class="nj">settings . gradle . kts</em></strong>ä¸­æ‰‹åŠ¨æ·»åŠ ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="a681" class="ld le ji mv b gy mz na l nb nc"># kotlin-demos/settings.gradle.kts</span><span id="d3c7" class="ld le ji mv b gy og na l nb nc">include("cli-app")</span></pre><p id="18ea" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">éªŒè¯ä¸€åˆ‡å·¥ä½œï¼Œå¹¶æµ‹è¯•è¿è¡Œåº”ç”¨ç¨‹åºã€‚</p><p id="0a46" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">è¿è¡Œ:</strong> <code class="fe ng nh ni mv b">gradle cli-app:clean cli-app:run</code></p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="5beb" class="ld le ji mv b gy mz na l nb nc"><strong class="mv jj"># output::</strong><br/>&gt; Task :cli-app:run<br/><strong class="mv jj">Hello world.</strong></span></pre><p id="55bd" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è®¾ç½®æ›´æ”¹å®Œæˆåï¼Œæ‚¨å¯ä»¥æ‰§è¡Œè¿è¡Œå‘½ä»¤å¹¶åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹<code class="fe ng nh ni mv b">Hello World </code>ã€‚</p><h2 id="6661" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">æ­¥éª¤4:ä½œä¸ºç‹¬ç«‹CLIå·¥å…·è¿è¡Œ</strong></h2><p id="8149" class="pw-post-body-paragraph kf kg ji kh b ki ly kk kl km lz ko kp kq mn ks kt ku mo kw kx ky mp la lb lc im bi translated">ä½ å¯ä»¥çœ‹åˆ°è¾“å‡º<em class="nj"> Hello Worldï¼Œ</em>ç„¶è€Œï¼Œå¦‚æœæ²¡æœ‰Gradleï¼Œè¿™ä¸ªé¡¹ç›®å°†æ— æ³•ç‹¬ç«‹è¿è¡Œã€‚Gradle Javaæ’ä»¶æä¾›äº†ä»æºä»£ç ç”Ÿæˆ<code class="fe ng nh ni mv b">.jar</code>çš„å‘½ä»¤ã€‚</p><p id="54bc" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">å‘½ä»¤:</strong>T3ã€‘</p><p id="b35f" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">è·‘:</strong> <code class="fe ng nh ni mv b">java -jar cli-app/build/libs/cli-app.jar</code></p><p id="2bb7" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">è¯´æ˜:</strong>ä¸€æ—¦è¿è¡Œ<strong class="kh jj"> cli-app:jar </strong>å‘½ä»¤ï¼Œå°±å¯ä»¥åœ¨<code class="fe ng nh ni mv b">cli-app/build/libs</code>çœ‹åˆ°<strong class="kh jj"> cli-app.jar </strong>ã€‚å½“æ‚¨è¯•å›¾è¿è¡Œjaræ–‡ä»¶æ—¶ã€‚æ‚¨å°†å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚</p><blockquote class="oh oi oj"><p id="742c" class="kf kg nj kh b ki kj kk kl km kn ko kp ok kr ks kt ol kv kw kx om kz la lb lc im bi translated"><code class="fe ng nh ni mv b">no main manifest attribute, in cli-app/build/libs/cli-app.jar</code></p></blockquote><p id="f356" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ­¤é”™è¯¯æ˜¯ç”±äºjaræ–‡ä»¶ä¸­ç¼ºå°‘æ¸…å•æ–‡ä»¶é€ æˆçš„ã€‚æ¸…å•æ–‡ä»¶æ˜¯æŒ‡ç¤ºjava jarå…¥å£ç‚¹çš„æ–‡ä»¶ã€‚å®ƒè¿˜æœ‰ä¸€äº›jarçš„å…¶ä»–å…ƒæ•°æ®ï¼Œæ¯”å¦‚åŒ…åæ˜¯ä»€ä¹ˆã€‚å®ƒè¿˜åŒ…å«å…¶ä»–åº“çš„å…¶ä»–ç±»è·¯å¾„çš„æ¡ç›®ã€‚</p><h2 id="caa3" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">ç¬¬äº”æ­¥:æ·»åŠ </strong>æ„å»ºjarä»»åŠ¡ï¼Œåˆ›å»ºå¯æ‰§è¡Œçš„Jar</h2><p id="c6fd" class="pw-post-body-paragraph kf kg ji kh b ki ly kk kl km lz ko kp kq mn ks kt ku mo kw kx ky mp la lb lc im bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼ŒGradle Java plugin jarå‘½ä»¤ä¸çŸ¥é“jaræ–‡ä»¶çš„<strong class="kh jj">ä¸»ç±»ã€å…¥å£ç±»ã€‘</strong>ã€‚å¯¹äºå¯æ‰§è¡Œçš„jarï¼Œæ‚¨éœ€è¦å®šä¹‰ä¸»ç±»ã€‚ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹<strong class="kh jj"> build.gradle.kts </strong>æ¥é…ç½®å®ƒ</p><p id="0ac0" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä¸ºäº†ç®€åŒ–è€Œä¿®æ”¹<strong class="kh jj"> App.kt </strong></p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="47e3" class="ld le ji mv b gy mz na l nb nc">// cli-app/src/main/kotlin/cli/app/App.kt</span><span id="1d80" class="ld le ji mv b gy og na l nb nc"><strong class="mv jj">object App {<br/>    const val appName = "DBS CLI App"<br/>    const val version = "0.0.1"<br/>}</strong><br/>fun main(args: Array&lt;String&gt;) {<br/>    <em class="nj">println</em>(<strong class="mv jj">"${App.appName}:: ${App.version}"</strong>)<br/>}</span></pre><p id="8adb" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">å› ä¸ºæˆ‘ä»¬å·²ç»æ›´æ–°äº†åº”ç”¨ç¨‹åºä»£ç ã€‚æˆ‘ä»¬éœ€è¦ä¸ºå®ƒæ›´æ–°æµ‹è¯•ç”¨ä¾‹ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="ed95" class="ld le ji mv b gy mz na l nb nc">// cli-app/src/main/kotlin/cli/app/App.kt</span><span id="f9a2" class="ld le ji mv b gy og na l nb nc">class AppTest {<br/>    @Test fun testAppHasAGreeting() {<br/>        <strong class="mv jj"><em class="nj">assertNotNull</em>(App.appName, "DBS CLI App")<br/>        <em class="nj">assertNotNull</em>(App.version, "0.0.1")</strong><br/>    }<br/>}</span></pre><p id="62d2" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ç°åœ¨æ›´æ–°<strong class="kh jj"> build.gradle.kts </strong></p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="b178" class="ld le ji mv b gy mz na l nb nc">// cli-app/build.gradle.kts</span><span id="569c" class="ld le ji mv b gy og na l nb nc">val jar by <em class="nj">tasks</em>.<em class="nj">getting</em>(Jar::class) <strong class="mv jj">{<br/>    </strong>manifest <strong class="mv jj">{<br/>        </strong><em class="nj">attributes</em>["Main-Class"] = "ktor.demo.AppKt"<br/>    <strong class="mv jj">}<br/>    </strong>from(<em class="nj">configurations</em>.<em class="nj">runtimeClasspath</em>.get().<em class="nj">map </em><strong class="mv jj">{ </strong>if (<strong class="mv jj">it</strong>.<em class="nj">isDirectory</em>) <strong class="mv jj">it </strong>else zipTree(<strong class="mv jj">it</strong>) <strong class="mv jj">}</strong>) <strong class="mv jj">{<br/>        </strong>exclude("META-INF/*.RSA", "META-INF/*.SF", "META-INF/*.DSA")<br/>    <strong class="mv jj">}<br/>}</strong></span></pre><p id="c6de" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">æ„å»ºJar: </strong> <code class="fe ng nh ni mv b">gradle clean cli-app:jar</code></p><p id="35e9" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">è¿è¡Œ:</strong> <code class="fe ng nh ni mv b">java -jar cli-app/build/libs/cli-app.jar</code></p><p id="cd92" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨<strong class="kh jj"> java -jar </strong>å‘½ä»¤è¿è¡ŒCLI</p><p id="da4e" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">è¾“å‡º:</strong> <code class="fe ng nh ni mv b">DBS CLI App:: 0.0.1</code></p><h2 id="2fd4" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">Tadaï¼ï¼æ‚¨çš„CLIæ— éœ€ä»»ä½•å¤–éƒ¨å·¥å…·å³å¯è¿è¡Œã€‚</h2></div><div class="ab cl on oo hx op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="im in io ip iq"><p id="9d7a" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ç°åœ¨ï¼Œæ‚¨çš„åˆå§‹CLIå·¥å…·æ­£åœ¨å·¥ä½œã€‚è®©æˆ‘ä»¬æ·»åŠ Kotlinæ ¸å¿ƒåº“æ¥æ¥å—ç”¨æˆ·çš„è¾“å…¥ã€‚</p><h2 id="593e" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">ç¬¬6æ­¥:ä½¿ç”¨<a class="ae mm" href="https://github.com/Kotlin/kotlinx.cli" rel="noopener ugc nofollow" target="_blank"> kotlinx-cli </a>æ·»åŠ æ”¯æŒç”¨æˆ·è¾“å…¥</h2><p id="a623" class="pw-post-body-paragraph kf kg ji kh b ki ly kk kl km lz ko kp kq mn ks kt ku mo kw kx ky mp la lb lc im bi translated">æ˜¯ä¸€ä¸ªå¸®åŠ©è§£æç”¨æˆ·è¾“å…¥å¹¶ä»¥ä¼˜é›…çš„æ–¹å¼æ·»åŠ éªŒè¯çš„åº“ã€‚<code class="fe ng nh ni mv b">kotlinx-cli</code>æœ€è¿‘å‘å¸ƒäº†ç¨³å®šç‰ˆã€‚å¼€å‘ä»åœ¨è¿›è¡Œä¸­ï¼Œç„¶è€Œå¥½åˆ°è¶³ä»¥ä½¿ç”¨å®ƒã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="4de4" class="ld le ji mv b gy mz na l nb nc">// cli-app/build.gradle.kts</span><span id="55b2" class="ld le ji mv b gy og na l nb nc"><em class="nj">repositories </em><strong class="mv jj">{<br/>    </strong>jcenter()<br/>    <strong class="mv jj"><em class="nj">maven</em>("https://dl.bintray.com/kotlin/kotlinx/")</strong><br/><strong class="mv jj">}<br/><br/></strong><em class="nj">dependencies </em><strong class="mv jj">{<br/>    </strong>// Use the Kotlin JDK 8 standard library.<br/>    <em class="nj">implementation</em>("org.jetbrains.kotlin:kotlin-stdlib-jdk8")<br/>    <strong class="mv jj"><em class="nj">compile</em>("org.jetbrains.kotlinx", "kotlinx-cli", "0.2")</strong></span><span id="4eeb" class="ld le ji mv b gy og na l nb nc">... rest<br/>}</span></pre><p id="6551" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">æ‰“é€ :</strong>T2ã€‘</p><p id="7f54" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ›´æ–°åº”ç”¨ç¨‹åºä»¥æ¥å—ç”¨æˆ·è¾“å…¥å¹¶æ·»åŠ <code class="fe ng nh ni mv b">--help</code>å‘½ä»¤ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="85e1" class="ld le ji mv b gy mz na l nb nc">import kotlinx.cli.*<br/>fun main(args: Array&lt;String&gt;) {<br/>    <strong class="mv jj">val parser = ArgParser("${App.appName}:: ${App.version}")<br/>    val version by parser.option(ArgType.Boolean, shortName = "V", description = "Version").default(false)<br/><br/>    // Add all input to parser<br/>    parser.parse(args)<br/><br/>    if(version) <em class="nj">println</em>(App.version)</strong><br/>}<br/>object App {<br/>    const val appName = "DBS CLI App"<br/>    const val version = "0.0.1"<br/>}</span></pre><p id="00ba" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">æ³¨æ„:</strong> <code class="fe ng nh ni mv b">Kotlinx-cli</code>é»˜è®¤æ·»åŠ å¸®åŠ©å‘½ä»¤ã€‚è¦æŸ¥çœ‹æ‰€æœ‰APIï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹<code class="fe ng nh ni mv b"><a class="ae mm" href="https://github.com/Kotlin/kotlinx.cli" rel="noopener ugc nofollow" target="_blank">kotlinx.cli</a></code></p><h2 id="e5f4" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">æ„å»ºå¹¶è¿è¡Œ:</strong></h2><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ca"><img src="../Images/90f983a68189c901002255bfc780c3c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wI14byHZxt6B55OSwTvzoA.png"/></div></div></figure><p id="be46" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ˜¯å•Šï¼ï¼ä½ åšåˆ°äº†ã€‚ç°åœ¨æ‚¨æœ‰äº†ä¸€ä¸ªå·¥ä½œçš„å¯æ‰§è¡Œjarã€‚æˆ‘ä»¬å¯ä»¥æ¸…ç†æˆ‘ä»¬çš„CLIå·¥å…·ã€‚å› ä¸ºç”¨æˆ·å¾ˆéš¾è®°ä½æ‰€æœ‰è¿™äº›javaå‘½ä»¤ã€‚è®©æˆ‘ä»¬åˆ¶ä½œä¸€ä¸ªå¯æ‰§è¡Œçš„bashæ–‡ä»¶ã€‚</p><h2 id="6473" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">æ­¥éª¤7:ä¸ºåˆ†å‘æ–‡ä»¶åˆ›å»ºBash</strong></h2><p id="884a" class="pw-post-body-paragraph kf kg ji kh b ki ly kk kl km lz ko kp kq mn ks kt ku mo kw kx ky mp la lb lc im bi translated">åˆ›å»ºä¸€ä¸ªbashæ–‡ä»¶<code class="fe ng nh ni mv b">scripts/dbs-cli</code>å¹¶èµ‹äºˆæ‰§è¡Œæƒé™ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="8b51" class="ld le ji mv b gy mz na l nb nc">mkdir scripts &amp;&amp; touch scripts/dbs-cli &amp;&amp; chmod +x scripts/dbs-cli</span><span id="e40d" class="ld le ji mv b gy og na l nb nc">// scripts/dbs-cli<br/>## Add command in scripts/dbs-cli</span><span id="2a38" class="ld le ji mv b gy og na l nb nc">#/usr/bin<br/>java -jar lib/cli-app.jar $@</span></pre><p id="c21d" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨æ ¹ç›®å½•<code class="fe ng nh ni mv b">build.gradle.kts</code>ä¸­åˆ›å»ºä¸€ä¸ªåŒ…(zip)ä»»åŠ¡ã€‚è¿™å°†æŠŠæ‰€æœ‰éœ€è¦çš„æ–‡ä»¶ç§»åŠ¨åˆ°<code class="fe ng nh ni mv b">dist</code>æ–‡ä»¶å¤¹ã€‚</p><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="7fd2" class="ld le ji mv b gy mz na l nb nc">// kotlin-demos/build.gradle.kts</span><span id="4030" class="ld le ji mv b gy og na l nb nc">subprojects <strong class="mv jj">{<br/>    </strong><em class="nj">tasks</em>.<em class="nj">register</em>&lt;Copy&gt;("packageDistribution") <strong class="mv jj">{<br/>        </strong>dependsOn("jar")<br/>        from("${<em class="nj">project</em>.<em class="nj">rootDir</em>}/scripts/dbs-cli")<br/>        from("${<em class="nj">project</em>.<em class="nj">projectDir</em>}/build/libs/${<em class="nj">project</em>.<em class="nj">name</em>}.jar") <strong class="mv jj">{<br/>            </strong>into("lib")<br/>        <strong class="mv jj">}<br/>        </strong>into("${<em class="nj">project</em>.<em class="nj">rootDir</em>}/dist")<br/>    <strong class="mv jj">}<br/>}</strong></span></pre><p id="0cc6" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿è¡Œå®šåˆ¶çš„Gradleä»»åŠ¡æ¥æ„å»ºjarå¹¶è½¬ç§»åˆ°distã€‚</p><p id="30cd" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">æ„å»º:</strong>T9ã€‘</p><p id="fb03" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">è¿è¡Œ:</strong>T10ã€‘</p><p id="af7f" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¿è¡Œä¸Šè¿°å‘½ä»¤åï¼Œæ‚¨å¯ä»¥çœ‹åˆ°CLIå·¥å…·å¸®åŠ©èœå•ã€‚</p><figure class="mq mr ms mt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/fbadddddafdbeed9e5b9fbd2704e8a0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qWClyl0h1moUodQjspuJ9w.png"/></div></div></figure><p id="3009" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">æ„Ÿè°¢æ”¯æŒï¼ï¼å¹²æ¯ï¼ï¼</strong>ğŸ™ğŸ‘ğŸ»ğŸ¥‚</p><p id="7a99" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ‰€æœ‰çš„æºä»£ç éƒ½å¯ä»¥åœ¨æˆ‘çš„GitHubä¸Šæ‰¾åˆ°</p><div class="is it gp gr iu ov"><a href="https://github.com/deepakshrma/kotlin-demos" rel="noopener  ugc nofollow" target="_blank"><div class="ow ab fo"><div class="ox ab oy cl cj oz"><h2 class="bd jj gy z fp pa fr fs pb fu fw jh bi translated">deepakshrma/kotlin-demos</h2><div class="pc l"><h3 class="bd b gy z fp pa fr fs pb fu fw dk translated">åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼Œä¸ºdeepakshrma/kotlin-demosçš„å¼€å‘åšå‡ºè´¡çŒ®ã€‚</h3></div><div class="pd l"><p class="bd b dl z fp pa fr fs pb fu fw dk translated">github.com</p></div></div><div class="pe l"><div class="pf l pg ph pi pe pj ja ov"/></div></div></a></div></div></div>    
</body>
</html>