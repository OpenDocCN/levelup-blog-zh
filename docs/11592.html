<html>
<head>
<title>Get Ahead By Monitoring Your Data Quality With This Free Package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用这个免费的软件包监控您的数据质量，取得成功</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/get-ahead-by-monitoring-your-data-quality-with-this-free-package-2553bdc26f77?source=collection_archive---------7-----------------------#2022-03-29">https://levelup.gitconnected.com/get-ahead-by-monitoring-your-data-quality-with-this-free-package-2553bdc26f77?source=collection_archive---------7-----------------------#2022-03-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="d9cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过实施re_data作为数据质量管理的一部分来防止数据和质量损失。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/2f238cca9b8dae6c66c79f3d515c3f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AQ5rnxwriaAw1MeA"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae le" href="https://unsplash.com/@austindistel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Austin Distel </a>拍摄的照片</figcaption></figure><p id="4e9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为一名数据工程师，我负责数据质量管理，并在数据质量问题发生之前，至少在它们发生时，理想地捕捉它们。</p><p id="9e65" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数据构建工具(dbt)允许我查看数据库中正在发生的事情。但是，如果我可以立即得到关于数据库异常的警报，那会怎么样呢？这就是re_data发挥作用的地方。</p><p id="dfb5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">将dbt与re_data结合起来，可以为您提供一个监控解决方案，帮助您识别问题、修复问题，并为将来划定界限。</p><p id="5abc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我首先讨论数据质量管理，为什么持续监控是必要的，最后，实现re_data。</p><p id="9324" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="lf">不知道dbt是什么？了解更多</em> <a class="ae le" href="https://pub.towardsai.net/one-tool-to-rule-them-all-2083371c1618" rel="noopener ugc nofollow" target="_blank"> <em class="lf">这里</em> </a> <em class="lf">。</em></p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="4eb9" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated"><strong class="ak">目录</strong></h1><ol class=""><li id="b67c" class="ml mm it js b jt mn jx mo kb mp kf mq kj mr kn ms mt mu mv bi translated"><a class="ae le" href="#d8da" rel="noopener ugc nofollow">什么是数据质量管理？</a></li><li id="e06b" class="ml mm it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><a class="ae le" href="#c7cf" rel="noopener ugc nofollow">为什么持续监控数据质量很重要？</a></li><li id="a3fc" class="ml mm it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><a class="ae le" href="#cb85" rel="noopener ugc nofollow">re _ data简介</a></li><li id="9a71" class="ml mm it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated"><a class="ae le" href="#1234" rel="noopener ugc nofollow">用dbt实现re _ data</a></li><li id="aa0a" class="ml mm it js b jt mw jx mx kb my kf mz kj na kn ms mt mu mv bi translated">我如何确保我的数据是准确的？</li></ol></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="a857" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">什么是数据质量管理？</h1><p id="61e0" class="pw-post-body-paragraph jq jr it js b jt mn jv jw jx mo jz ka kb nb kd ke kf nc kh ki kj nd kl km kn im bi translated">数据质量是指数据没有错误和有效使用的程度。一个组织的数据质量可以描述为其获取和使用支持其信息需求的准确可靠数据的有效性的指标。</p><p id="fa3b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有两种方法可以实现数据质量管理。另一方面，反应式方法更侧重于在事件发生后发现，而不是在事件发生前发现。它还倾向于更多地关注解决眼前问题，而不是长期问题。</p><p id="cf3e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同时，主动方法将数据质量视为一个持续的过程，而不仅仅是一个孤立的事件。它包括对整个数据管道的持续监控，从源头到使用的终点。这种积极主动的方法对于数据对其业务或生存至关重要的组织(如医院、金融机构、情报机构和零售商)至关重要。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="8b6e" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">为什么持续监控数据质量很重要</h1><p id="8c63" class="pw-post-body-paragraph jq jr it js b jt mn jv jw jx mo jz ka kb nb kd ke kf nc kh ki kj nd kl km kn im bi translated">数据质量对公司的成功至关重要。如今，数据质量管理比以往任何时候都更加重要，因为我们生活在一个大数据时代，数据生成的数量和速度都是前所未有的。数据质量管理有助于我们识别数据集中的错误，修复差异并确保准确性。检测坏数据，然后对其做出响应，有助于降低或消除下游业务风险。</p><p id="6317" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">成功的数据管理策略有四个组成部分:监控、建模、测量和改进。监控是通过查找数据集中的异常来检测现有数据问题的过程，这些异常可能表明数据的收集或存储方式存在错误或问题。建模包括检测这些异常，诊断它们为什么会出现，然后做出改变，使它们不再发生。度量包括跟踪这些变化对数据的影响，改进是一个持续的、迭代的过程。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="1719" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">re_data简介</h1><p id="316f" class="pw-post-body-paragraph jq jr it js b jt mn jv jw jx mo jz ka kb nb kd ke kf nc kh ki kj nd kl km kn im bi translated">dbt已经提供了一个文档UI，但是这个要好得多。让我们来看看所涉及的不同部分。</p><ol class=""><li id="7d0e" class="ml mm it js b jt ju jx jy kb ne kf nf kj ng kn ms mt mu mv bi translated">re_data概览用户界面</li></ol><p id="b38f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这与dbt已经提供的非常相似，但是更多。</p><p id="ce26" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们看看dbt文档提供了什么。注意，我说的不是dbt云UI。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nh"><img src="../Images/4e4f06eebd535f3b9ed87d81948e5816.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YtEe4FxzZJrfbTqKTz2sAw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">我拍摄的<a class="ae le" href="https://www.getdbt.com/example-documentation/#!/model/model.snowplow.snowplow_page_views" rel="noopener ugc nofollow" target="_blank">示例</a>的截图</figcaption></figure><p id="4817" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在UI中，显示了四个关键特性。首先是细节，说明谁拥有，什么类型，包，关系等。然后，我们还有一个选项来查看SQL代码，我们也可以对其进行调整。最后，有一个按钮将显示关系。</p><p id="b4e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">尽管dbt提供的东西令人惊叹，但re_data的ui中还有更多。</p><p id="77fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里有一个由re_data提供的UI <a class="ae le" href="https://docs.getre.io/ui-latest" rel="noopener ugc nofollow" target="_blank">示例</a>。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ni"><img src="../Images/a1020fdfa366188050127b45bd13042a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3iMbNpOrtRu6l3i4h8lAEg.gif"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">UI示例的屏幕截图。由作者创建。</figcaption></figure><p id="de0c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">re_data添加了异常、表度量和列度量，这些可以在Lineage选项卡上看到。</p><p id="83bd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">指标</strong></p><p id="dd90" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于每个被主动监控的表，都计算了某些基本指标。有一组基本表级别，如row_count、freshness、schema_changes，以及可以包括的基本列级别度量，如min、max、average、variance、nulls_percent等。这些指标的完整列表位于<a class="ae le" href="https://docs.getre.io/latest/docs/reference/metrics/base_metrics#base-table-level-metrics" rel="noopener ugc nofollow" target="_blank">基表级指标</a>和<a class="ae le" href="https://docs.getre.io/latest/docs/reference/metrics/base_metrics#base-column-level-metrics" rel="noopener ugc nofollow" target="_blank">基列级指标</a>中。</p><p id="b7e0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">找不到您想要查看的指标？别担心。Re_data使您能够通过将指标添加到dbt项目中的macros文件夹来创建自己的指标。唯一的警告是，您必须按照以下模式命名它们:<code class="fe nj nk nl nm b">re_data_metric_(your_name)</code></p><p id="78be" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">异常检测</strong></p><p id="8720" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">re_data支持对监控数据进行异常检测。通过使用Z分数可以很容易地识别数据是否异常。z得分衡量给定观察值与平均值之间的标准偏差。</p><p id="6d76" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">类似地，re_data使用箱线图，因此我们可以用许多不同的方式来表征变化。使用箱线图，我们可以通过数字数据的四分位数来识别它们的局部性、分布性和偏斜度组。通过计算上限和下限，我们可以识别异常值。</p><p id="b141" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">2.re_data通知</p><p id="0a8e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">re_data notify命令用于发送通知，每当附加到re_data_alerts的行被触发时，就会触发该命令。这可能是最好的部分，它会将这些通知发送到slack，这意味着您将实时知道您的数据是什么，您的数据看起来是什么样的。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="9490" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">用dbt实现re_data</h1><p id="28ae" class="pw-post-body-paragraph jq jr it js b jt mn jv jw jx mo jz ka kb nb kd ke kf nc kh ki kj nd kl km kn im bi translated">将包添加到dbt文件夹中的packages.yml中</p><pre class="kp kq kr ks gt nn nm no np aw nq bi"><span id="7152" class="nr lo it nm b gy ns nt l nu nv">#packages.yml<br/>packages:<br/>    ***<br/>    <br/>    - package: re-data/re_data<br/>      version: ["&gt;=0.7.0", "&lt;0.8.0"]</span></pre><p id="d680" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，在环境中安装新的库。</p><pre class="kp kq kr ks gt nn nm no np aw nq bi"><span id="7735" class="nr lo it nm b gy ns nt l nu nv">dbt deps</span></pre><p id="a0b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，通过向每个模型的sql文件添加一个config来配置您想要在UI中检查的表，至少是您想要监视的那些表。</p><pre class="kp kq kr ks gt nn nm no np aw nq bi"><span id="8be1" class="nr lo it nm b gy ns nt l nu nv">{{<br/>    config(<br/>      re_data_monitored=true,<br/>      re_data_time_filter='timestamp',<br/>    )<br/>}}<br/>select ...</span></pre><p id="210e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您还没有dbt项目，请确保运行:</p><pre class="kp kq kr ks gt nn nm no np aw nq bi"><span id="6939" class="nr lo it nm b gy ns nt l nu nv">re_data init &lt;your_project_name&gt;</span></pre><p id="6960" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将启动一个包含必要文件的dbt项目。</p><p id="e933" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">否则，您可以通过运行以下命令来开始计算</p><pre class="kp kq kr ks gt nn nm no np aw nq bi"><span id="7ce9" class="nr lo it nm b gy ns nt l nu nv">re_data run --start-date &lt;your_date&gt; --end-date &lt;your date&gt; --interval &lt;the interval at which calculations are run&gt;</span></pre><p id="0ace" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意，该命令只进行创建或重新填充数据的计算。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="207b" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">我如何确保我的数据是准确的？</h1><p id="8fbb" class="pw-post-body-paragraph jq jr it js b jt mn jv jw jx mo jz ka kb nb kd ke kf nc kh ki kj nd kl km kn im bi translated">如果你想要最新的数据，你必须重新运行计算。您可以利用dbt云并在那里运行作业，或者使用另一个工具，如Prefect或Airflow。</p><p id="f4b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我在日常工作中使用Prefect，所以对我来说，添加类似</p><pre class="kp kq kr ks gt nn nm no np aw nq bi"><span id="99a7" class="nr lo it nm b gy ns nt l nu nv">dbt_task(command=’dbt run -m re_data’, task_args={“name”: “re_data monitoring”})</span></pre><p id="c729" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是一件非常容易的事情。您将把它添加到您为Prefect创建的其他dbt任务文件中。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="72f4" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated"><strong class="ak">结论</strong></h1><p id="cf9c" class="pw-post-body-paragraph jq jr it js b jt mn jv jw jx mo jz ka kb nb kd ke kf nc kh ki kj nd kl km kn im bi translated">re_data和dbt为数据工程师提供了对他们领域的洞察力(字面上和象征性的)，这种实现成为了主动数据质量管理的关键部分。</p></div></div>    
</body>
</html>