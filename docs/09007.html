<html>
<head>
<title>Creating a Thruster Effect for the Player in Unity2D</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity2D中为玩家创建一个推进器效果</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-a-thruster-effect-for-the-player-e9ba034cb4bb?source=collection_archive---------19-----------------------#2021-06-27">https://levelup.gitconnected.com/creating-a-thruster-effect-for-the-player-e9ba034cb4bb?source=collection_archive---------19-----------------------#2021-06-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a16b1bf0bf9290dfa9e65f77bc15a442.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ifUO3hZFz0nj4-K_6yDFgg.gif"/></div></div></figure><div class=""/><p id="6873" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这篇文章是关于让我的玩家能够在按住shift键的时候让<strong class="kd jf">加速</strong>，在松开shift键的时候让<strong class="kd jf">减速</strong>。我目前只有三个<strong class="kd jf">变量</strong>用于我的玩家的<strong class="kd jf">速度</strong>，这对于我想做的所有事情来说是不够的。我已经有了一个<strong class="kd jf">加电</strong>来改变<strong class="kd jf">玩家</strong>的<strong class="kd jf">速度</strong>，而它的<strong class="kd jf">活动</strong>持续五秒钟，我不想用我的新推进器实现来覆盖这个能力。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi kz"><img src="../Images/69759811fa329cf1d5ef3d54aba6e0e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oY9vaJ4PU_4WHZvE5VcRAg.png"/></div></div></figure><p id="4d83" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，我对我的<strong class="kd jf">变量</strong>做了一次彻底的修改，在我的<strong class="kd jf">玩家等级</strong>的顶端<strong class="kd jf">速度</strong>。<br/>我将原来的<strong class="kd jf">速度</strong>变量的名称改为<strong class="kd jf">当前速度</strong>，我立即得到一些如下所示的<strong class="kd jf">错误</strong>，告诉我所有的<strong class="kd jf">位置</strong>，我需要<strong class="kd jf">将旧的<strong class="kd jf">速度</strong>变量名称改为<strong class="kd jf">当前速度</strong>。这个新名字给了变量保存的<strong class="kd jf">值</strong>更贴切的<strong class="kd jf">描述</strong>。我的<strong class="kd jf">默认速度</strong>变量保持不变，当<strong class="kd jf">加电</strong>被收集时，我的<strong class="kd jf">翻板加速</strong>变量也保持不变。我为最小<strong class="kd jf">和最大<strong class="kd jf">速度</strong>添加了两个变量，同时为<strong class="kd jf">加速</strong>和<strong class="kd jf">减速</strong>因子添加了两个变量。我<strong class="kd jf">序列化</strong>所有的<strong class="kd jf">字段</strong>，因为我想要在<strong class="kd jf">检查器</strong>中的某个点调整或监控它们。好了，我准备走了！</strong></strong></p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi le"><img src="../Images/d3aa9d5e0f94bd40db5b9610cfaefc87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m0zY10wqb4qag0e3XhrhFA.png"/></div></div></figure><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lf"><img src="../Images/de1ebb651763ce2760976445119d522a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hOboR5_mh3Oa3oVCa0JxqA.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk translated">我需要将旧速度变量名改为当前速度变量名的错误位置</figcaption></figure><p id="db96" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我的<strong class="kd jf"> currentSpeed </strong>变量将在整个过程中被重新分配<strong class="kd jf">的值</strong>，但是当游戏开始时，我希望玩家默认以<strong class="kd jf">最小速度</strong>移动，所以我将<strong class="kd jf"> currentSpeed </strong>赋值为与<strong class="kd jf"> void Start </strong>中的<strong class="kd jf"> minSpeed </strong>相同。我还将<strong class="kd jf">默认速度</strong>变量分配给<strong class="kd jf">最小值</strong>，因为稍后我将更改<strong class="kd jf">最小速度</strong>变量，并且需要另一个变量<strong class="kd jf">将</strong>最小速度变量<strong class="kd jf">重置回其默认速度<strong class="kd jf"/>。稍后会有更多内容。</strong></p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lk"><img src="../Images/b4c54dc0b46eb2b4725411b5f3fc16af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K5OkMJfHzKMQ5aOkqhIZXA.png"/></div></div></figure><p id="d0bb" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这个新的推进器特性将会从我的<strong class="kd jf">玩家移动</strong>方法中得到<strong class="kd jf">称为</strong>，这个方法在<strong class="kd jf">无效更新</strong>中不断被触发。这将为用户输入提供非常<strong class="kd jf">响应的</strong>推进器。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/d1f972190a5f48649003a8034e598698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*4uCGOsPgjJxijBLX9TZuQA.png"/></div></figure><p id="c6d7" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我为我的推进器特性创建了一个新的<strong class="kd jf">方法</strong>，并输入一些<strong class="kd jf">伪代码</strong>来得到我需要做的事情的蓝图。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lm"><img src="../Images/6f5f23dd3908212ba7691374f66237ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQAti466QOibWaVQCvE2DQ.png"/></div></div></figure><p id="f1d9" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">即使我的推进器方法中只有一些伪代码，我现在也可以从我的<strong class="kd jf"> PlayerMovement </strong>方法中无误地调用它。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ln"><img src="../Images/fa60a5e7c150c1f195c573bf9d922dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UvhJ5JLPRzlKY3nMZy-Cig.png"/></div></div></figure><p id="8aa1" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">回到我的方法，我开始工作。我首先检查<strong class="kd jf">左移</strong>键，看它是否被<strong class="kd jf">按住</strong>。如果shift键被按下，我将<strong class="kd jf">加速系数</strong>加到<strong class="kd jf">当前速度</strong>变量上。<strong class="kd jf">当前速度</strong>变量是使玩家在上面显示的<strong class="kd jf">玩家移动</strong>方法中移动的变量，所以<strong class="kd jf">越长</strong>shift键被<strong class="kd jf">按住</strong>，<strong class="kd jf">玩家就会走得越快</strong>。通过void <strong class="kd jf"> Update </strong>调用这个将保持<strong class="kd jf">增加</strong>玩家速度的加速系数，这提供了一些不错的……<strong class="kd jf">加速！</strong>我认为这比加电操作更好，加电操作是<strong class="kd jf">使</strong>玩家从一个速度转换到另一个速度，而<strong class="kd jf">没有速度转换</strong>。当shift键被按下<strong class="kd jf">而不是</strong>时，参数的<strong class="kd jf"> else </strong>部分将玩家的速度重置为<strong class="kd jf">默认值</strong>。所以，还没有减速，只是减速时速度突然加快。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lm"><img src="../Images/d15c9de922efeffecc444972705d85bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2b_MLk-X2CoA53u-dHChQ.png"/></div></div></figure><p id="af90" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如这里所看到的，如果对玩家没有速度限制，没有最高速度的加速会很快失控！如果离开的时间足够长，可以打到无限大速度，这个我不推荐<em class="lo">(先存后试！)</em>。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lp"><img src="../Images/96e34db715b90ed954a5c33094952d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AvGf3thgE4ykEMAgEw567Q.gif"/></div></div></figure><p id="e416" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里是<strong class="kd jf">最小</strong>和<strong class="kd jf">最大</strong>速度变量发挥作用的地方。在我的<strong class="kd jf">推进器方法</strong>的顶端，我使用<strong class="kd jf"> Mathf。夹紧</strong>将<strong class="kd jf">当前速度</strong>变量限制为<strong class="kd jf">最大值</strong>和<strong class="kd jf">最小值</strong>，并将该值分配给本地<strong class="kd jf">速度夹紧</strong>变量。现在当shift键被按下时，<strong class="kd jf">当前速度</strong>值被重新分配给<strong class="kd jf">夹紧值</strong>，然后增加了<strong class="kd jf">加速度</strong>变量。现在播放器不会比指定的<strong class="kd jf"> maxSpeed </strong>值更快，该值可以在<strong class="kd jf">检查器</strong>中调整。我还在<strong class="kd jf"> else if </strong> <em class="lo">(由</em><strong class="kd jf"><em class="lo">else</em></strong><em class="lo">)</em>中添加了一个<strong class="kd jf">减速器</strong>，用于当shift键未被按下时，并且仅当当前速度<strong class="kd jf">大于<strong class="kd jf">最小速度</strong>值</strong>时。即使有固定的速度值，无效的<strong class="kd jf">更新</strong>将<strong class="kd jf">继续</strong>尝试<strong class="kd jf">减慢</strong>玩家的速度，这导致一些看起来不稳定的移动。它还会将我的玩家速度降低到<strong class="kd jf"> 3.8f </strong>，即使我的<strong class="kd jf">最小速度</strong>设置为<strong class="kd jf"> 4f </strong>。为了减轻这种情况，我添加了最后的<strong class="kd jf"> else if </strong>语句，这将把我的<strong class="kd jf">当前速度</strong>值重置为<strong class="kd jf">最小值</strong>。基本上玩家一旦打到最低速度，这个语句就告诉<strong class="kd jf">减速器</strong>让<strong class="kd jf">停止</strong>试图减速，晃动的动作就没了。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ln"><img src="../Images/d55d77453e9104e4e97dd7dd4b6f8ea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GT6jHH9LCxf9QITHc5Fnzw.png"/></div></div></figure></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><p id="039f" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">有趣的一点是，<strong class="kd jf">如果没有</strong>对我的速度进行最小限制，减速器会迅速将玩家的速度变为负<strong class="kd jf">值，这使得玩家向后移动<strong class="kd jf"/>！</strong></p></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><p id="86c3" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这个片段向我展示了<strong class="kd jf">按住shift </strong>，<strong class="kd jf">当前速度</strong>值<strong class="kd jf">加速</strong>，<strong class="kd jf">停止</strong>刚好在<strong class="kd jf">箝位值</strong>之上，<strong class="kd jf">减速</strong>回到<strong class="kd jf">默认</strong>值。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/94cd5d76c9fc4373b74aad599521c3b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/1*FGEibpzxT-vR1Qg2_0yspA.gif"/></div></figure><p id="6b66" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我仍然需要解决我的<strong class="kd jf">加速启动</strong>。现在，我的减速器会将播放器恢复到默认速度，即使速度提升是活跃的，这不是我想要的。在我的<strong class="kd jf">推进器方法</strong>的顶部，我添加了一个简单的<strong class="kd jf"> if </strong>语句，通过与之相关的<strong class="kd jf">布尔变量</strong>来检查速度提升是否<strong class="kd jf">激活</strong>。如果是<strong class="kd jf">激活</strong>，我会将我的<strong class="kd jf">最小速度</strong>值重新分配为<strong class="kd jf">脚蹼助推</strong> <strong class="kd jf">加电</strong>值。只要没有按下shift键，参数的<strong class="kd jf"> else if </strong>部分就会将<strong class="kd jf">最小值</strong>重置为<strong class="kd jf">默认值</strong>。速度提升现在被确认，我不应该有任何速度冲突！</p><p id="7147" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我的加速速度提升比最大推进器速度稍微慢了一点，但是我很快就会限制推进器的能力，所以加速速度提升仍然有很大的游戏价值。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ly"><img src="../Images/87de9bb12abace09c1294c4d32c0dea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTTSqzhq6skTOri4kVAeQQ.png"/></div></div></figure><p id="70d3" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我把一个<strong class="kd jf">脚蹼助推启动</strong>拖到我的<strong class="kd jf">场景视图</strong>中，以测试并确保我的推进器尊重启动，而不是<strong class="kd jf">覆盖</strong>它的速度行为。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lz"><img src="../Images/ae784ddc40a58b354dbe6f1914b80c5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*311DGpMc15DUDH6AOUzCtg.png"/></div></div></figure><p id="9b9b" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里在<strong class="kd jf">检测器</strong>中你可以看到我<strong class="kd jf">加速</strong>到<strong class="kd jf">最大速度</strong>，然后<strong class="kd jf">减速</strong>到速度提升<strong class="kd jf">加电值</strong>。</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/d906cec8675529d14fcd1b012fddfe35.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/1*ceOMFu-oxa-Q9eH-_HmZ3g.gif"/></div></figure><p id="76f5" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我的播放器有多种途径来加速和减速！如果不加控制的话，这个能量有点太大了，所以我需要限制推力的能力，并添加一个UI元素来显示推进器的实时值。感谢您的关注！</p><figure class="la lb lc ld gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a16b1bf0bf9290dfa9e65f77bc15a442.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ifUO3hZFz0nj4-K_6yDFgg.gif"/></div></div></figure></div></div>    
</body>
</html>