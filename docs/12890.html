<html>
<head>
<title>Learning Typescript with Web Components: Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Web组件学习Typescript:第2部分</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/learning-typescript-with-web-components-part-2-9798ec0b67e2?source=collection_archive---------20-----------------------#2022-07-18">https://levelup.gitconnected.com/learning-typescript-with-web-components-part-2-9798ec0b67e2?source=collection_archive---------20-----------------------#2022-07-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0f7e754946653dc5e385825beba26d17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-JhULaTpaitUGNZO9mxHw.png"/></div></div></figure><h1 id="2328" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">第2部分:使用数组</h1><blockquote class="kw kx ky"><p id="9c3c" class="kz la lb lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated"><em class="iq">在本系列的</em> <a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/learning-typescript-with-web-components-lit-4f38fae47e27"> <em class="iq">第1部分</em> </a> <em class="iq">中，我们研究了Typescript web组件中数据绑定的概念，并查看了两个使用属性和特性传递数据的示例组件。在这一节中，我们将看到一些处理数组的Typescript方法，这就是我们处理数据列表的方式。在这个过程中，我们将开始把代码分成模块，并进一步研究它们之间的数据传递。我们还将首先看看如何使用箭头函数来处理TS数组中的项目。</em></p></blockquote><p id="51e2" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated"><strong class="lc ir">快速索引<br/> </strong>第1部分:<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/learning-typescript-with-web-components-lit-4f38fae47e27">属性，值，&amp;数据绑定</a> <br/>第2部分:<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/learning-typescript-with-web-components-part-2-9798ec0b67e2">使用数组</a> <br/>第3部分:<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/learning-typescript-with-web-components-part-3-a599c8d26213">使用JSON对象</a></p><h1 id="ab35" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">数组与对象</h1><p id="784c" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">每种编程语言都需要某种方式来处理数据项列表，而不仅仅是单个数据项本身。我们可以将示例<code class="fe mh mi mj mk b">&lt;dta-pages&gt;</code>组件中的<code class="fe mh mi mj mk b">Pages</code> JSON对象视为页面列表。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ml"><img src="../Images/874ed419378370aee4cba5fdaa88593e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*RQxlXIPkf58zdlasUGUL6A.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">JSON对象被<strong class="bd ka">花括号</strong>包围。</figcaption></figure><p id="3c19" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">还有一种，<strong class="lc ir">阵</strong>。数组在两个方面不同于对象。首先，数组中的元素没有键。相反，它们按照特定的顺序进行。他们在队列中的位置被称为<strong class="lc ir">指数</strong>。在JS和TS中，数组被方括号包围，而不是对象的花括号。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/b2e41c2ef13200ca1793a1a01e1124cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IM7JsiJg9vCkkQhDJk4ZEg.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">一个数组被<strong class="bd ka">方括号</strong>包围。</figcaption></figure><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/d62d35dfaaec7dc4c41808a1ee58d53f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FvL52gmtkZ1OzCON.jpg"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">在<strong class="bd ka">铁厨:JavaScript版</strong>中，两个激烈的竞争对手面对的是同样的数据配料。线性思想的数组会创造出最好的UI吗，或者有创造性的对象会创造出更好的东西吗？</figcaption></figure><h1 id="fed7" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">铁厨:数据存储对决！</h1><p id="faa9" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">每种类型的数据存储都有明显的优势和劣势:</p><ul class=""><li id="68e7" class="mw mx iq lc b ld le lh li lz my ma mz mb na lx nb nc nd ne bi translated"><em class="lb">对象</em>的值只能由它们的<strong class="lc ir">键</strong>访问。没有索引。</li><li id="a5a6" class="mw mx iq lc b ld nf lh ng lz nh ma ni mb nj lx nb nc nd ne bi translated"><em class="lb">数组</em>的值没有键。它们只能由它们的<strong class="lc ir">索引</strong>访问。</li></ul><p id="a16d" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">当您知道某个对象的名称或标签时，这使得该对象非常适合于获取该对象——比如使用帐号作为关键字来查找单个帐户的余额。但是当我们需要遍历一个项目列表时，比如为某个地区的所有帐户生成一个邮件列表，数组会更好。这样的列表可以表示为一组帐号。</p><p id="0e9c" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">由于对象值没有任何顺序，我们不能说，“给我第<em class="lb">个第n</em>个。”因为数组没有键，我们不能说，“给我一个叫做<em class="lb">某某</em>的。</p><p id="2050" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">让我们的数组只包含<strong class="lc ir">一种</strong>项，通常是另一个对象的键——或者另一个数组的索引，这是很好的编程实践。看起来，只保留所有客户及其余额的列表可能更容易，但实际上，使用尽可能少的数据量更容易，这通常是很好的编程建议。换句话说，我们可以创建只包含我们需要的部分的数组(甚至其他对象),而不是传递整个客户列表。</p><h1 id="b69e" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">这是甜点配料和地板蜡</h1><p id="aa65" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">通常，我们需要对相同的数据进行两种访问。如果我们要为我们的页面创建任何类型的<strong class="lc ir">菜单</strong>，我们需要显示一个列表——页面名称列表？页键列表？(那就难看了。)</p><p id="f87d" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">我们可以扩展我们对每个页面的定义，在屏幕上显示一个名称，我们可能应该这样做。但是无论如何我们需要一份页码列表。然后，我们可以在创建菜单输出时“遍历”该列表——无论是按钮列表、下拉菜单上的项目列表，还是我们想要编写的方式。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/44fd91f30b58382c7d09ff7e57a29cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FGYb7RbnPj0jXzRMbi28PA.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">将PageArray定义为数组可以让我们“遍历”我们感兴趣的真实对象中的键。我们不需要数组中的所有页面数据，只需要键。像所有JS数组一样，这些项以索引<strong class="bd ka">零</strong>开始。</figcaption></figure><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/c028cc08ea857d8e192507f1efb83a26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1jdBny0pC0pvbR07"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">Chichén Itzá 的勇士神殿很大，但从地面上看很容易被忽略。我偷偷离开了著名的库尔库尔坎金字塔，在那里的圆柱间漫步。你知道玛雅人独立<a class="ae ly" href="https://en.wikipedia.org/wiki/Maya_numerals" rel="noopener ugc nofollow" target="_blank">发明了零</a>吗？</figcaption></figure><h1 id="b0f0" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">玛雅人也是从零开始</h1><p id="f96f" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">如果你以前没有遇到过，JS中的数组有一个奇怪的属性。他们的索引从零开始。这意味着数组中的第一项的<strong class="lc ir">索引为零</strong>。不是所有的语言都是这样工作的。可爱的<a class="ae ly" href="https://en.wikipedia.org/wiki/Lua_(programming_language)" rel="noopener ugc nofollow" target="_blank"> Lua </a>，我很喜欢，有<em class="lb">基于1的数组索引</em>。(换句话说，正常的人类那种)。</p><p id="354b" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">就像开车靠左或靠右，无论你习惯哪种方式，都会让对方看起来很困惑。只是永远不要忘记，JS有<strong class="lc ir">从零开始的数组索引</strong>。</p><p id="9aea" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">让我们通过在<code class="fe mh mi mj mk b">dta-page.ts</code>中显示来自<code class="fe mh mi mj mk b">pageArray</code>的第二个项目来测试一下:</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/58e38dfe381e1772915d34cf32e054df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pmnXtRwlONleSXHhpKGE6g.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">我在输出中添加了一个临时的<strong class="bd ka"> &lt; div &gt; </strong>，作为检查<strong class="bd ka">page array[1】</strong>的值的一种方式。这种诊断方法称为<strong class="bd ka">打印调试</strong>。</figcaption></figure><p id="30b9" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">如果我添加一个临时的<code class="fe mh mi mj mk b">&lt;div&gt;</code>并将它的内容绑定到<code class="fe mh mi mj mk b">PageArray[1]</code>的值，我应该得到数组中的第二个项目。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/1f78da3f7fbd382f59d62a938c4f52aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bU3QsikrFqNdpSjzojWVUQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">JS数组中的<strong class="bd ka"> Index 1 </strong>返回数组中的<strong class="bd ka">第二个</strong>项。</figcaption></figure><h1 id="d10f" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">DIY:用代码创建调色板</h1><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/6faf1b8b24fa36e7d135ebb369c87ac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uvlDVLeFzkuB5GGv"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">对于任何设计来说，调色板都是一个很好的起点，无论是像这样的绣花线选择还是您自己的网络应用程序。通过编写代码，我们可以在任何地方重复使用我们的颜色。</figcaption></figure><p id="2843" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">设计真正的app时，我喜欢从一个<strong class="lc ir">调色板</strong>开始。让我们创建一个<code class="fe mh mi mj mk b">&lt;dta-palette&gt;</code>组件，它可以显示一系列单独的<code class="fe mh mi mj mk b">&lt;dta-chip&gt;</code>色块，调色板中的每种颜色都有一个色块。数据本身需要是单个颜色对象的列表。我们走吧！</p><p id="ff61" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">我将从一个新文件<code class="fe mh mi mj mk b">dta-palette.ts</code>开始。应该从<a class="ae ly" href="https://medium.com/gitconnected/getting-started-with-web-components-lit-part-3-81ba933f0f56" rel="noopener"> Lit web组件</a>中常见的疑点开始:<code class="fe mh mi mj mk b">imports</code>、<code class="fe mh mi mj mk b">component definition</code>、<code class="fe mh mi mj mk b">CSS</code>和<code class="fe mh mi mj mk b">render</code>。我喜欢把“我之前烤过的一个”删除掉我不需要的部分，你可以用我们到目前为止玩过的任何组件来做这件事。</p><p id="ef31" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">如果当我们创建<code class="fe mh mi mj mk b">&lt;dta-page&gt;</code>组件时你和我在一起，你会看到我是如何喜欢先设计<strong class="lc ir">用例</strong>，然后再编码。让我们在这里使用这种技术。在我的<code class="fe mh mi mj mk b">&lt;dta-palette&gt;</code>中，我知道我需要输出一些芯片，每种颜色一个。让我们对单个芯片进行硬编码，并确保它能够工作，然后将其演化为使用列表。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi np"><img src="../Images/d05c297e64d8d378f0508da2caa3923c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KH9KYQSzGlST8Ar8CCvlXA.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">到目前为止，我只将新的<strong class="bd ka"> &lt; dta芯片&gt; </strong>添加到<strong class="bd ka"> &lt; dta调色板&gt; </strong>输出中。</figcaption></figure><p id="6733" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">这里，我添加了一个带有一个属性的<code class="fe mh mi mj mk b">&lt;dta-chip&gt;</code>元素，一个<code class="fe mh mi mj mk b">color=</code>值。如果我们传递一个颜色的键(像这里的<code class="fe mh mi mj mk b">violet</code>，我们可以在<code class="fe mh mi mj mk b">dta-chip.ts</code>中“检索”这个值作为属性。</p><h1 id="58b8" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">创建一个色卡</h1><p id="7d83" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">现在，我需要编写<code class="fe mh mi mj mk b">dta-chip.ts</code>组件来在屏幕上显示一些东西。我将从同一个基本为空文件的另一个副本开始:</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/6760c778a08c4ebc06d18ba08cf90ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*tY0sGGk9PkOcCqAwsN-2JQ.png"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated"><strong class="bd ka"> &lt; dta-chip &gt; </strong>组件输出单个码片。现在，它是蓝色的。</figcaption></figure><p id="6c93" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">我在shadow DOM中添加了CSS来为我的芯片定义一个新的类，给它一个固定的颜色。需要注意的是，Lit中的CSS属性是真正静态的，不能由外部值设置。这很重要，我们稍后会看到它是如何发挥作用的。</p><h1 id="dcd2" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">将组件添加到页面</h1><p id="446a" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">web组件最好的一点是它们确实是模块化的。为了让我们的新调色板出现在页面上，我们可以把它放在任何地方——在<code class="fe mh mi mj mk b">index.html</code>上，在页面查看器上，甚至在输出的特定页面上。</p><p id="b0a6" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">现在，让我们将<code class="fe mh mi mj mk b">&lt;dta-palette&gt;</code>添加到<code class="fe mh mi mj mk b">&lt;dta-home&gt;</code>中，以便它显示在我们正在访问的任何页面的下方。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/aa7ce1e66d7ddaf2fe8df90eb5d00edb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Enf9bbN0314Z4GrACIR5Ww.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">我将在我的<strong class="bd ka"> &lt; dta-home &gt; </strong>组件中的页面输出下面添加我的新<strong class="bd ka"> &lt; dta调色板&gt; </strong>。</figcaption></figure><p id="c0e2" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">如果你一直在使用我的<strong class="lc ir">模块加载器</strong>技术，将新组件添加到组件加载器的<code class="fe mh mi mj mk b">exports</code>列表中。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/40a81a7a7b00959bf997069266485860.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*asCT5d1huyQaF5GzkQFZBg.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">你可以使用我的<strong class="bd ka">组件加载器</strong>在任何地方访问你的所有组件。否则，为你的每个组件添加一个<strong class="bd ka"> &lt;脚本&gt; </strong>标签到index.html。</figcaption></figure><h1 id="e549" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">检查初始输出</h1><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/9e902ea8069279e8dcbed5d9d0764b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sPV71bhR8Zz9e6uAdNf5vw.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">我们的调色板只有一个硬编码芯片。注意是蓝色而不是紫色！</figcaption></figure><p id="4777" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">对于web组件，我非常喜欢迭代设计。一些程序员会主张自上而下地构建很多这样的调色板，在屏幕上显示任何东西之前先计算出数组之类的东西。如果你对地形很熟悉，那会做得很好——但是如果你是在这里迈出第一步或者不确定你的部分将如何组合，最好的方法是首先编写<strong class="lc ir">哑-哑</strong>版本。做一些简单的没有功能的东西，然后一点一点地添加。就像我们现在要做的。</p><p id="74a6" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">注意，这里的芯片是蓝色的，而不是紫色的。此时，我们还没有对传入的属性<code class="fe mh mi mj mk b">color= </code>做任何事情。为此，我们将定义“紫色”和其他颜色。你可以随意使用你喜欢的名字和颜色，想用多少就用多少。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/d39ea5fa85e0e7ed3573b2dfbd58a20e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SjuqKXwj4oIIB7Rx"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">HTML调色板是真正的大盒蜡笔。有超过1600万种红色、绿色和蓝色的组合可供选择。即便如此，网络颜色也永远无法真正模拟印刷材料或其他表面颜色，因为您的显示器会发光，而表面会反射光。</figcaption></figure><h1 id="d429" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">用模块定义颜色</h1><p id="8a46" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">让我们把我的建议加倍，把我们的颜色代码放在别的地方，使事情模块化。毕竟，我们可能<strong class="lc ir">在其他组件中再次</strong>需要这些颜色。好消息是这个模块不需要Lit。这是纯打字稿。</p><p id="c05f" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">我将在我的<code class="fe mh mi mj mk b">modules</code>文件夹中添加一个<code class="fe mh mi mj mk b">colors.ts</code>文件:</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/e84a04d3a3d4d2596b33992635d9975f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HeA87Mv9O-mY901eGId8SQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">我们的<strong class="bd ka"> colors.ts </strong>模块将导出一个JSON对象，我们可以通过它的键来访问它。</figcaption></figure><p id="1372" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">注意使用<code class="fe mh mi mj mk b">const</code>来定义值。我们不希望这些颜色改变。还要注意常量定义前重要的<code class="fe mh mi mj mk b">export</code>关键字。这个<code class="fe mh mi mj mk b">export</code>，结合我们的模块加载器，使得这个对象在我们的模型中随处可用。</p><p id="a064" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">您可以从另一个应用程序中获取十六进制颜色，如Photoshop，在这种情况下，它们必须以<code class="fe mh mi mj mk b">#</code>磅符号开头。你也可以使用<a class="ae ly" href="https://www.w3schools.com/colors/colors_names.asp" rel="noopener ugc nofollow" target="_blank"> HTML颜色名称</a>，比如<code class="fe mh mi mj mk b">blue</code>、<code class="fe mh mi mj mk b">orange</code>和<code class="fe mh mi mj mk b">red</code>。如果你不擅长挑选有吸引力的颜色组合，你可以让调色板生成器为你制作一些。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/d9f6741a135301f36d2085997886e10e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LSHA5MZmXDdn42Deipm0rQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">在线调色板生成器可以快速为你的应用找到一小组有凝聚力的颜色。注意每个顶部的十六进制代码。你还需要白色(<code class="fe mh mi mj mk b">#FFFFFF</code>)和黑色(#000000)。</figcaption></figure><h1 id="b142" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">加载您的新模块</h1><p id="3bb6" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">为了让这个模块进入应用程序，我们可以使用我们的模块加载器技术。我喜欢把我的<code class="fe mh mi mj mk b">module-loader.ts</code>和我的组件加载器分开，但是想法是一样的。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/e031ebeb645e06e2f659fb8aad4b58b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4BW6iUoOwvWg3hglF-dxCg.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">使用模块加载器来绑定我所有的自定义Typescript数据和函数。</figcaption></figure><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nx"><img src="../Images/413ebca91c05abf0a3b4d6cbab685244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mvPDGbkxPeVEJwSNBfE47A.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">如果你使用一个单独的模块加载器，确保将它加载到<strong class="bd ka">index.html</strong>中。</figcaption></figure><h1 id="332a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">访问新模块中的好东西</h1><p id="4cde" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">我们在<code class="fe mh mi mj mk b">colors.ts</code>中编写的代码本身不是一个web组件，所以我们需要将它单独<code class="fe mh mi mj mk b">import</code>到使用它的组件中。多亏了我们的模块加载器，只需添加一行代码到<code class="fe mh mi mj mk b">dta-chip.ts</code>。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ny"><img src="../Images/da00aaecd1314ce346a4ccb18cdf4a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RHB8eUz3C2heCGzxSFjQiQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">我们可以使用<strong class="bd ka"> dta </strong>名称空间导入模块加载器中的所有内容。</figcaption></figure><p id="ce14" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">你可能还记得我提到过<strong class="lc ir">名称空间</strong>是一种将你的模块与其他人的模块分开的方法。在这种情况下，这将会得到回报，因为我们可以使用语法<code class="fe mh mi mj mk b">import * as <em class="lb">myNamespace</em></code>，其中<em class="lb"> myNamespace </em>是您的名称空间。在这种情况下，那就是<code class="fe mh mi mj mk b">dta</code>。</p><p id="d49b" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">这样做的结果是<strong class="lc ir">我们从那些其他模块中导出的所有对象</strong>将在这个组件中的<code class="fe mh mi mj mk b">dta</code>对象下可用！换句话说，我们已经将这些模块中的所有东西都添加到了我们的<strong class="lc ir">模型</strong>中。</p><p id="a019" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">我们导出的每个对象(在我们导出的模块中)现在都可以在这个模块中使用——从<code class="fe mh mi mj mk b">dta</code>对象。关键是我们放在<code class="fe mh mi mj mk b">export</code>上的名字。由于<code class="fe mh mi mj mk b">colors.ts</code>导出了一个名为<code class="fe mh mi mj mk b">colors</code>的对象，我们现在可以用<code class="fe mh mi mj mk b">dta.colors</code>来访问它。如果我们想从<em class="lb">得到那个</em>对象的<code class="fe mh mi mj mk b">orange</code>键，我们就写<code class="fe mh mi mj mk b">dta.colors.orange</code>。</p><h1 id="f3d1" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">使用调色板中的颜色</h1><p id="8c96" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">如果<code class="fe mh mi mj mk b">colors</code>对象在我们的模型中(作为<code class="fe mh mi mj mk b">import</code>的结果)，我们应该能够使用它作为我们芯片的背景颜色。</p><p id="dd90" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">在<code class="fe mh mi mj mk b">&lt;dta-chip&gt;</code>中，我添加了一个<code class="fe mh mi mj mk b">style=</code>属性，它的<code class="fe mh mi mj mk b">background-color</code>属性被设置为硬编码值<code class="fe mh mi mj mk b">${dta.colors.red}</code>。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/0bc914fde88b1bd5641b188a05ef3246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jq9nvtlhu0eLmbYEif2TuQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">VSCode知道对象上已经存在的键，并可以提示您。</figcaption></figure><p id="68b5" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">您可能会问，“为什么我们不把它添加到chip类的CSS样式定义中呢？”原因是我们不能。我们不能使用<code class="fe mh mi mj mk b">${expression}</code>从影子DOM CSS的静态<strong class="lc ir">定义中的模型获取数据。所以我们会把它加到个人<code class="fe mh mi mj mk b">&lt;div&gt;</code>上。在VSCode中，IDE会提示你是否键入了一个键(或者键的一部分，就像这里的<code class="fe mh mi mj mk b">orangeRed</code>)。</strong></p><h1 id="65b4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">赢了，去吧！</h1><p id="8b2e" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">如果我们在浏览器中访问该站点，芯片中会填充来自<code class="fe mh mi mj mk b">dta.colors.red</code>的颜色值。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/d00ad9c79f32eead1118d0cbca60d3b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*44KVIGPbHijQAvuAjGBqSg.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">用来自<strong class="bd ka"> dta.colors </strong>对象的颜色设置的单个<strong class="bd ka"> &lt; dta-chip &gt; </strong>。</figcaption></figure><p id="21df" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">虽然有一个名为红色的HTML颜色，但这不是我们看到的颜色。这是我们T4的习俗。访问该密钥会返回它的值，即我们需要的十六进制代码。这个相同的对象及其键现在可以在我们需要的任何地方获得——在我们的整个应用程序中。</p><p id="7461" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">如果我以后需要一个特定的按钮是同样的红色(比如取消按钮)，我可以直接用<code class="fe mh mi mj mk b">${dta.colors.red}</code>指定颜色。同样的颜色也适用于其他任何东西，比如文本颜色或边框。虽然<code class="fe mh mi mj mk b">${expression}</code>语法使该值在每个web组件中都可用，但我们也可以通过编写不带<code class="fe mh mi mj mk b">${}</code>的<code class="fe mh mi mj mk b">dta.colors.red</code>来直接获取它(在Typescript模块中)。</p><p id="298d" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">恭喜你！你的颜色是完全模块化的，真正通用的。你在自己的网络应用程序中使用(和更新)了大量的颜色。</p><h1 id="3ce4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">没有钥匙，不准走！</h1><p id="2a1b" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">如果我们不完全匹配<code class="fe mh mi mj mk b">dta.colors</code>对象中的一个键，我们将得到<strong class="lc ir">null</strong>——计算机科学中“什么都没有”的说法。我们可以通过尝试一个未定义的键来验证这一点。我还将默认的CSS颜色设置为灰色，这样我们就可以知道我们看到的是默认值。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/30bbc8961f4b804a2cbd6b51abfa5fde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qz96XtVs8PtzynTVhyzgFQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">将默认背景设置为灰色，这样当我们提供一个无效的背景时，我们就能看到它。注意，即使是VSCode也抱怨(用红色曲线)说<strong class="bd ka">天蓝色</strong>在<strong class="bd ka"> dta.colors </strong>上不是一个真正的键。</figcaption></figure><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/aa5b065897afbb06bdc75462f198d2bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RgaXcJIlYIMo91GiX0bFrg.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">当密钥不匹配时，结果为<strong class="bd ka"> null </strong>。内联CSS上有一个空的背景色属性，我们从类中得到默认值。</figcaption></figure><h1 id="a00b" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">李斯特先生，我们准备好了…</h1><p id="ad1b" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">如果这看起来像是仅仅为了学习数组而对对象和模块的巨大偏离，那么您是对的！我让你经历它，是因为我不想深入了解<strong class="lc ir">函数</strong>(我最喜欢的主题，也是所有编程中最重要的一个)，直到我们建立了一些好的园艺实践。此外，正如我们所说的，<a class="ae ly" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" rel="noopener ugc nofollow" target="_blank">JS中的所有东西都是对象</a>，所以不可避免地会有一些讨论。咻！谢谢你。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/0f98b4236fd4edbd9455ed8d54af4a6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w0zcpM74r9C5pRym2RlCEQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated"><a class="ae ly" href="https://en.wikipedia.org/wiki/Franz_Liszt" rel="noopener ugc nofollow" target="_blank">弗朗茨·李斯特</a>，一位19世纪的匈牙利作曲家和杰出的钢琴家，由于他的姓氏的发音，“名单<em class="oc">列表</em>”而经常成为节目笑话的主题</figcaption></figure><p id="0e81" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">现在我们有了一个处理单一颜色的芯片，我们可以把这个想法扩展到一组颜色，每种颜色一个芯片。我们之前提到过使用键数组作为对象的中间站的想法。它让我们能够<strong class="lc ir">迭代</strong>或者遍历列表——键列表！</p><p id="2276" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">幸运的是，JS有一个内置的方法来创建它。叫<code class="fe mh mi mj mk b">Object.keys()</code>。当我们用括号中的对象调用<code class="fe mh mi mj mk b">Object.keys()</code>时，我们得到该对象中所有键的数组。有了这些，我们可以为每种颜色/键输出一个芯片。</p><h1 id="682c" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">找到你的位置</h1><p id="f732" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">但这份名单应该何去何从？在我们建立的MVC模型中，是<code class="fe mh mi mj mk b">&lt;dta-palette&gt;</code>需要知道列表。<code class="fe mh mi mj mk b">&lt;dta-chip&gt;</code>只需要知道它应该得到哪个<em class="lb">单色</em>。让我们使用<code class="fe mh mi mj mk b">dta-palette.ts</code>中的<code class="fe mh mi mj mk b">Object.keys()</code>来获取<code class="fe mh mi mj mk b">dta.colors</code>对象中的键列表。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi od"><img src="../Images/fd4ce3463367b3e754d4e0a0a4144ee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pfg_a-xa8mff7oOXGwINZg.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">导入我们的colors对象让我们可以从中创建一个新的调色板常量:它的键的数组。</figcaption></figure><p id="5771" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">在<code class="fe mh mi mj mk b">dta-palette.ts</code>的顶部，我添加了一个新的常量定义，并将其设置为<code class="fe mh mi mj mk b">Object.keys(dta.colors)</code>。这给了我一个对象中的键的列表，作为一个数组。现在，我需要走一遍。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/661c3b8edb55fcf87cccae2db12d38cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k1QAP3C3AUUz_Gpb"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">三种语言的平行文本帮助学者破译了罗塞塔石碑。在经典计算机科学中，“Hello World”函数用于演示任何语言的编程。你可以在RosettaCode找到超过500种语言的<a class="ae ly" href="http://rosettacode.org/wiki/Hello_world/Text" rel="noopener ugc nofollow" target="_blank"> Hello World </a>(以及许多其他函数)的例子。</figcaption></figure><h1 id="0376" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">对函数说“你好，世界”</h1><p id="df41" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">为了完成我们对数组的遍历，我们需要定义一个<strong class="lc ir">函数</strong>。本质上，函数只是一个配方(comp sci术语是<a class="ae ly" href="https://en.wikipedia.org/wiki/Algorithm" rel="noopener ugc nofollow" target="_blank"> <em class="lb">算法</em> </a>)，用于获取一些<strong class="lc ir">输入</strong>，应用一些<strong class="lc ir">进程</strong>，并返回一些<strong class="lc ir">输出</strong>。我们现在还不会深究函数的细节，只是将它们视为<em class="lb">配方</em>。</p><p id="3177" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">编写函数的最佳方式是大声说出，<strong class="lc ir">就像对来自<em class="lb">弗兰肯斯坦</em>的伊戈尔</strong>说话一样，这是描述您想要的东西的最简单的方式。对我们来说，这看起来像这样:</p><ol class=""><li id="945c" class="mw mx iq lc b ld le lh li lz my ma mz mb na lx oe nc nd ne bi translated">对于列表中的每种颜色…</li><li id="05e4" class="mw mx iq lc b ld nf lh ng lz nh ma ni mb nj lx oe nc nd ne bi translated">用那种颜色画一个筹码。</li></ol><p id="071a" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">事实上，这是一个程序。这种语言就是我们所说的<a class="ae ly" href="https://en.wikipedia.org/wiki/Pseudocode" rel="noopener ugc nofollow" target="_blank"> <em class="lb">伪代码</em> </a>。基本上，你用一种对你有意义的语言来编造。把它作为一个注释直接写在你的程序中通常是很好的。让我们开始吧。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi of"><img src="../Images/d204ead7a3456580d34877c59ea6ebb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*sK2IMluA5EiCVyMXKuYdrw.png"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">在任何函数的开头用<strong class="bd ka">伪代码</strong>写注释是一个好习惯。有了<a class="ae ly" rel="noopener ugc nofollow" target="_blank" href="/flying-with-github-copilot-cab566ee5d9"> GitHub Copilot </a>，你可以使用这些注释来生成人工智能建议的代码供你审阅。</figcaption></figure><p id="ada8" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">我们正在编写的函数需要在 <code class="fe mh mi mj mk b"><strong class="lc ir">render</strong>()</code>内部的<strong class="lc ir">，但是在</strong><strong class="lc ir">返回</strong>或输出阶段之前的<strong class="lc ir">。<code class="fe mh mi mj mk b">Return</code>是一个关键字，表示函数已经完成了计算，现在可以“返回”(因此，<code class="fe mh mi mj mk b">return</code>)一个结果。</strong></p><h1 id="77e4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍。地图()</h1><p id="5fc8" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">你会很高兴见到TS <code class="fe mh mi mj mk b">.map()</code>功能。因为它提供了一个非常有用的服务……<strong class="lc ir">映射到一个数组</strong>，这是comp sci的一种奇特的说法“嘿，Igor，把列表上的所有东西都拿来，然后对每件东西做<em class="lb">这个</em>”</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/ea11d77ebb6d413c1057d36d57071398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MaA79pf3ysl-GBWf"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">伊戈尔(在1974年的《年轻的弗兰肯斯坦》中看到的)想要显得聪明，但实际上需要密切的监督和高度<strong class="bd ka">简化的</strong>指令。这是一个思考计算机一切的好方法。</figcaption></figure><p id="8fc8" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">如果您是编程或TS的新手，那么一下子会有很多东西需要理解——我们肯定会在下一期中更仔细地研究函数，但是让我们来分解一下关键部分:</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi og"><img src="../Images/36cdb9e3674cbb717e4e10aede801dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*eH4odA-JzMRrplnZn0M5ag.png"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">常量<strong class="bd ka"> chips </strong>将从<strong class="bd ka"> palette.map() </strong>中获取一个黄色的数组。数组中的每个项目将被称为<strong class="bd ka">颜色，</strong>为蓝色。应用于该项目的<strong class="bd ka">箭头功能</strong>为粉红色。</figcaption></figure><h1 id="24e4" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">在箭头函数内部</h1><p id="ecba" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">Map获取数组中的每一项，对其进行处理，然后<strong class="lc ir">返回一个数组</strong>，其中包含应用于每一项的食谱结果。<em class="lb">做某事</em>部分被称为<strong class="lc ir">箭头功能</strong>，因为它写在TS <code class="fe mh mi mj mk b">=&gt;</code>箭头符号之后(打成<code class="fe mh mi mj mk b">=</code> <em class="lb">等号</em>后跟大于的<code class="fe mh mi mj mk b">&gt;</code> <em class="lb">)。</em></p><ol class=""><li id="2836" class="mw mx iq lc b ld le lh li lz my ma mz mb na lx oe nc nd ne bi translated">首先，我们定义常数<code class="fe mh mi mj mk b">chips</code>并设置它的值。那个值是从<code class="fe mh mi mj mk b">palette.map()</code>返回的数组，在<strong class="lc ir">黄色的</strong>中。</li><li id="3138" class="mw mx iq lc b ld nf lh ng lz nh ma ni mb nj lx oe nc nd ne bi translated">为了使函数工作，我们需要一个<a class="ae ly" href="https://en.wikipedia.org/wiki/Parameter_(computer_programming)" rel="noopener ugc nofollow" target="_blank"> <em class="lb">参数</em> </a>作为输入。我叫它<code class="fe mh mi mj mk b">color</code>，在<strong class="lc ir">蓝</strong>里。当我们遍历数组中的每一项时，它将保存我们的键。</li><li id="2410" class="mw mx iq lc b ld nf lh ng lz nh ma ni mb nj lx oe nc nd ne bi translated">最后，我们需要食谱本身，粉红色的。这个食谱利用了Lit的神奇特性！</li></ol><h1 id="cb80" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">数组在Lit中有一个神奇的属性</h1><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oh"><img src="../Images/794f00aaffc2ebff870b7bb274bb048c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FeK6ukLzjoP6BVYH"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">在变革性的70年代教育音乐视频系列<a class="ae ly" href="https://en.wikipedia.org/wiki/Schoolhouse_Rock!" rel="noopener ugc nofollow" target="_blank">校舍摇滚</a>中，“3是一个神奇的数字。”在Lit中，<strong class="bd ka">数组中的任意数量的东西都是神奇的</strong>，因为它们可以被转换成HTML数组并一起输出。</figcaption></figure><p id="10d5" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">上面返回所有chip HTML <code class="fe mh mi mj mk b">&lt;div&gt;</code>元素的代码比以前的方法要小得多，也更容易理解。<code class="fe mh mi mj mk b">Map()</code>是一个原因。另一个是Lit的特殊规则，大概是这样的:</p><ul class=""><li id="dbe7" class="mw mx iq lc b ld le lh li lz my ma mz mb na lx nb nc nd ne bi translated"><strong class="lc ir">HTML的数组和HTML本身一样好。</strong></li><li id="4539" class="mw mx iq lc b ld nf lh ng lz nh ma ni mb nj lx nb nc nd ne bi translated"><strong class="lc ir">每个项目将按顺序输出。</strong></li></ul><p id="5514" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">这个看似简单的原则导致了更简单的代码。让我们检查一下。我们说过上面粉红色的<a class="ae ly" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noopener ugc nofollow" target="_blank">箭头功能</a>是产生结果的原因。在<code class="fe mh mi mj mk b">map()</code>中，这是对每个项目应用一次<strong class="lc ir">功能的结果。</strong></p><p id="d071" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">Lit将允许我们在这里返回HTML，所以我们可以建立一个实际HTML的数组，然后把它全部吐出来。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/e3605624c08eb1218603aa8b642d9596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*Ft8wkvHdwR6XQ_XJ02SGnA.png"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">每次我们处理一个项目时，<strong class="bd ka"> color= </strong>属性将被设置为<strong class="bd ka"> color </strong>的当前值。在这种情况下，这是我们的数组中的色键。</figcaption></figure><p id="4949" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">通过这种排列，调色板列表上的每个键都会在<code class="fe mh mi mj mk b">chips</code>数组中产生一个<code class="fe mh mi mj mk b">&lt;dta-chip&gt;</code>项。每个<code class="fe mh mi mj mk b">&lt;dta-chip&gt;</code>都有一个<code class="fe mh mi mj mk b">color=</code>属性，这就是我们想要的颜色的关键。</p><h1 id="2648" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">Map()返回一个新的转换后的数组</h1><p id="ebf5" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">在<code class="fe mh mi mj mk b">color</code>列表上的按键和<code class="fe mh mi mj mk b">chips</code>列表上的<code class="fe mh mi mj mk b">&lt;dta-chips&gt;</code>之间有一一对应的。这是因为<code class="fe mh mi mj mk b">map()</code>返回一个数组，它的项数与给定数组的项数相同。这样，数组中的每个颜色键都有一个<code class="fe mh mi mj mk b">&lt;dta-chip&gt;</code>——该数组包含来自<code class="fe mh mi mj mk b">colors</code>对象的所有键。完美！</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/799002775523805347edf158ea8048f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tGnh8O8Ekc859K7pL1U_Tg.png"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">常量<strong class="bd ka"> chips </strong>现在是一个由<strong class="bd ka"> &lt; dta-chip &gt; </strong>元素组成的数组。在第36行，我们只需<strong class="bd ka">返回</strong>它，Lit将按顺序呈现每个元素。</figcaption></figure><p id="de50" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">因为Lit按顺序输出数组中的所有HTML，所以在第36行我们可以直接转储从<code class="fe mh mi mj mk b">map()</code>得到的<code class="fe mh mi mj mk b">chips</code>数组。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/cf4701e7ff6e9a0864f3d5e9fb1ac29a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5mRY5ZJWBvUWii84"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">罗尔德·达尔因“儿童读物”而出名，在这些书中，可怕的事情发生在孩子们身上。《查理巧克力工厂》和基于此的《威利·旺卡》电影无疑就是如此。然而，如果你在这个神奇的软件之旅中幸存下来，你将会继承你自己的糖果工厂！</figcaption></figure><h1 id="6c56" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">品尝彩虹</h1><p id="b2b6" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">所以我们的调色板组件现在应该已经完全设置好了，可以为每种颜色生成一个<code class="fe mh mi mj mk b">&lt;dta-chip&gt;</code>。我们仍然需要在<code class="fe mh mi mj mk b">dta-chip.ts</code>中添加一些代码来查看我们传递的属性的效果。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ok"><img src="../Images/181c26463d5c42a81c75d18393988ef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EIMHqKFrpGP1iSI_P__boA.png"/></div></div></figure><p id="5dae" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">前面提到过，<strong class="lc ir">属性</strong>和<strong class="lc ir">属性</strong>是孪生兄弟。我将向芯片组件添加一个<code class="fe mh mi mj mk b">color</code>属性来匹配我的<code class="fe mh mi mj mk b">color=</code>属性。</p><p id="8760" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">最后，在返回的<code class="fe mh mi mj mk b">&lt;div&gt;</code>中，我将更改硬编码的<code class="fe mh mi mj mk b">background-color</code>来访问<code class="fe mh mi mj mk b">dta.colors</code>对象，并从该对象中获取<code class="fe mh mi mj mk b">this.color</code>键的值。换句话说，如果我们传入<code class="fe mh mi mj mk b">color=red</code>，我们应该得到红色的颜色号(在<code class="fe mh mi mj mk b">red</code>键下的值)。如果我们通过了<code class="fe mh mi mj mk b">color=violet</code>，我们应该得到那个十六进制数，这正是<code class="fe mh mi mj mk b">background-color</code>所期待的。</p><p id="d579" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">我将添加一点CSS spice来将调色板渲染为网格，然后我们应该能够在浏览器中看到它。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/0a35abda5faf0e2b57f55e85a2396f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B03MsClCihgprwTAsflo2A.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">添加一些CSS将调色板变成网格。<strong class="bd ka">:主机</strong>标识符表示“该组件”</figcaption></figure><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/2d0487f2106c511d0e60e56208fae36c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dC9aSfWcZZ_qQPIKFjJlkQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk translated">瞧啊！由一系列颜色对象组成的调色板。</figcaption></figure><h1 id="dbab" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">这是一个总结！</h1><p id="ccd2" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">那么，我们在这里做了什么？我们讨论了数组和对象，以及什么时候可能两者都需要。我们用Lit创建了两个新的web组件来显示由色卡组成的定制调色板。我们使用良好的设计实践为我们的颜色代码创建一个单独的模块，将其导出为JSON对象，并在需要时导入。最后，我们利用TS中数组的映射特性和Lit中数组的HTML特性，为universal colors对象中的每种颜色输出一个chip web组件。</p><h1 id="1f56" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">接下来:使用对象</h1><p id="49b4" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">在第3部分中，我们将深入研究使用JSON对象的类型脚本技术。我们将通过向模型添加更多信息来扩展这个调色板，并使用这些对象的特殊功能来以有趣的方式对这些信息进行分割。此外，我们将研究函数，它们只是“做事情”的对象</p><p id="4a4d" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated">直到那时…感谢阅读！回头见。</p><p id="662d" class="pw-post-body-paragraph kz la iq lc b ld le lf lg lh li lj lk lz lm ln lo ma lq lr ls mb lu lv lw lx ij bi translated"><em class="lb"> — D </em></p></div><div class="ab cl om on hu oo" role="separator"><span class="op bw bk oq or os"/><span class="op bw bk oq or os"/><span class="op bw bk oq or"/></div><div class="ij ik il im in"><h1 id="2ac2" class="jy jz iq bd ka kb ot kd ke kf ou kh ki kj ov kl km kn ow kp kq kr ox kt ku kv bi translated">分级编码</h1><p id="7ed6" class="pw-post-body-paragraph kz la iq lc b ld mc lf lg lh md lj lk lz me ln lo ma mf lr ls mb mg lv lw lx ij bi translated">感谢您成为我们社区的一员！更多内容见<a class="ae ly" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">升级编码出版物</a>。<br/>跟随:<a class="ae ly" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a>，<a class="ae ly" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">领英</a>，<a class="ae ly" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">通迅</a> <br/>升一级就是转型理工招聘👉<a class="ae ly" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>