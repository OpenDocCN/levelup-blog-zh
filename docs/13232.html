<html>
<head>
<title>Unorganized Jupyter Notebooks are Killing you: 3 Ways to Get Organized</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">杂乱无章的Jupyter笔记本会要了你的命:3种变得有条理的方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/unorganized-jupyter-notebooks-are-killing-you-3-ways-to-get-organized-52b9511578a2?source=collection_archive---------16-----------------------#2022-08-18">https://levelup.gitconnected.com/unorganized-jupyter-notebooks-are-killing-you-3-ways-to-get-organized-52b9511578a2?source=collection_archive---------16-----------------------#2022-08-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="385c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Kedro、Azure机器学习和Scikit-Learn管道的简要概述</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/affc80f8769572526407d64f8832bfe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eWLkpnWGf2--RgpEnNP47g.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@theblowup?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">在<a class="ae kv" href="https://unsplash.com/s/photos/pipeline?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上放大</a></figcaption></figure><p id="ee26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不要误会我；Jupyter笔记本(以及Databricks笔记本)非常适合执行初始探索性数据分析、探索模型性能和测试初始ETL作业。然而，仅仅依靠笔记本进行训练和部署机器学习模型限制了可重复性和标准化。很难抢到别人的jupyter笔记本立马滚！</p><h2 id="7fbe" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">那么，我们该如何将Jupyter笔记本“探索”转化为可重复的标准化管道呢？</h2><p id="e67a" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">对于将最初在笔记本中开发的代码转换成一组标准化的管道，我们有很多选择。这些可以包括特定于机器学习库的选项(例如scikit-learn、Keras等)。)，特定于云提供商(例如Azure Machine learning或AWS Sagemaker)，或者跨大多数库和云(例如Kedro)</p><h2 id="07ba" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">在我们开始浏览一些管道示例和后续步骤之前，让我们进一步讨论一下为什么管道很重要</h2><p id="bae6" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">简而言之，管道使您的工作能够超越个人项目，进入可以快速共享、协作构建和轻松部署的领域。管道的一些具体特征:</p><ul class=""><li id="eb3e" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated"><strong class="ky ir">更简单的源代码控制:</strong>将你的jupyter笔记本拆分成python文件、类和对象的可消化子集，使你能够执行更好的源代码控制(Github、Azure DevOps、AWS CodeCommit等。)并跟踪更改</li><li id="a249" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">模块化代码:</strong>将您的单块jupyter笔记本拆分成离散的python文件和类，也使您能够轻松地重用以前管道中的组件，而不是从头开始重新工作另一个机器学习项目</li><li id="77d0" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">更容易部署:</strong>机器学习并不以高性能而告终。它以部署到web应用程序的推理结束，以重要性洞察推动更好的业务决策，并以可伸缩性决策支持生产数据的洞察生成。所有这些都可以通过管道来简化。</li></ul><h1 id="1aae" class="ne lt iq bd lu nf ng nh lx ni nj nk ma jw nl jx md jz nm ka mg kc nn kd mj no bi translated">精选机器学习管道解决方案概述</h1><h2 id="135c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><a class="ae kv" href="https://kedro.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">凯德罗</strong> </a></h2><ul class=""><li id="270a" class="mq mr iq ky b kz ml lc mm lf np lj nq ln nr lr mv mw mx my bi translated"><strong class="ky ir">要点:</strong>开源python框架，提供了执行管道、组织数据和简化参数选择的结构。额外收获:使用Kedro-Viz可以轻松地可视化管道流</li><li id="ad8b" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">优点:</strong>可用于所有机器学习库(使用Python)和云平台</li><li id="ce8b" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">缺点:</strong>对于高级用例来说，可能需要一点学习曲线</li><li id="3ec4" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">如何开始:</strong>查看<a class="ae kv" href="https://kedro.readthedocs.io/en/stable/get_started/install.html" rel="noopener ugc nofollow" target="_blank">文档</a>和下面的分类管道示例</li></ul><div class="ns nt gp gr nu nv"><a href="https://github.com/van-william/kedro-classification-mushrooms" rel="noopener  ugc nofollow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">GitHub-van-William/kedro-分类-蘑菇:ked ro机器学习分类</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">这个项目一开始是对Kedro的介绍性探索。更直白地说，它开始是寻找更好的…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">github.com</p></div></div></div></a></div><h2 id="a0e5" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><a class="ae kv" href="https://azure.microsoft.com/en-us/services/machine-learning/" rel="noopener ugc nofollow" target="_blank"> <strong class="ak"> Azure机器学习</strong> </a> <strong class="ak">(或其他云PaaS解决方案)</strong></h2><ul class=""><li id="06dc" class="mq mr iq ky b kz ml lc mm lf np lj nq ln nr lr mv mw mx my bi translated"><strong class="ky ir">要点:</strong> Azure提供不同级别的机器学习服务，从无代码到低代码，再到托管计算实例；<a class="ae kv" href="https://docs.microsoft.com/en-us/azure/machine-learning/concept-designer" rel="noopener ugc nofollow" target="_blank"><em class="oe">Azure Machine Learning Designer</em></a><em class="oe"/>提供了低/无代码模块与定制python或SQL代码块的平衡</li><li id="6a7c" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">优点:</strong>这提供了广泛的工具(超越管道),并支持与其他云资源的简化集成</li><li id="2145" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">缺点:</strong>这将你的机器学习解决方案与特定的云提供商结合起来，如果扩展不当，可能会变得昂贵</li><li id="8c44" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">如何入门:</strong> <a class="ae kv" href="https://azure.microsoft.com/en-us/free/" rel="noopener ugc nofollow" target="_blank">在这里注册一个免费的Azure账号</a>即可入门。查看下面我的Azure机器学习指南:</li></ul><div class="ns nt gp gr nu nv"><a rel="noopener  ugc nofollow" target="_blank" href="/from-no-code-to-code-in-azure-machine-learning-38ee6b556de2"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">Azure机器学习从无代码到有代码</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">使用骨科多类数据的Azure ML演练</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok kp nv"/></div></div></a></div><h2 id="c3aa" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><a class="ae kv" href="https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.Pipeline.html" rel="noopener ugc nofollow" target="_blank"><strong class="ak">Scikit-Learn</strong></a><strong class="ak">(或其他框架特有的管道)</strong></h2><ul class=""><li id="e7c3" class="mq mr iq ky b kz ml lc mm lf np lj nq ln nr lr mv mw mx my bi translated">要点: Scikit-Learn在其开源库中提供了管道。这允许用户在一个管道流中简单地将预处理、训练和评分串在一起。(<a class="ae kv" href="https://towardsdatascience.com/how-to-use-sklearn-pipelines-for-ridiculously-neat-code-a61ab66ca90d" rel="noopener" target="_blank">例此处</a>)</li><li id="ad2f" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">优点:</strong> Scikit-Learn内置管道易学易用。Scikit-learn被广泛使用，所以用scikit-learn共享和部署不会是一个大问题</li><li id="c4eb" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">缺点:</strong> Scikit-Learn管道也相当依赖于在Scikit-Learn中构建模型。这可以通过一些变通方法解决(<a class="ae kv" href="https://gist.github.com/MaxHalford/9bfaa8daf8b4bc17a7fb7ba58c880675" rel="noopener ugc nofollow" target="_blank">链接到示例</a>)</li><li id="9568" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated"><strong class="ky ir">如何开始:</strong>媒体上的这个例子是一个很好的起点:</li></ul><div class="ns nt gp gr nu nv"><a href="https://towardsdatascience.com/how-to-use-sklearn-pipelines-for-ridiculously-neat-code-a61ab66ca90d" rel="noopener follow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd ir gy z fp oa fr fs ob fu fw ip bi translated">如何将Sklearn管道用于极其简洁的代码</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">我喜欢的关于Scikit-Learn的一切，都在一个地方</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">towardsdatascience.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok kp nv"/></div></div></a></div><h1 id="b38e" class="ne lt iq bd lu nf ng nh lx ni nj nk ma jw nl jx md jz nm ka mg kc nn kd mj no bi translated">Kedro的其他注意事项</h1><h2 id="91e5" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">节点和管道</h2><p id="d5e8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Kedro很好地利用了节点和管道来分解离散的机器学习功能，并将它们串成一个管道(<a class="ae kv" href="https://kedro.readthedocs.io/en/stable/get_started/hello_kedro.html" rel="noopener ugc nofollow" target="_blank"> Kedro有一个很好的hello world教程和一个关于docs的更详细的教程</a></p><p id="8c3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">节点:</strong>节点是由功能、输入和输出组成的管道的离散部分。下面是一个简单的例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="5cd9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这允许您在管道中创建特定的操作(如拆分数据)，这些操作可以很容易地复制到其他机器学习项目中。示例中的输入是用于分割数据的pandas数据帧和分割选项的参数字典(稍后将详细介绍)。总的来说，这最大限度地减少了在jupyter笔记本上更改参数和功能的人工操作。</p><p id="63d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">管道:</strong>管道将节点串在一起，方便数据通过多个函数传递。下面是一个例子。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="e2d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我们看到一个标准的数据科学管道分割预处理数据，训练模型，并对其进行评估。所有这些都是通过将每个节点的输入和输出串联起来实现的。</p><h2 id="9aba" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">数据目录和参数</h2><p id="2698" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">但是数据输出和参数是如何表示的呢？</p><p id="2ce1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有数据都在数据目录yaml文件中表示，所有参数都在其代表性的管道配置yaml文件中捕获</p><p id="cc2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">数据目录:</strong>该yaml文件用于表示管道文件中使用的输入名称。下面是一个例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="8b34" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，您可以看到数据集(蘑菇分类)以. csv文件的形式存储在管道的中间部分。通过运行管道。csv文件保存在目录路径中(所有Kedro型号使用的标准目录路径)。这使得任何人都可以克隆存储库并运行管道，而无需查找文件和更改目录名。</p><p id="b2b3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">参数:</strong>Kedro没有将参数隐藏在jupyter笔记本的函数或参数字典中，而是为每个管道提供了一个yaml文件来存储管道参数。例如，见下文:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="e5ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有这些参数都可以很容易地从管道中引用。这简化了使用机器学习管道的特定参数。</p><p id="39fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Kedro还有很多，包括Kedro-Viz。<a class="ae kv" href="https://kedro.readthedocs.io/en/stable/index.html" rel="noopener ugc nofollow" target="_blank">一定要检查文件</a>。</p><p id="560e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">总的来说，管道可以将特定的个人项目转化为可扩展的机器学习项目，可以很容易地部署到现实世界的解决方案中</strong></p></div><div class="ab cl oo op hu oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="ij ik il im in"><h1 id="31a7" class="ne lt iq bd lu nf ov nh lx ni ow nk ma jw ox jx md jz oy ka mg kc oz kd mj no bi translated">分级编码</h1><p id="913f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">感谢您成为我们社区的一员！在你离开之前:</p><ul class=""><li id="d3ff" class="mq mr iq ky b kz la lc ld lf ms lj mt ln mu lr mv mw mx my bi translated">👏为故事鼓掌，跟着作者走👉</li><li id="3a7a" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">📰查看更多内容请参见<a class="ae kv" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">升级编码刊物</a></li><li id="d453" class="mq mr iq ky b kz mz lc na lf nb lj nc ln nd lr mv mw mx my bi translated">🔔关注我们:<a class="ae kv" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kv" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kv" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">时事通讯</a></li></ul><p id="fe80" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">🚀👉<a class="ae kv" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">加入升级人才集体，找到一份神奇的工作</strong> </a></p></div></div>    
</body>
</html>