<html>
<head>
<title>CodeIgniter 4 Query Builder set() function with update()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有update()的CodeIgniter 4查询构建器set()函数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/codeigniter-4-query-builder-set-function-with-update-a1f5839361e7?source=collection_archive---------5-----------------------#2021-12-22">https://levelup.gitconnected.com/codeigniter-4-query-builder-set-function-with-update-a1f5839361e7?source=collection_archive---------5-----------------------#2021-12-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f8d3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">CodeIgniter 4查询构建器类有一个用于处理<code class="fe ko kp kq kr b">UPDATE</code>数据操作语言(DML)命令的<code class="fe ko kp kq kr b">update()</code>函数。使用<code class="fe ko kp kq kr b">update()</code>作为一个独立的函数调用是完全有效的。然而，还有一个用于设置列值的<code class="fe ko kp kq kr b">set()</code>函数，就像在SQL <code class="fe ko kp kq kr b">UPDATE</code>语句中使用<code class="fe ko kp kq kr b">SET</code>关键字一样。与查询构建器的<code class="fe ko kp kq kr b">where()</code>函数结合使用，你可以很容易地<code class="fe ko kp kq kr b">UPDATE</code>一行或多行的列值。继续阅读了解更多信息…</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ks"><img src="../Images/0fa5742b3591737c40e0ead84128fff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*Y30JbJOx4z5UqwDU.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">图片由<a class="ae le" href="https://pixabay.com/users/openicons-28911/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=97588" rel="noopener ugc nofollow" target="_blank"> OpenIcons </a>来自<a class="ae le" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=97588" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></figcaption></figure><p id="1c84" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="lf">披露</em> </strong>:本帖部分服务和产品链接为附属链接。在没有额外费用给你，你应该通过点击其中一个购买，我会收到佣金。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="f256" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">自我推销:</p><p id="61fe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你喜欢这里写的内容，尽一切办法，把这个博客和你最喜欢的帖子分享给其他可能从中受益或喜欢它的人。既然咖啡是我最喜欢的饮料，如果你愿意，你甚至可以给我买一杯！</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="0fbb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"><em class="lf">openlamp . tech</em></strong>，面向PHP和MySQL开发者的时事通讯。<a class="ae le" href="http://openlamptech.substack.com" rel="noopener ugc nofollow" target="_blank">今天就订阅加入</a>。学习成长。帮助建立一个社区。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="39e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我使用一个简单的'<em class="lf"> employees </em>'表(MySQL)来举例说明这个虚构的数据:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi ln"><img src="../Images/af993fb436236533a56b66b9d7cc3ded.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/0*e7ucSHUnsw-CuNlI"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">所有员工信息。</figcaption></figure><p id="9ff9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我有一个带有<strong class="js iu"> all_emps() </strong>方法的基本EmployeeModel，它提供了来自<em class="lf">‘employees’</em>表的所有数据，如上面的屏幕截图所示:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="ls lt l"/></div></figure><h1 id="8311" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">查询构建器set()、update和where()函数</h1><p id="4ceb" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">我已经在模型中创建了这个<strong class="js iu"> updateEmpLastName() </strong>方法，并使用查询构建器<code class="fe ko kp kq kr b">set()</code>、<code class="fe ko kp kq kr b">update()</code>和<code class="fe ko kp kq kr b">where()</code>函数来编辑雇员的姓氏:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="47f9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后我们可以在我创建的名为<strong class="js iu"> updateLastName() </strong>的控制器方法中调用模型<strong class="js iu"> updateEmpLastName() </strong>方法:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="05b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以在下面的截图中看到，在调用控制器<strong class="js iu"> updateLastName() </strong>方法后，雇员“Jessica Rabbit”现在的姓氏是“Jones”:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/8f97c4f6f762973c2287fe4f5ba2bd49.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/0*GPNgxdxm44dEIgAw"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">使用查询生成器set()、where()和update()函数更新了last_name列。</figcaption></figure></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="3acd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你觉得我博客上的内容有价值，并且想支持我的工作，你可以在我的<a class="ae le" href="https://digitalowlsprose.ck.page/products/appreciation-support" rel="noopener ugc nofollow" target="_blank">小费罐</a>里扔一些零钱。非常感谢！！！</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="2459" class="lu lv it bd lw lx my lz ma mb mz md me mf na mh mi mj nb ml mm mn nc mp mq mr bi translated">查询构建器set()函数—通过链接进行多次调用</h1><p id="3180" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">通过<em class="lf">一个接一个地链接</em>，可以多次调用查询构建器<code class="fe ko kp kq kr b">set()</code>函数，允许您一次在多个列上设置值。在这个下一个模型方法中，<strong class="js iu">updateEmpFirstAndLastName()</strong>，I<em class="lf">chain</em>2 Query Builder<code class="fe ko kp kq kr b">set()</code>共同作用；一个用于<em class="lf">‘名字’</em>列值，一个用于<em class="lf">‘姓氏’</em>列:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="5a34" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">再次关注虚构的<em class="lf">员工3 </em>、<em class="lf">‘杰西卡·琼斯’</em>，我用新数据更新了<em class="lf">‘名字’</em>和<em class="lf">‘姓氏’</em>列。结果见后续截图:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="ls lt l"/></div></figure><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/738bf197161676746ad33e7140ecc580.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/0*v8BW9RlBOQXrgpKw"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">使用查询生成器set()、update()和where()函数更新了first_name和last_name列。</figcaption></figure></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="76f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你是<a class="ae le" href="http://medium.com/" rel="noopener">中</a>成员吗？如果是这样，<a class="ae le" href="https://parabollus.medium.com/subscribe" rel="noopener">在我每次发表博客文章时都会收到一封电子邮件通知</a>如果你更喜欢中型平台。不是会员？别担心！使用<a class="ae le" href="https://parabollus.medium.com/membership" rel="noopener">我的注册链接</a>(我将获得佣金，无需额外费用)并加入。我真的很喜欢阅读所有伟大的内容，我知道你也会！！！</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h2 id="696c" class="ne lv it bd lw nf ng dn ma nh ni dp me kb nj nk mi kf nl nm mm kj nn no mq np bi translated">CodeIgniter 4查询生成器信息资源</h2><p id="1396" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">请访问官方的<a class="ae le" href="https://codeigniter4.github.io/userguide/index.html" rel="noopener ugc nofollow" target="_blank"> CodeIgniter 4文档</a>了解帖子中涉及的任何功能:</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="b090" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一如既往，如果你有任何问题或看到代码中的任何错误，请通过评论让我知道。建设性的意见有助于我提供准确的博客帖子，我非常感激。感谢您的阅读。</p><h2 id="141c" class="ne lv it bd lw nf ng dn ma nh ni dp me kb nj nk mi kf nl nm mm kj nn no mq np bi translated">关闭</h2><p id="16d4" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">查询构建器<code class="fe ko kp kq kr b">set()</code>函数也可以与<code class="fe ko kp kq kr b">insert()</code>函数调用一起使用，我计划在以后的博客文章中介绍这种用法。请务必订阅我的免费时事通讯，<a class="ae le" href="http://openlamptech.substack.com/" rel="noopener ugc nofollow" target="_blank"> OpenLamp.tech </a>，这是一份面向PHP/MySQL开发人员的时事通讯，并关注PHP和SQL相关内容的最新动态。</p><p id="d487" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">喜欢你读过的？看到什么不正确的吗？请在下面评论，感谢阅读！！！</p><h1 id="c61c" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">行动的号召！</h1><p id="767e" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">感谢你花时间阅读这篇文章。我真心希望你发现了一些有趣和有启发性的东西。请在这里与你认识的其他人分享你的发现，他们也会从中获得同样的价值。</p><p id="339b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">访问<a class="ae le" href="https://wp.me/P28ctb-3KD" rel="noopener ugc nofollow" target="_blank">投资组合-项目页面</a>，查看我为客户完成的博客帖子/技术写作。</p><p id="1198" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我非常喜欢喝咖啡。帮我一把！T9】</p><p id="bc67" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要在最新的博客文章发表时收到来自本博客(“数字猫头鹰散文”)的电子邮件通知(绝不是垃圾邮件)，请点击“点击订阅！”按钮在首页的侧边栏！(如有任何问题，请随时查看<a class="ae le" href="https://wp.me/P28ctb-3gI" rel="noopener ugc nofollow" target="_blank"> Digital Owl的散文隐私政策页面</a>:电子邮件更新、选择加入、选择退出、联系表格等……)</p><p id="b9fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请务必访问<a class="ae le" href="https://joshuaotwell.com/where-blog_post-in-digital-owls-prose-best-of/" rel="noopener ugc nofollow" target="_blank">“最佳”</a>页面，收集我的最佳博文。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="e94a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae le" href="https://joshuaotwell.com/about/" rel="noopener ugc nofollow" target="_blank"> Josh Otwell </a>作为一名SQL开发人员和博客作者，他热衷于学习和成长。其他最喜欢的活动是让他埋头于一本好书、一篇文章或Linux命令行。其中，他喜欢桌面RPG游戏，阅读奇幻小说，并与妻子和两个女儿共度时光。</p><p id="0b0b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">免责声明:本文中的例子是关于如何实现类似结果的假设。它们不是最好的解决方案。所提供的大多数(如果不是全部)示例都是在个人发展/学习工作站环境中执行的，不应被视为生产质量或就绪。您的特定目标和需求可能会有所不同。使用那些最有利于你的需求和目标的实践。观点是我自己的。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="26b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="lf"> OpenLamp.tech </em> </strong>，面向PHP和MySQL开发者的简讯。<a class="ae le" href="http://openlamptech.substack.com" rel="noopener ugc nofollow" target="_blank">今天就加入</a>我们。一起学习，一起成长。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="9738" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="lf">有什么可以帮你的</em> </strong>？</p><ul class=""><li id="5b58" class="nq nr it js b jt ju jx jy kb ns kf nt kj nu kn nv nw nx ny bi translated">你想开一个博客吗？我用WordPress写博客。让我们都在提供的计划上省钱。💸</li><li id="056c" class="nq nr it js b jt nz jx oa kb ob kf oc kj od kn nv nw nx ny bi translated">从<a class="ae le" href="https://www.etsy.com/shop/digitalowlsprose/" rel="noopener ugc nofollow" target="_blank">我的Etsy商店</a>获取Gmail HTML电子邮件签名模板，让您的电子邮件更加醒目。✉️</li><li id="41cc" class="nq nr it js b jt nz jx oa kb ob kf oc kj od kn nv nw nx ny bi translated">需要托管你的下一个网络应用程序或WordPress网站吗？我使用并强烈推荐<a class="ae le" href="https://www.hostg.xyz/aff_c?offer_id=6&amp;aff_id=94641" rel="noopener ugc nofollow" target="_blank"> Hostinger </a>。他们有很好的价格和服务。</li></ul></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="a171" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="lf">原载于2021年12月22日</em><a class="ae le" href="https://joshuaotwell.com/codeigniter-4-query-builder-set-function-with-update/" rel="noopener ugc nofollow" target="_blank"><em class="lf">https://joshuaotwell.com</em></a>T22。</p></div></div>    
</body>
</html>