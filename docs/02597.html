<html>
<head>
<title>Introduction to Vue.js Custom Events</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js自定义事件介绍</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introduction-to-vue-js-custom-events-9bc752922902?source=collection_archive---------8-----------------------#2020-03-24">https://levelup.gitconnected.com/introduction-to-vue-js-custom-events-9bc752922902?source=collection_archive---------8-----------------------#2020-03-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/dad784a6136695dfd3df80b7feda8a12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0qmP5BXf1bjBQbWY"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">由<a class="ae kf" href="https://unsplash.com/@arizonanthony?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">安东尼·坎廷</a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="e6b6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Vue.js是一个易于使用的web应用框架，我们可以利用它来开发交互式前端应用。</p><p id="3944" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将了解如何定义和发出自定义事件，进行双向绑定，以及侦听本机事件。</p><h1 id="947e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">事件名称</h1><p id="a2fe" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">Vue不会自动转换事件名称。发出的事件的名称必须与用于侦听事件的名称相匹配。</p><p id="4928" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，如果一个组件发出一个<code class="fe mh mi mj mk b">someEvent</code>事件:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="5360" class="mt lf it mk b gy mu mv l mw mx">this.$emit('someEvent')</span></pre><p id="d2d7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我们必须监听父组件中的<code class="fe mh mi mj mk b">someEvent</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="b760" class="mt lf it mk b gy mu mv l mw mx">&lt;child v-on:someEvent="doSomething"&gt;&lt;/child&gt;</span></pre><p id="784b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在JavaScript中，事件名永远不会被用作变量或属性名，所以没有理由使用camelCase或PascalCase。<code class="fe mh mi mj mk b">v-on</code>会自动将所有内容转换成小写，因为HTML不区分大小写。</p><p id="b52a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以<code class="fe mh mi mj mk b">v-on:someEvent</code>会变成<code class="fe mh mi mj mk b">v-on:someevent</code>。</p><p id="d2cd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，总是使用烤肉串作为事件名称是个好主意。</p><h1 id="c127" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">定制组件v模型</h1><p id="1508" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">默认情况下，组件上的<code class="fe mh mi mj mk b">v-model</code>使用<code class="fe mh mi mj mk b">value</code>作为道具，使用<code class="fe mh mi mj mk b">input</code>作为事件，但是一些输入类型，比如复选框和单选按钮，可能会出于不同的目的使用<code class="fe mh mi mj mk b">value</code>属性。</p><p id="fcad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要更改属性名，我们可以设置<code class="fe mh mi mj mk b">model</code>选项以避免冲突。</p><p id="dcda" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以编写如下代码:</p><p id="833d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">src/index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="3f9c" class="mt lf it mk b gy mu mv l mw mx">Vue.component("our-input", {<br/>  inheritAttrs: false,<br/>  model: {<br/>    prop: "val",<br/>    event: "inputted"<br/>  },<br/>  template: `    <br/>    &lt;input        <br/>      v-bind:value="val"<br/>      v-on:input="$emit('inputted', $event.target.value)"<br/>    &gt;    <br/>  `<br/>});<br/>new Vue({<br/>  el: "#app",<br/>  data: {<br/>    msg: ""<br/>  }<br/>});</span></pre><p id="c571" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="7c31" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kf" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;our-input v-model="msg"&gt;&lt;/our-input&gt;<br/>      &lt;p&gt;{{msg}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="3696" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们更改了输入值的属性名和<code class="fe mh mi mj mk b">model</code>对象中的事件名，如下所示:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="8023" class="mt lf it mk b gy mu mv l mw mx">model: {<br/>  prop: "val",<br/>  event: "inputted"<br/>}</span></pre><p id="a0fe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe mh mi mj mk b">our-input</code>的<code class="fe mh mi mj mk b">input</code>中，我们写道:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="979b" class="mt lf it mk b gy mu mv l mw mx">&lt;input        <br/>  v-bind:value="val"<br/>  v-on:input="$emit('inputted', $event.target.value)"<br/>&gt;</span></pre><p id="a95d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">发出的是<code class="fe mh mi mj mk b">inputted</code>事件，而不是通常的<code class="fe mh mi mj mk b">input</code>事件，我们将输入值绑定到<code class="fe mh mi mj mk b">val</code>而不是默认的<code class="fe mh mi mj mk b">value</code>。</p><p id="dec2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在<code class="fe mh mi mj mk b">index.html</code>中，我们照常使用<code class="fe mh mi mj mk b">v-model</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="9993" class="mt lf it mk b gy mu mv l mw mx">&lt;our-input v-model="msg"&gt;&lt;/our-input&gt;</span></pre><p id="c620" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，当我们输入数据时，我们仍然看到它显示在输入下方。</p><p id="a36c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个特性从Vue 2.2.0开始就有了。</p><h1 id="0c6d" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">将本机事件绑定到组件</h1><p id="d4a9" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们可以通过将<code class="fe mh mi mj mk b">.native</code>修饰符应用到<code class="fe mh mi mj mk b">v-on</code>来绑定到本地事件。然而，如果我们的元素四处移动，那么它会无声无息地破裂。</p><p id="fc2a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Vue提供了一个<code class="fe mh mi mj mk b">$listeners</code>属性，包含一个组件上使用的监听器对象。</p><p id="4002" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它看起来像下面这样:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="4fc4" class="mt lf it mk b gy mu mv l mw mx">{   <br/>  focus(event) { /* ... */ }   <br/>  input(value) { /* ... */ }, <br/>}</span></pre><p id="08a7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用<code class="fe mh mi mj mk b">v-on='$listeners'</code>代码将组件上的监听器转发给特定的子组件。</p><p id="7f40" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，我们可以编写以下代码，将所有侦听器合并到一个<code class="fe mh mi mj mk b">inputListeners</code>计算属性中，然后使用如下的<code class="fe mh mi mj mk b">v-on</code>指令:</p><p id="b25c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">src/index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="2816" class="mt lf it mk b gy mu mv l mw mx">Vue.component("our-input", {<br/>  inheritAttrs: false,<br/>  props: ["value"],<br/>  computed: {<br/>    inputListeners() {<br/>      var vm = this;<br/>      return Object.assign({}, this.$listeners, {<br/>        input(event) {<br/>          vm.$emit("input", event.target.value);<br/>        }<br/>      });<br/>    }<br/>  },<br/>  template: `          <br/>    &lt;input<br/>      v-bind="$attrs"<br/>      v-bind:value="value"<br/>      v-on="inputListeners"<br/>    &gt;    <br/>  `<br/>});</span><span id="40b2" class="mt lf it mk b gy my mv l mw mx">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    msg: ""<br/>  }<br/>});</span></pre><p id="a3eb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="6ca6" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kf" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;our-input v-model="msg"&gt;&lt;/our-input&gt;<br/>      &lt;p&gt;{{msg}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="6afe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mh mi mj mk b">src/index.js</code>中，我们将<code class="fe mh mi mj mk b">input</code>事件处理程序合并到了<code class="fe mh mi mj mk b">this.$listeners</code>对象中，该对象拥有所有的监听器。</p><p id="9bbb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，当我们在输入中键入一些内容时，输入的数据会显示在它的下方。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/d8439df262d6056b3c4e5bdbb4917d0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MRRgAbzJAGyT7Dkl"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@luc_dobigeon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Luc Dobigeon </a>在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="3621" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">。同步修改器</h1><p id="dd47" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">为了在我们的代码中澄清我们正在进行双向绑定，建议我们发出前缀为<code class="fe mh mi mj mk b">update:</code>的事件，因此如果我们除了传入props之外还在更新一个值，我们可以编写以下代码:</p><p id="3c91" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">src/index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="1ec6" class="mt lf it mk b gy mu mv l mw mx">Vue.component("child", {<br/>  inheritAttrs: false,<br/>  props: ["value"],<br/>  template: `          <br/>    &lt;button v-on:click='$emit("update:value", Math.random())'&gt;Generate Random Number&lt;/button&gt;   <br/>  `<br/>});</span><span id="50c5" class="mt lf it mk b gy my mv l mw mx">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    value: 1<br/>  }<br/>});</span></pre><p id="43d5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="9471" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kf" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;child :value="value" v-on:update:value="value = $event"&gt;&lt;/child&gt;<br/>      &lt;p&gt;{{value}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="cbc5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<code class="fe mh mi mj mk b">index.html</code>中，我们通过编写<code class="fe mh mi mj mk b">:value=”value”</code>将<code class="fe mh mi mj mk b">value</code>属性传入<code class="fe mh mi mj mk b">child</code>来明确我们正在将一个值从父节点传入<code class="fe mh mi mj mk b">child</code>。</p><p id="1f02" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们还有:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="8e48" class="mt lf it mk b gy mu mv l mw mx">v-on:update:value="value = $event"</span></pre><p id="a34a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了让我们清楚，我们正在用<code class="fe mh mi mj mk b">$event</code>对象更新<code class="fe mh mi mj mk b">value</code>的值，该对象具有由<code class="fe mh mi mj mk b">update:value</code>事件发出的数字。</p><p id="724e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从Vue 2.3.0开始，我们可以通过使用<code class="fe mh mi mj mk b">.sync</code>修饰符将两个指令合并成一个来缩短这个过程。</p><p id="0280" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以将上面的代码缩短如下:</p><p id="a688" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">src/index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="606b" class="mt lf it mk b gy mu mv l mw mx">Vue.component("child", {<br/>  inheritAttrs: false,<br/>  props: ["value"],<br/>  template: `          <br/>    &lt;button v-on:click='$emit("update:value", Math.random())'&gt;Generate Random Number&lt;/button&gt;   <br/>  `<br/>});</span><span id="92e3" class="mt lf it mk b gy my mv l mw mx">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    value: 1<br/>  }<br/>});</span></pre><p id="9802" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="058b" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kf" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;child v-bind:value.sync="value"&gt;&lt;/child&gt;<br/>      &lt;p&gt;{{value}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="a7ad" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们有:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="6a1f" class="mt lf it mk b gy mu mv l mw mx">&lt;child v-bind:value.sync="value"&gt;&lt;/child&gt;</span></pre><p id="4075" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这与以下内容相同:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="4e45" class="mt lf it mk b gy mu mv l mw mx">&lt;child :value="value" v-on:update:value="value = $event"&gt;&lt;/child&gt;</span></pre><p id="3cfd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">src/index.js</code>保持不变。</p><p id="6d60" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">带<code class="fe mh mi mj mk b">.sync</code>修饰符的<code class="fe mh mi mj mk b">v-bind</code>不适用于表达式。我们也可以用它一次设置多个道具。</p><p id="33a7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以将<code class="fe mh mi mj mk b">.sync</code>和一个宾语一起使用，如下所示:</p><p id="2441" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">src/index.js</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="fdde" class="mt lf it mk b gy mu mv l mw mx">Vue.component("child", {<br/>  inheritAttrs: false,<br/>  props: ["value"],<br/>  template: `          <br/>    &lt;button v-on:click='$emit("update:value", { firstName: "Joe", lastName: "Smith" })'&gt;Generate Person&lt;/button&gt;   <br/>  `<br/>});</span><span id="68eb" class="mt lf it mk b gy my mv l mw mx">new Vue({<br/>  el: "#app",<br/>  data: {<br/>    person: {}<br/>  }<br/>});</span></pre><p id="84d3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">index.html</code>:</p><pre class="ml mm mn mo gt mp mk mq mr aw ms bi"><span id="85a9" class="mt lf it mk b gy mu mv l mw mx">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;App&lt;/title&gt;<br/>    &lt;meta charset="UTF-8" /&gt;<br/>    &lt;script src="<a class="ae kf" href="https://cdn.jsdelivr.net/npm/vue/dist/vue.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/npm/vue/dist/vue.js</a>"&gt;&lt;/script&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div id="app"&gt;<br/>      &lt;child v-bind:value.sync="person"&gt;&lt;/child&gt;<br/>      &lt;p&gt;{{person.firstName}} {{person.lastName}}&lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;script src="src/index.js"&gt;&lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="cf48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，当我们单击Generate Person按钮时，会显示出<code class="fe mh mi mj mk b">Joe Smith</code>。</p><p id="66a0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mh mi mj mk b">v-bind.sync</code>仅适用于对象名称。它不适用于对象文字。</p><h1 id="77f5" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">结论</h1><p id="0492" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">当我们想在自定义组件上使用<code class="fe mh mi mj mk b">v-model</code>但不想使用默认名称时，我们可以使用<code class="fe mh mi mj mk b">model</code>来更改属性和事件名称。</p><p id="cff7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要使用本地侦听器，我们可以使用<code class="fe mh mi mj mk b">this.$listeners</code>来获取所有可用的侦听器，然后将它们与我们自己的事件处理程序合并。</p><p id="8103" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们可以使用<code class="fe mh mi mj mk b">.sync</code>修饰符通过一个简写指令进行双向数据绑定。</p></div></div>    
</body>
</html>