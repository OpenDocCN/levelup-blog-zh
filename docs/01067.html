<html>
<head>
<title>Setup React Native Web App with TypeScript and WebPack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">安装程序使用TypeScript和WebPack反应本机Web应用程序</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/setup-react-native-web-app-with-typescript-and-webpack-ff79062f53ba?source=collection_archive---------1-----------------------#2019-11-03">https://levelup.gitconnected.com/setup-react-native-web-app-with-typescript-and-webpack-ff79062f53ba?source=collection_archive---------1-----------------------#2019-11-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4569" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">这篇文章原本是</em><a class="ae km" href="https://blog.kiprosh.com/setup-react-native-web-app-with-typescript-and-webpack/" rel="noopener ugc nofollow" target="_blank"><em class="kl"/></a><em class="kl">贴在我们</em> <a class="ae km" href="https://kiprosh.com" rel="noopener ugc nofollow" target="_blank"> <em class="kl">公司网站</em> </a> <em class="kl">上。Kiprosh是一家来自孟买的软件开发公司。</em></p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/e87889abaa43b4f2c964df30833a3ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rpHtt5VicGT3T-mVJJ2jFw.gif"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图片来自官方<a class="ae km" href="https://facebook.github.io/react-native/" rel="noopener ugc nofollow" target="_blank"> react-native网站</a></figcaption></figure><p id="6e69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，我们将在本地设置React本地web应用程序，并部署在<a class="ae km" href="https://render.com" rel="noopener ugc nofollow" target="_blank">渲染</a>上。</p><p id="18fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们开始安装<a class="ae km" href="https://github.com/necolas/react-native-web" rel="noopener ugc nofollow" target="_blank"> react-native-web </a>之前，我假设您已经在您的机器上安装了<a class="ae km" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> NodeJs </a>、<a class="ae km" href="https://yarnpkg.com/lang/en/" rel="noopener ugc nofollow" target="_blank"> yarn </a>和<a class="ae km" href="https://www.npmjs.com/package/react-native-cli" rel="noopener ugc nofollow" target="_blank"> react-native-cli </a>。</p><h2 id="7f24" class="ld le iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">步骤1 -&gt;设置用Typescript反应本机应用程序</h2><p id="b598" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">要创建react本地应用程序，您需要运行以下命令</p><pre class="ko kp kq kr gt mb mc md me aw mf bi"><span id="b8df" class="ld le iq mc b gy mg mh l mi mj">react-native init ReactNativeWebApp</span></pre><p id="6fc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该命令将创建react本地应用程序，您的应用程序目录将如图1.1所示</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/c131ee90c5661c6e340bd069ef49b726.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*PaW3MnjTGfs399rQIFWZKg.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.1:项目根</figcaption></figure><p id="968b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要将typescript添加到我们的应用程序中，首先我们需要安装<a class="ae km" href="https://github.com/ds300/react-native-typescript-transformer#step-1-install" rel="noopener ugc nofollow" target="_blank">react-native-typescript-transformer</a></p><pre class="ko kp kq kr gt mb mc md me aw mf bi"><span id="c17b" class="ld le iq mc b gy mg mh l mi mj">yarn add --dev react-native-typescript-transformer typescript</span></pre><p id="a4ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在项目的根目录下创建一个名为<code class="fe ml mm mn mc b">tsconfig.json</code>的新文件，并复制粘贴如代码片段1.1所示的JSON</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">代码片段1.1: tsconfig.json</figcaption></figure><p id="151d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">将<code class="fe ml mm mn mc b">tslint.json</code>添加到项目的根目录中，并复制粘贴代码片段1.2中的JSON内容</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">代码片段1.2: tslint.json</figcaption></figure><p id="90bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，将App.js重命名为App.tsx，并添加React和React Native类型</p><pre class="ko kp kq kr gt mb mc md me aw mf bi"><span id="1cbd" class="ld le iq mc b gy mg mh l mi mj">yarn add --dev @types/react @types/react-native</span></pre><p id="6715" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">App.tsx的最终更改如代码片段1.3所示</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">代码片段1.3: App.tsx</figcaption></figure><p id="ca7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在运行<code class="fe ml mm mn mc b">yarn ios</code>或<code class="fe ml mm mn mc b">yarn android</code>，你会看到如图1.3所示的屏幕</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/3c7fda67f7cd868a4f5de56b6d67197d.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*OrNppNCibHQIlS-awoxpuA.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.3手机的最终快照</figcaption></figure><h2 id="2673" class="ld le iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">步骤2 -&gt;设置React本机Web和Webpack</h2><p id="6825" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">将<a class="ae km" href="https://www.npmjs.com/package/react-dom" rel="noopener ugc nofollow" target="_blank"> react-dom </a>和<a class="ae km" href="https://www.npmjs.com/package/react-native-web" rel="noopener ugc nofollow" target="_blank"> react-native-web </a>添加到项目中</p><pre class="ko kp kq kr gt mb mc md me aw mf bi"><span id="ab7f" class="ld le iq mc b gy mg mh l mi mj">yarn add react-dom react-native-web</span></pre><p id="ba37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在项目的根目录中创建一个名为web的目录，并在web目录中添加index.html(代码片段1.4)。</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">辛佩特1.4:index.html</figcaption></figure><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/f7595eb419846e7e518e3f06f533d08d.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/1*E7VKOe-tClTUCGKaYTGNjg.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.2:添加index.html后</figcaption></figure><p id="ba97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在web目录中添加webpack及其配置。要了解更多关于webpack的信息，请访问https://webpack.js.org/<a class="ae km" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank">网站</a>，要了解webpack-dev-server，请访问https://webpack.js.org/configuration/dev-server/</p><pre class="ko kp kq kr gt mb mc md me aw mf bi"><span id="9063" class="ld le iq mc b gy mg mh l mi mj">yarn add --dev webpack webpack-cli webpack-dev-server</span></pre><p id="589d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要添加webpack配置，首先我们需要在<code class="fe ml mm mn mc b">web</code>目录下创建一个名为<code class="fe ml mm mn mc b">webpack.config.js</code>的文件，然后将代码片段1.5中的粘贴内容复制到<code class="fe ml mm mn mc b">webpack.config.js</code></p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">代码片段1.5 webpack.config.js</figcaption></figure><p id="111d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们已经使用了<code class="fe ml mm mn mc b"><a class="ae km" href="https://webpack.js.org/plugins/html-webpack-plugin/" rel="noopener ugc nofollow" target="_blank">html-webpack-plugin</a></code>、<code class="fe ml mm mn mc b"><a class="ae km" href="https://github.com/TypeStrong/ts-loader" rel="noopener ugc nofollow" target="_blank">ts-loader</a></code>，我们需要在开始开发之前将它们添加到我们的项目中</p><pre class="ko kp kq kr gt mb mc md me aw mf bi"><span id="55c0" class="ld le iq mc b gy mg mh l mi mj">yarn add --dev html-webpack-plugin ts-loader</span></pre><p id="a3d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在将<code class="fe ml mm mn mc b">index.web.ts</code>添加到项目的根目录，并将代码片段1.6中的内容复制粘贴到<code class="fe ml mm mn mc b">index.web.ts</code></p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="mo mp l"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">代码片段1.6: index.web.ts</figcaption></figure><p id="8128" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在在package.json中添加<code class="fe ml mm mn mc b">web</code>脚本命令，如图1.4所示</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/8fd4f50365803ce348db828b54761dc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*MxClUbkZkPBf0JOw-vYyeQ.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.4:纱网命令</figcaption></figure><p id="36d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行<code class="fe ml mm mn mc b">yarn web</code>命令并访问<code class="fe ml mm mn mc b"><a class="ae km" href="http://localhost:8080" rel="noopener ugc nofollow" target="_blank">localhost:8080</a></code>。您将看到如下图所示的屏幕(图1.5)</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mt"><img src="../Images/8ee370478024f75091376eb95ee1efb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I2xGiBMFRNvgVMS2uw4ZRw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.5:网络的最终快照</figcaption></figure><h2 id="add6" class="ld le iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">步骤3 -&gt;部署web应用程序</h2><p id="02d4" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">将以下脚本命令添加到<code class="fe ml mm mn mc b">package.json</code>并创建一个可部署的<code class="fe ml mm mn mc b">dist</code>源</p><pre class="ko kp kq kr gt mb mc md me aw mf bi"><span id="9a31" class="ld le iq mc b gy mg mh l mi mj">"build:web": "cd web &amp;&amp; webpack"</span></pre><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/e5561fa3a71fa7ccc415d4b703549d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*OpgVg3HcbHmntcTVZtT5Sw.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.6:脚本命令的差异</figcaption></figure><p id="5627" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后运行<code class="fe ml mm mn mc b">yarn build:web</code>，这将创建一个名为<code class="fe ml mm mn mc b">dist</code>的新文件夹，其中包含运行web应用程序所需的文件</p><p id="cac4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">打开。git忽略并搜索生产，然后在生产下面添加/删除，确保它未被注释，如下所示</p><pre class="ko kp kq kr gt mb mc md me aw mf bi"><span id="ca24" class="ld le iq mc b gy mg mh l mi mj"># production<br/>/dist<br/>/build</span></pre><p id="d43a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将在<a class="ae km" href="https://render.com/" rel="noopener ugc nofollow" target="_blank">渲染</a>云平台上部署web app。要设置连续部署，请执行以下步骤</p><ul class=""><li id="6995" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated">创建账号(Render仅支持Github / GitLab)。</li><li id="bc30" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">如果您成功创建了一个帐户，您将会看到一个如图1.7所示的控制面板</li></ul><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mt"><img src="../Images/fa7f0bc4013a7e36d8f78b0907ea83a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aLWn-91TNdHYf2ysnBfyzA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.7:渲染仪表板</figcaption></figure><ul class=""><li id="9341" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated">现在点击<code class="fe ml mm mn mc b">New Web Service</code>按钮，连接Github并在react本地web应用程序库上安装render</li><li id="ad79" class="mv mw iq jp b jq ne ju nf jy ng kc nh kg ni kk na nb nc nd bi translated">然后，您将在这里看到您的应用程序/存储库<a class="ae km" href="https://dashboard.render.com/select-repo?type=web" rel="noopener ugc nofollow" target="_blank">https://dashboard.render.com/select-repo?type=web</a></li></ul><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mt"><img src="../Images/466db4f9813619d1e46787293321e533.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*THfiTlgBKFOJ7JwIpWN_NA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.8:您的存储库</figcaption></figure><ul class=""><li id="2c66" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated">选择您的repo并添加以下设置，如图1.9所示，除了名称，为您的应用程序选择不同的唯一名称，然后单击创建web服务</li></ul><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mt"><img src="../Images/167c6836bd003dfe91ba54f66193aed9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3raeldFim9uCBif9dGnr7A.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.9:渲染设置</figcaption></figure><ul class=""><li id="2895" class="mv mw iq jp b jq jr ju jv jy mx kc my kg mz kk na nb nc nd bi translated">如果一切按预期进行，那么你可以通过渲染提供的链接访问你的站点，链接在图1.10中高亮显示</li></ul><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi mt"><img src="../Images/d60e0e0b750b815a7cbc08dfd333e3a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V3zwaupHSk5a9-OozxbFTg.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">图1.10:你会在高亮区域看到你的链接</figcaption></figure><p id="2201" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所有的源代码都可以在https://github.com/vemarav/ReactNativeWebPlayground的<a class="ae km" href="https://github.com/vemarav/ReactNativeWebPlayground" rel="noopener ugc nofollow" target="_blank">找到</a></p><p id="4da9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">如果你面临任何问题，请发表评论📝 👇提到这个问题。</em></p><p id="bbdb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">打</em> <strong class="jp ir"> <em class="kl">👏</em> </strong> <em class="kl">如果你喜欢这篇文章或者它在某些方面帮助了你。掌声激励我写更多这样的文章/教程。</em></p></div></div>    
</body>
</html>