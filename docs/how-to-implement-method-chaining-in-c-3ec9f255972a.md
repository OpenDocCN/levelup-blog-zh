# å¦‚ä½•åœ¨ C++ä¸­å®ç°æ–¹æ³•é“¾

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/how-to-implement-method-chaining-in-c-3ec9f255972a>

## C++åŸºç¡€

## ğŸ–‡ChainğŸ–‡YourğŸ–‡MethodsğŸ–‡

![](img/96c949be0d84f0b49a0b5141acfaa56a.png)

ç…§ç‰‡ç”± [Hush Naidoo Jade æ‘„å½±](https://unsplash.com/@hush52?utm_source=medium&utm_medium=referral)åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„

# ä»‹ç»

**æ–¹æ³•é“¾æ¥**æ˜¯ä½¿ç”¨ OOPs åŸç†è®¾è®¡è½¯ä»¶çš„ä¼—å¤šä¼˜ç‚¹ä¹‹ä¸€ã€‚è¿™æ˜¯ä¸€ç§ä¸€æ¬¡æ€§è°ƒç”¨å¤šä¸ªå‡½æ•°è€Œä¸æ˜¯åˆ†åˆ«è°ƒç”¨å®ƒä»¬çš„åšæ³•ã€‚ä¹Ÿè¢«ç§°ä¸º**å‚æ•°ä¹ è¯­**ã€‚å¦‚æœæ–¹æ³•é“¾æ¥å®ç°å¾—å½“ï¼Œå®ƒä¼šä½¿ä»£ç çœ‹èµ·æ¥æ›´ä¼˜é›…ï¼Œæ›´å®¹æ˜“é˜…è¯»ã€‚æœ¬æ–‡å…³æ³¨çš„æ˜¯ C++ï¼Œä½†æ˜¯æ–¹æ³•é“¾æ¥å¯ä»¥åœ¨ä»»ä½•åŸºäº OOPs çš„ç¼–ç¨‹è¯­è¨€ä¸­å®ç°ã€‚

å¦‚å‰æ‰€è¿°ï¼Œæ–¹æ³•é“¾æ˜¯ä¸€ç§ä¸€æ¬¡æ€§è°ƒç”¨å¤šä¸ªå‡½æ•°çš„å®è·µã€‚åœ¨æˆ‘ä»¬ç»§ç»­ä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ·±å…¥äº†è§£ç±»å’Œå¯¹è±¡çš„åŸºç¡€çŸ¥è¯†ã€‚å‡è®¾æœ‰ä¸€ä¸ª`**class List**`ï¼Œå®ƒæœ‰ä¸¤ä¸ªåŠŸèƒ½`**append**` å’Œ`**print**` ã€‚æ‰€ä»¥è¦è°ƒç”¨è¿™äº›å‡½æ•°ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ª *List* ç±»çš„å¯¹è±¡ã€‚æ²¡æœ‰è¿™ä¸ªç±»çš„å¼•ç”¨ï¼Œæˆ‘ä»¬å°†æ— æ³•è®¿é—®è¿™äº›å‡½æ•°ã€‚

ä¸‹é¢ç»™å‡ºçš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†ä½¿ç”¨å¯¹è±¡è°ƒç”¨ç±»æ–¹æ³•çš„ä¼ ç»Ÿæ–¹å¼ã€‚

```
List obj;
obj.append(10);
obj.append(20);
obj.print();
```

ä¸‹é¢ç»™å‡ºçš„ä»£ç ç‰‡æ®µæ˜¯æˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡ã€‚

```
List obj;
obj.append(10).append(20).print();
```

## å…ˆå†³æ¡ä»¶:

ä¸ºäº†ç†è§£è¿™ç¯‡æ–‡ç« ï¼Œè¯»è€…åº”è¯¥ç†Ÿæ‚‰ä»¥ä¸‹ä¸»é¢˜ã€‚

*   ç±»åˆ«å’Œå¯¹è±¡
*   é—äº§
*   **c++ä¸­çš„è¿™ä¸ª**å…³é”®å­—(æ˜¯æŒ‡å‘å½“å‰å¯¹è±¡å®ä¾‹çš„æŒ‡é’ˆ)
*   æ„é€ å™¨
*   æ¨¡æ¿
*   é“…å­—é“¸é€ 

# å¦‚æœæ²¡æœ‰é—äº§

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ç°æ–¹æ³•é“¾æ¥éå¸¸ç®€å•ã€‚å¦‚å‰æ‰€è¿°ï¼Œè¦è®¿é—®æˆå‘˜å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¯¥ç±»çš„å¯¹è±¡ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬ä»æˆå‘˜å‡½æ•°è¿”å›***è¿™ä¸ª**ï¼Œæˆ‘ä»¬å°±å®ç°äº†æ–¹æ³•é“¾æ¥ã€‚

åœ¨ä¸‹é¢ç»™å‡ºçš„ä¾‹å­ä¸­ï¼Œæœ‰ä¸€ä¸ªå•ç‹¬çš„ç±»(`**class Employee**`)ã€‚åœ¨ç±» *Employee* ã€***çš„æ¯ä¸ªå‡½æ•°ä¸­éƒ½è¿”å›è¿™ä¸ª**æŒ‡é’ˆã€‚

ä¸æ¶‰åŠç»§æ‰¿æ—¶çš„æ–¹æ³•é“¾æ¥ã€‚

å½“è¿è¡Œä¸Šè¿°ä»£ç ç‰‡æ®µæ—¶ï¼Œè·å¾—çš„è¾“å‡ºä¸º:

```
ABC logged in
ABC taking a break
ABC logged out
```

å¦‚æœæˆ‘ä»¬**ä¸**è¿”å› ***thisï¼Œ**ç¼–è¯‘å™¨ä¼šæŠ›å‡ºä¸‹é¢çš„é”™è¯¯ã€‚

![](img/b2794bd80ef3bebc0bbedf7ea7947696.png)

å½“å‡½æ•°è¿”å›**è€Œä¸æ˜¯** *this æ‰§è¡Œæ–¹æ³•é“¾æ¥æ—¶ï¼Œç¼–è¯‘å™¨å‘å‡ºçš„é”™è¯¯æ¶ˆæ¯ã€‚

# åœ¨å¤šçº§é—ä¼ çš„æƒ…å†µä¸‹

å½“æ¶‰åŠåˆ°é—ä¼ æ—¶ï¼Œäº‹æƒ…å°±å˜å¾—æ£˜æ‰‹äº†ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»:`class Employee`å’Œ`class Developer`ï¼Œå…¶ä¸­*å¼€å‘è€…*æ´¾ç”Ÿè‡ª*é›‡å‘˜*ã€‚

ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬éµå¾ªå‰é¢çš„æ–¹æ³•(return ***this** )ï¼Œç¼–è¯‘å™¨å°†æŠ›å‡ºä¸‹é¢çš„é”™è¯¯æ¶ˆæ¯ã€‚

![](img/650be8847bb4d9d8f0b8c115d843bb96.png)

å½“ç±»çš„å‡½æ•°è¿”å› ***this** æ—¶ç¼–è¯‘å™¨ç»™å‡ºçš„é”™è¯¯ä¿¡æ¯ã€‚

è¿™é‡Œçš„ä¸»è¦é—®é¢˜æ˜¯è¿”å›ç±»å‹ã€‚`class Employee`çš„`login`å‡½æ•°è¿”å›ä¸€ä¸ª`Employee`ç±»å‹çš„å¼•ç”¨ï¼Œå®ƒæ²¡æœ‰ä»»ä½•åä¸º work çš„æˆå‘˜å‡½æ•°ã€‚ä¸ºäº†é“¾æ¥å‡½æ•°`work`ï¼Œæˆ‘ä»¬éœ€è¦ç±»å‹`Developer`çš„å¼•ç”¨ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†**æ¨¡æ¿**ã€‚è¿™é‡Œçš„æƒ³æ³•æ˜¯ä½¿åŸºç±»æˆä¸ºæ³›å‹ç±»ï¼Œæ´¾ç”Ÿç±»åœ¨ç»§æ‰¿åŸºç±»çš„åŒæ—¶ä½¿ç”¨è‡ªå·±ä½œä¸ºæ¨¡æ¿å‚æ•°ã€‚è¯·å‚é˜…ä»£ç ç‰‡æ®µä»¥è·å¾—æ›´å¥½çš„ç†è§£ã€‚

```
template <class BaseImpl>
class Base {};class Derived : public Base<Derived> {};
```

ä½†æ˜¯å·¥ä½œå¹¶æ²¡æœ‰åœ¨è¿™é‡Œå®Œæˆã€‚åœ¨åŸºç±»çš„æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†å¼•ç”¨`using static_cast`è½¬æ¢ä¸ºæ´¾ç”Ÿç±»çš„ç±»å‹ï¼Œä»¥æ¯«ä¸è´¹åŠ›åœ°é“¾æ¥è¿™äº›æ–¹æ³•ã€‚

> static_cast å¯ä»¥åœ¨æŒ‡å‘ç›¸å…³ç±»çš„æŒ‡é’ˆä¹‹é—´æ‰§è¡Œè½¬æ¢ï¼Œä¸ä»…æ˜¯ä»æ´¾ç”Ÿç±»åˆ°å…¶åŸºç±»ï¼Œè¿˜å¯ä»¥ä»åŸºç±»åˆ°å…¶æ´¾ç”Ÿç±»ã€‚

```
template <class BaseImpl>
class Base {
  public:
  BaseImpl &funcBase() {
    // do your stuff
    return static_cast<BaseImpl&>(*this);
  }
};class Derived : public Base <Derived> {
  public:
  Derived &funcDerived() {
    // do your stuff
    return *this;
  }
};
```

åœ¨ä¸‹é¢ç»™å‡ºçš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰ 3 ä¸ªç±»:`**class Employee**`ã€`**class Developer**`å’Œ`**class HR**`ã€**ã€**ã€‚

*   `class Employee`æ˜¯é€šç”¨åŸºç±»ã€‚
*   `class Developer`å’Œ`class HR`éƒ½å°†ä»*é›‡å‘˜*ç»§æ‰¿ï¼Œå¹¶å°†è‡ªå·±ä½œä¸ºæ¨¡æ¿å‚æ•°*ä¼ é€’ã€‚*

å…·æœ‰ç»§æ‰¿çš„æ–¹æ³•é“¾æ¥

ä»¥ä¸Šä»£ç çš„è¾“å‡º:

```
Name 1 logged in
Name 1 writing code
Name 1 taking a break
Name 1 writing code
Name 1 logged outName 2 logged in
Name 2 organizing hiring drive
Name 2 organizing company event
Name 2 logged out
```

**ç¬¬ 51 è¡Œ**ä¹Ÿå¯ä»¥å†™æˆ:

```
Developer dev("Name 1");
dev.login().work().takeBreak().work().logout();
```

åœ¨å…·æœ‰ 3 ä¸ªæˆ–æ›´å¤šç±»çš„å¤šçº§ç»§æ‰¿çš„æƒ…å†µä¸‹:

```
template <class Base1Impl>
class Base1 {
  Base1Impl &fun1() {
    return static_cast<Base1Impl&>(*this);
  }
};template <class Base2Impl>
class Base2 : public Base1 <Base2Impl> {
  Base2Impl &fun2() {
    return static_cast<Base2Impl&>(*this);
  }
};class Derived : public Base2 <Derived> {
  Base2Impl &fun3() {
    return *this;
  }
};
```

æ„Ÿè°¢æ‚¨é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚å¸Œæœ›è¿™å¯¹ä½ æœ‰å¸®åŠ©ã€‚åœ¨ [LinkedIn](https://www.linkedin.com/in/ashish-yoel-585a6116a/) ä¸Šå’Œæˆ‘è”ç³»ã€‚å¹²æ¯ğŸ¤œã€‚

## é˜…è¯»æ›´å¤š

[](https://en.wikipedia.org/wiki/Method_chaining) [## æ–¹æ³•é“¾æ¥-ç»´åŸºç™¾ç§‘

### æ–¹æ³•é“¾ï¼Œä¹Ÿç§°ä¸ºå‘½åå‚æ•°ä¹ è¯­ï¼Œæ˜¯è°ƒç”¨å¤šä¸ªæ–¹æ³•è°ƒç”¨çš„å¸¸ç”¨è¯­æ³•

en.wikipedia.org](https://en.wikipedia.org/wiki/Method_chaining) [](https://www.geeksforgeeks.org/this-pointer-in-c/) [## C++ä¸­çš„ this æŒ‡é’ˆ

### è¦ç†è§£â€œthisâ€æŒ‡é’ˆï¼Œäº†è§£å¯¹è±¡å¦‚ä½•çœ‹å¾…ç±»çš„å‡½æ•°å’Œæ•°æ®æˆå‘˜æ˜¯å¾ˆé‡è¦çš„ã€‚æ¯ä¸ªâ€¦

www.geeksforgeeks.org](https://www.geeksforgeeks.org/this-pointer-in-c/) [](https://www.geeksforgeeks.org/static_cast-in-c-type-casting-operators/) [## C++ä¸­çš„ static _ cast |ç±»å‹è½¬æ¢è¿ç®—ç¬¦- GeeksforGeeks

### è½¬æ¢è¿ç®—ç¬¦æ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼Œå®ƒå¼ºåˆ¶å°†ä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹ã€‚C++æ”¯æŒâ€¦

www.geeksforgeeks.org](https://www.geeksforgeeks.org/static_cast-in-c-type-casting-operators/)