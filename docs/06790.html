<html>
<head>
<title>Clean your Code with Encapsulation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用封装清理你的代码</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/clean-you-code-with-encapsulation-25c3c8816902?source=collection_archive---------8-----------------------#2020-12-31">https://levelup.gitconnected.com/clean-you-code-with-encapsulation-25c3c8816902?source=collection_archive---------8-----------------------#2020-12-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7284" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如果过一段时间重新审视你的代码总会打击你的士气，这些提示会派上用场。</h2></div><p id="8a9d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我最近意识到一个概念似乎超越了多种编程范式:<em class="lb">封装</em>。逻辑和数据可以封装在变量、函数、类和模块/包中。我们如何利用这个概念来组织我们的代码呢？</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/a13a7ff5ddfdfe11a610a08fd0c51887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m9cmw2Z4Kx5IYomG"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">照片由<a class="ae ls" href="https://unsplash.com/@altumcode?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> AltumCode </a>在<a class="ae ls" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="c890" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">重复代码</h1><p id="1550" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">偶尔，当我发现自己在编码时按Ctrl + C时，我不禁觉得自己在做一件不可救药的事情。</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="18e9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在没有完全理解别人的代码做什么的情况下复制别人的代码肯定是一种不好的做法，但是复制我自己的代码也增加了我对恶意实体的恐惧:<em class="lb">重复代码</em>。复制我的代码的行为类似于把我的钥匙放在除了通常的位置以外的任何地方。每次我这么做的时候，我都得翻遍我的整个房子才找到我的钥匙。类似地，如果我复制的代码有缺陷，我不得不沮丧地在我庞大的代码库中寻找重复的代码，并修改它们中的每一个。</p><p id="56ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如何才能避免这种情况？使用编程语言支持的结构封装它们，简单地将它们转换成可重用的组件。之后，你可以在任何需要的时候参考它们。</p><h1 id="e0bd" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">挥发性化合物</h1><p id="5006" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">如果您正在构建具有不断变化的需求的项目，那么您更愿意对代码进行尽可能少的更改。封装可以帮助您实现这一目标。</p><p id="6cf9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，我有一个实现回溯来解决N皇后问题的函数:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ms"><img src="../Images/1614e19a2e6ed2bfd10edf707f980826.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w5cYFoX0AGFM_nLFTpkpdA.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">你能马上猜出这个程序在循环中做了什么吗？</figcaption></figure><p id="e766" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">放置一个新的女王后，如果我需要记录每个女王的位置怎么办？我必须研究我的代码，并找到应该添加新代码的地方。</p><p id="ef5f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们通过将不相关的代码包装在函数中来应用一些封装:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ms"><img src="../Images/ca3d1efb037bffdf3e24a1955dd61e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4p1vtZs0TBLRRzpPzEoutQ.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">封装任何可以修改的不相关的实现</figcaption></figure><p id="ccf6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我可以很容易地添加一个函数来记录<code class="fe mt mu mv mw b">placeQueen()</code>函数中皇后的位置。每当我需要修改<code class="fe mt mu mv mw b">backtrack()</code>函数中的任何步骤时，我只需要找到相关的函数并对其进行修改。</p><h1 id="72c9" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">黑魔法</h1><p id="7891" class="pw-post-body-paragraph kf kg iq kh b ki ml jr kk kl mm ju kn ko mn kq kr ks mo ku kv kw mp ky kz la ij bi translated">自古以来，人们就知道黑魔法是由那些能够操纵超自然力量来满足自己自私欲望的人使用的。它以各种形式出现。它们的范围从我妈妈经常用来召唤我丢失的袜子的咒语到第一次尝试成功编译我的代码的神奇编译器(我开玩笑的)。然而，他们都有一个共同的疏忽，人类伦理在其核心。在我作为一个学徒程序员的时间里，我遇到了一种邪恶的形式，这种形式的强大足以让有经验的程序员困惑:冗长而复杂的表达方式。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mx"><img src="../Images/c1862f5a1b0fcebf62afc011ec119a5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jgx8o-7kP-0t2he4FwBr4A.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">您需要多长时间才能了解病情？</figcaption></figure><p id="534e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">“只有农民不理解如此美丽的表达！”，你可能会争辩。如果维护或调试代码的人是编码向导，那么这样做是很好的。如果是这样，您可以忽略此提示。否则，我想提出一种提高可读性的方法:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mx"><img src="../Images/1ea28431b22b99d81bfeb98d10a10f01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GUKzcqcw5y1fzSIchn3_8A.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">现在读它是否不那么令人沮丧？</figcaption></figure><p id="c873" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于那些喜欢单行和“简洁”代码的人来说，创建额外的变量来保存这些表达式无疑是一件麻烦事。然而，如果任何阅读您的代码的人只想快速理解<code class="fe mt mu mv mw b">if</code>语句的作用，那么它就更简洁了。他们(包括你未来的自己)肯定会感激你的体贴。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="b7aa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">简而言之，封装是一种提高代码可读性和可伸缩性的通用方法。谢谢你看了我的文章！如果您对这个话题有什么更好的想法，请在回复中告诉我。</p></div></div>    
</body>
</html>