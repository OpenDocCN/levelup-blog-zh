<html>
<head>
<title>Make the switch to Typescript today</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">今天就改用打字稿吧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/make-the-switch-to-typescript-today-b22c1b8d8f84?source=collection_archive---------16-----------------------#2020-06-23">https://levelup.gitconnected.com/make-the-switch-to-typescript-today-b22c1b8d8f84?source=collection_archive---------16-----------------------#2020-06-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/a19243f81398036be7b85ece1d43bb36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u7OoOikO5YLBpdCHPeugKA.png"/></div></div></figure><p id="6be5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在隔离期间，我花了很多时间研究类型理论和写博客。然后我想我可以通过写一个指导来帮助社区。所以，我们到了。</p><p id="2706" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">即使您是Javascript新手，也可以在几分钟内切换到Typescript。</p><h1 id="c171" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">为什么打字稿？</h1><p id="ae11" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">当您添加类型时，Javascript得到了改进，负面影响最小。它的伸缩性更好，更容易调试，更容易阅读，等等。我再怎么强调类型的重要性也不为过。</p><p id="4e3b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你已经了解Javascript，那么学习Typescript的曲线可以忽略不计。</p><p id="0d86" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，Typescript可以集成到任何有Javascript的地方。我一会儿会解释它是如何工作的。</p><h1 id="3440" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">我们开始吧</h1><p id="eeb3" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">您需要做的第一件事是安装typescript:</p><p id="d873" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">https://www.typescriptlang.org/#download-links<a class="ae mc" href="https://www.typescriptlang.org/#download-links" rel="noopener ugc nofollow" target="_blank"/></p><p id="065d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，导航到您选择的空目录。</p><p id="6e4d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在你的命令行中，写下这个。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="450b" class="mm la it mi b gy mn mo l mp mq">tsc --init</span></pre><p id="cfc0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这将使用该目录的tsconfig(选项)文件初始化typescript编译器。</p><p id="8f6b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们根本不打算更改tsconfig文件。它的默认设置很适合这个教学，但是有很多设置你可以改变。</p><p id="f632" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，创建一个扩展名为. ts的新文件，并随意命名。您的目录现在应该如下所示:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/6dbf2cc0fd61f1fb1f0c3869e44aaffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*3sahzjc3ReF4urL7gO46sA.jpeg"/></div></figure><p id="0490" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就这样，我们准备写一些打字稿。</p><h1 id="e292" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">什么是Typescript？</h1><p id="7c1b" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Typescript是Javascript的超集。这就是为什么很多人认为Typescript甚至不是它自己的语言。您在Typescript中编写的每一段代码要么编译成Javascript，要么在编译时进行检查，以使Javascript代码运行得更好。</p><p id="f7f1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这只是做出改变如此容易的一个原因。如果我们利用类型推断，我们可以编写在各方面都等同于Javascript代码的类型脚本代码，因为最终它实际上是Javascript代码。</p><p id="573e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这也是为什么任何现有的Javascript代码都可以迁移到Typescript。类似地，您可以使用Typescript在任何Javascript代码基础上构建。甚至有可能有一个混合的代码库，一部分是Javascript，一部分是Typescript。这仍然只是Javascript。</p><p id="2511" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它们不能完全互换，但它们非常相似，足以模糊一些界限。</p><p id="28b4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所有内置的方法，如。地图，。减少，。Javascript中内置的长度和其他语法也内置于Typescript中。</p><p id="7bb0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，我可以将它写在我的Typescript文件中。它是有效的类型脚本和Javascript。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/bdbe0be4105428213045a447bcc002f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*rBvx00mXi7KWbpFZIGai1w.jpeg"/></div></figure><p id="9e0f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，当我用以下命令编译这个文件时:</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="afc9" class="mm la it mi b gy mn mo l mp mq">tsc [file name].ts</span></pre><p id="9649" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">注意，Typescript编译器会将我的Typescript文件编译成JS文件:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/b2619b378325da46d22b20c4f78b6737.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*0z8lYkHk8r2LGduSq9s0hg.jpeg"/></div></figure><p id="1197" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">js文件不是我做的。编译器给我做的。</p><p id="622a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我们查看js文件内部时，我们可以看到Typescript编译器是如何解释我的Typescript代码的。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/afd42463963c047a56367c1f66439cf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EzPLtS9_GsLNAIEZWkdDDw.jpeg"/></div></div></figure><p id="f848" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">好了，我的typescript编译器决定使用关键字var，并在末尾添加了一个分号。</p><p id="2281" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是为什么呢？为什么所有这些步骤？</p><p id="375e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">很难理解为什么我们要在一个小项目中这样做。</p><p id="3b84" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我们与多个团队一起处理大型代码库时，Typescript显示了它的真正优势。在您决定编译之前，编译器会自动捕捉所有形式的名称空间和类型检查错误。</p><p id="ddb5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在像微软这样的大公司，可能有5个7人的团队都在同一代码库上工作。因此，如果有35名编码人员在一个环境中编写代码，只需要两个编码人员编写相同的变量名“formInfo”或类似的东西，整个系统就会突然停止工作。Javascript不会有任何线索显示它哪里出错了。</p><p id="a8c1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，编码人员将不得不通读代码库，这可能是数千行代码，试图找出导致失败的原因。</p><p id="5d79" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">另一方面，Typescript会自动捕捉错误并给出警告。</p><p id="5c2f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，如果我们用Javascript写这个:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/8dcadede95572663e462e9bb7bf1d8ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rvU8aGJk_WyryQdIcAy_qw.jpeg"/></div></div></figure><p id="0332" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Javascript对此毫不在意。它假设我们只是用一个新的y变量替换旧的y变量。然而，如果旧的y正在做一些事情，那么它所有的附属系统将会突然失效。</p><p id="6e9c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们有一个包含数千行代码的代码库，那么搞乱一些现有系统的可能性将呈指数级增长。</p><p id="2cc8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然而，如果我们在Typescript中写同样的东西，它会自动读取代码并警告我们这些冲突正在发生。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mw"><img src="../Images/5a7383595d8b0d8ec8adc74859f65297.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mYtE3BbPH1jIfngYUN9rOA.jpeg"/></div></div></figure><p id="b083" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在它看起来很小，但是我不能告诉你这多少次在工作中救了我的命。</p><p id="cf1e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我发现，在很长一段时间里，我的typescript代码运行得更快，构建得更好，我也可以写得更快。比较好讲道理。</p><p id="ecfa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当越来越多的编码人员在同一个项目上工作时，这些错误消息的价值会呈指数级增长。</p><p id="267d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Typescript还带来了一大堆其他错误。</p><p id="d130" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">好吧，我们相信了。让我们来了解一下这种语言的一些特性。</p><h1 id="3700" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">类型</h1><p id="25cf" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">描述如何编写Typescript的简单明了的方法是在编写Javascript时为所有值添加类型定义。</p><p id="5633" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，如果我们想要一个字符串变量，只要告诉编译器它是一个字符串。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/99a2f0f6637d253e3da1ee8f954473df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*NXa7z4PMnTg4T0Pfka4Ygg.jpeg"/></div></figure><p id="f8c8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">类型语法总是用冒号和标记附加到变量声明中。</p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="e38e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你不需要总是明确你的类型，事实上Typescript的创建者鼓励我们尽可能地利用类型推断。(特别是对于初学者)</p><p id="865c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然而，如果你想充分利用类型安全，建议尽可能的具体。</p><p id="b431" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就像Javascript一样，Typescript函数是一级对象，这意味着函数可以在我们使用任何其他值的任何地方使用。类似地，它们也可以被键入。</p><p id="518c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">函数由它的返回类型来确定类型。例如，如果一个函数返回一个boolean，我们应该用boolean标记来键入它，但是我一会儿会更深入地讨论这个问题。</p><h1 id="3e33" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">这是最基本的。理论上，您可以就此打住，开始使用Typescript。维奥拉。如果你卡住了，就用:any。你可以很容易地做出改变，并随着时间的推移不断改进。</h1><p id="1bb8" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">然而，如果你想更好地掌握整个语言，请继续读下去。</p><h1 id="ecba" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">一些稍微复杂一些，但是非常强大的类型定义和工具。</h1><p id="859b" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我们还可以定义更复杂项目的形状和值类型，如对象、数组和元组。不管嵌套有多深，我们都可以这样做。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi na"><img src="../Images/65a3f3cd465e1d7272f5cf481ccdfb41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*A59-i_AbP4-9S5g2hUMT6A.jpeg"/></div></figure><p id="34a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这种情况下，我们说将会有myDog对象，它们的形状总是类似于myDog类型。任何myDog类型的变量，如果被赋予了与我的类型化对象不具有相同属性和类型值的对象，就会抛出错误。</p><p id="cfd7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当您在处理抛出HTTP请求的web应用程序时，这变得特别有用。</p><p id="faa8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它对于跟踪组件状态也很有用。</p><p id="1b88" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">每一个被赋予myDog类型的对象看起来都像是我的myDog类型。</p><p id="4274" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在同一步中，我们可以涵盖各种各样的好奇和复杂的需求。我们可以对元组进行类型化，这些元组基本上只是具有有限长度和类型的数组。我们可以创建只接受特定类型的泛型数组，对于类型化的匿名函数，我们可以变得更加复杂。</p><p id="f380" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这个要点简要地涵盖了许多例子，但我不会对其中的大部分进行详细的描述，因为我担心这个博客会写得太长。</p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="my mz l"/></div></figure><p id="dbb7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">尽量不要在这里不知所措。从本质上来说，大多数这些东西只是简单部分的组合。此外，你不需要知道这些东西的一半就可以开始制作很酷的应用程序。</p><p id="d395" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然而，了解这些事情将有助于您编写可维护的、更快的代码和有教养的代码。对你的事业有帮助。</p><h1 id="4c79" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">类型推理</h1><p id="2e73" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Typescript会试图为我们找出我们的类型，即使我们做了奇怪的事情。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nb"><img src="../Images/3ef892534ba20f7c391c8f6da6c87ede.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DnB_s74COl1M3TjY_SVVjA.jpeg"/></div></div></figure><p id="46e4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个片段中，我已经说明了y可以是一个字符串或一个数字，而x只能是一个数字和一个字符串。我也把数字4赋给了y，没有把x赋给任何东西。</p><p id="7363" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我意识到这可能听起来令人困惑，但是只要不产生灾难性的错误，Typescript仍然会让我们这样做。</p><p id="f15c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">x被输入为一个数字和一个字符串，但是它的类型被标记为未定义。y被输入为数字或字符串，但它自动将类型缩小为数字。</p><p id="8bfb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是因为当我们编写和执行类型时，编译器试图确定我们的类型。</p><p id="0d57" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">默认情况下，每个变量都自动与未定义的类型联合。此外，任何不可能的类型都会自动缩小到never类型。</p><p id="76e8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这些评论一步一步地解释它</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/13ed7272600e8712544a595e8a915ff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bV3_sQqS5SdWxSxDeb4Reg.jpeg"/></div></div></figure><p id="bf5e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在默认的tsc设置中，undefined自动与每个变量联合，但是可以更改tsc设置来改变这一点。其中一个内置的设置叫做“strictNullChecks ”,它使得未定义的类型不会被自动分配给每一个类型(除了别的以外)。我推荐你在感觉舒服的时候使用这个。</p><p id="7d40" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">大多数时候，Typescript的推理逻辑是有意地试图防止我们的代码崩溃，即使我们做了奇怪的事情。它还试图在我们编写代码时减少障碍。它仍然会编译这个奇怪的例子，因为它已经确定这个例子不会崩溃，但是如果我们做一些真正矛盾的事情，比如:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/b63cc4ba8abf9b37c8439cadffc563ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*f6YR5Dr6hYpkQlV7JwtFYw.jpeg"/></div></figure><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/b4b75a7de731a26eb1d5494c05b1e7cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LsujwQsKNZOJudszvBi09w.jpeg"/></div></div></figure><p id="543e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这一点上，Typescript说我们已经走得太远了，我们处于非常不安全的类型领域，所以它标记了我们的数组赋值，并告诉我们这没有意义。</p><p id="b122" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">简而言之，我们应该将Typescript编译器视为一个强大的工具，它同时试图原谅我们的错误，并在我们正在做将使程序崩溃的事情时警告我们。</p><p id="31a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">随着时间和实践，Typescript将教会我们成为更好的编码员，就像《人鬼情未了》中的陶器场景一样。</p><h1 id="7de9" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">类型运算符</h1><p id="5b20" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Typescript中的类型可以像值一样被操作。</p><p id="a041" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这意味着我们可以给类型取别名，我们可以将它们联合起来，我们可以将它们相交。</p></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="fa4b" class="kz la it bd lb lc nm le lf lg nn li lj lk no lm ln lo np lq lr ls nq lu lv lw bi translated">别名</h1><p id="9def" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我们可以用“type”关键字直接定义新的类型，并给它指定我们想要的任何类型标签。这些新类型可以充当现有类型的别名。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/8ac17519fae1388bdf27f4ff76e12dd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HROooXkOPENjw1y5wV65Iw.jpeg"/></div></div></figure><p id="5243" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这里，我们说有一些新的类型叫做“我的号码”，但它仍然只是一个数字类型。</p><h1 id="694d" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">并集和交集。</h1><p id="7bb5" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">对于联合类型，我们说项目可以是任何一个唯一的类型或者所有类型的组合。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/0d43af0dd62348364a99857cefb3f575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*awgIlIRtbe9zcwElfMPfrA.jpeg"/></div></div></figure><p id="0cf7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">请注意，myVehicle具有我们创建的类型的所有共享属性和所有独特属性。如果我的变量只有一个唯一的属性，它也会接受这段代码。</p><p id="8707" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">另一方面，交集类型将只接受包含所有共享和唯一属性的赋值。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/492b63fdd31f667cb20bce2cc75f6a11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ChREilI81u53bjzkAv1dfQ.jpeg"/></div></div></figure><p id="78fe" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，我刚刚试图声明一个交集类型，但未能从goCArt类型添加rollCageBreakLimit，因此Typescript给出了一条错误消息，告诉我这一点。</p><p id="f83d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">类型联合远比交集更常见，但两者都非常有用，尤其是当我们处理大量数据而只想查看特定字段时。</p><h1 id="887e" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">文字类型</h1><p id="22e4" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">类型字面量允许我们做非常狭窄的类型定义。如果我们正确使用这些，我们可以保护自己免受各种潜在的攻击或错误。</p><p id="1f1b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它们可以因为任何原因在任何时候使用，但是当我们想要将一个特定的项目列表引入到一个特定的变量中时，它们是最好的。</p><p id="c29d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这种情况的一个常见用例是当我们试图标记在我们的应用程序中传递的对象时，以便所述对象的接收者知道当接收到该对象时该做什么。只有有限数量的标签，我们不希望有任何有趣的业务，人们通过奇怪的标签。</p><p id="24dc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，当我们向restful API发出HTTP请求时，我们知道我们的请求总是post、get、put、patch或delete。您可能在redux或AJAX之类的东西中见过这种约定。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/8dabddabe342aba2f8062e4a592af0b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pSxSVuv4lQizS48bQkvogg.jpeg"/></div></div></figure><p id="196a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这里，我们说httpTag不是一个通用的字符串。它只能是这些字符串中的一个，我们不希望我们的应用程序的任何部分尝试其他的东西。这就是我们所说的类型文字的联合。“POST”标记是一种文字类型。</p><h1 id="3247" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">无商标消费品</h1><p id="c0aa" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">有时我们希望函数接受一些未知类型，并返回一些其他未知类型。在这些场景中，我们不必求助于使用:any。即使在难以预测的情况下，我们仍然可以使我们的类型尽可能具体。</p><p id="cf03" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是类型泛型发挥作用的地方。</p><p id="fd60" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我们想要创建可以以多种方式使用的通用函数时，泛型是最常用的。</p><p id="29ed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如。地图功能。如果你从Javascript来到这里，你知道。map函数将遍历一个数组，并对数组中的每一项执行匿名函数。</p><p id="5d9d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们还知道，Typescript函数是由它们的返回值类型化的。所以，一个映射函数接受某种类型，在对第一种类型做了一些事情后，返回另一种类型。</p><p id="3786" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是我们如何使自己的map函数类型安全的方法:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/f1dc664a0cb23f1032b685d8e29b1eef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ES0Lherum156ckX0CWNFHg.jpeg"/></div></div></figure><p id="282e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用箭头括号，我们说有两种通用类型(输入和输出。)在函数被调用之前，我们不会知道它们是什么。然而，一旦函数被调用，我们就知道数组的类型都是相同的，我们也知道匿名函数将接受一个与每一项类型相同的参数。然后，匿名函数将返回不同于第一种类型的其他未知类型。最后，我们的map函数的结果将是一个与匿名函数的返回类型相匹配的数组。</p><p id="ecae" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我知道这有点难以启齿，但别担心！只要练习一下，做几个一般类型的函数，你就会比你原来想的更快地掌握它。</p><p id="6e36" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们已经到了可以创建自己的通用库的时候了。</p><h1 id="4854" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">我们如何对待班级</h1><p id="7de8" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我们按照我已经介绍过的基础知识键入我们的类和值。然而，Typescript为我们的普通类结构增加了一些新特性，使它们更具表现力和安全性。</p><p id="d2f2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Typescript借鉴了C#的特性，这是一件很棒的事情，因为C#是最优秀的面向对象语言之一。有了Typescript，我们真的得到了好几个世界的好处。</p><p id="e44b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">无需深入细节，Typescript为我们提供了许多类似于C#中的关键字，允许我们操作我们的类</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/0b4ae776330b2f6705aa61b2018dd88d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*K5hevah8YmxSAlGJ9htgTw.jpeg"/></div></figure><p id="4a2b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Private使得只有Cat实例可以访问它们自己的friendsList。</p><p id="27d2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Public使它可以读取或更改属性。</p><p id="0b87" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Readonly使该属性只能被读取，而不能被更改。</p><p id="2466" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Protected使Cat的实例和Cat的子类型可以访问该属性。</p><p id="f707" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">类上的abstract关键字使该类成为抽象类，这意味着它不能被实例化。(适用于高阶或实用组件。)</p><h1 id="802a" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">接口</h1><p id="bce7" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Typescript中的接口是一种定义类型的方式，类似于我们的type关键字。我们可以用这两种特性实现同样的事情。</p><p id="cd5e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当type关键字期望一个唯一的赋值时，接口正在设置一个域类型，这将允许我们重复地进行赋值，将属性附加到那个特定的类型域。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/c42bdbecde412d3a487ad0eedd067a5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*8nfGg6BhuSH1nwbkBtrcGA.jpeg"/></div></figure><p id="f60d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个例子中，Typescript将抛出一个错误，抱怨screen已经被分配了。</p><p id="1dba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们用interface关键字做同样的事情，它只会将新的属性添加到类型中。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/cc2b3a2ce7867b7465d051b0b7961023.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*Wb9T-2CCn7UkCAWE2ySdXA.jpeg"/></div></figure><p id="1b09" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这个例子中，我们说screen已经扩大到包括所有三个属性。</p><h1 id="3c79" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">类型继承</h1><p id="9f5c" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Typescript中的类型可以像类一样相互继承。这可以用interface或type关键字来完成。它允许我们在类型定义中获得面向对象编程的所有优点。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/29ba198edd967ef15299c7c14e881552.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*_g7ByZ3-HJvKecjJ5DENWA.jpeg"/></div></figure><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/a1378ffaeaa33305d3584b061dfaccd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*TSXzBLVJP6-G-qkjggWsQg.jpeg"/></div></figure><p id="4e2b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这两个例子做了同样的事情。</p><h1 id="87e2" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="8237" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">使用Typescript，我们还可以做更多的事情</p><p id="dfb1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">还有许多我没有列出的特性，但是如果你掌握了这里列出的所有特性，你将处于一个非常有利的位置，成为任何Typescript或Javascript团队中有价值的一员。</p><p id="786b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Typescript为我们提供了许多来自其他语言的有利特性，它将Javascript变成了一种值得尊敬的工具。</p><p id="de79" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是我今天所有的时间。快乐编码。</p></div></div>    
</body>
</html>