<html>
<head>
<title>How to navigate between pages in your Flutter application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在你的Flutter应用程序中导航页面</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-navigate-between-pages-in-your-flutter-application-ed54558dbae4?source=collection_archive---------0-----------------------#2022-04-18">https://levelup.gitconnected.com/how-to-navigate-between-pages-in-your-flutter-application-ed54558dbae4?source=collection_archive---------0-----------------------#2022-04-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="ab3b" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">为您的应用导航！</h2><div class=""/><div class=""><h2 id="05fc" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">在本文中，我们将实现页面之间的导航逻辑，这样您就可以引导您的用户朝着目标前进。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/82c76cb0b98a94704b9d803d675d5334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IOCPoWhxVymdrphTNt8s4A.png"/></div></div></figure><p id="289f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果您不想开发单页面应用程序，您将需要一个导航模式来从一个页面转到另一个页面。在颤振应用中，有3种不同的方法来处理这个问题。我将在接下来的部分中向您展示它们。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/373cdbd70acc9a54f132adb8b8b00d72.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/1*wmQgGoi_rkIHpB3OR5h49w.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">页面间应用导航示例</figcaption></figure><h2 id="18b7" class="me mf it bd mg mh mi dn mj mk ml dp mm lm mn mo mp lq mq mr ms lu mt mu mv iz bi translated">导航器对象</h2><p id="b867" class="pw-post-body-paragraph ld le it lf b lg mw kd li lj mx kg ll lm my lo lp lq mz ls lt lu na lw lx ly im bi translated"><code class="fe nb nc nd ne b">Navigator</code>对象公开了在Flutter应用程序中从一个页面过渡到另一个页面的方法。它的行为类似于堆栈数据结构，这意味着最后添加的元素将是第一个删除的元素。要访问<code class="fe nb nc nd ne b">Navigator</code>，您可以调用<code class="fe nb nc nd ne b">Navigator.of(context)</code>，其中上下文代表当前的<code class="fe nb nc nd ne b">BuildContext</code>。我将在接下来的部分中演示它。</p><h2 id="fc85" class="me mf it bd mg mh mi dn mj mk ml dp mm lm mn mo mp lq mq mr ms lu mt mu mv iz bi translated">最基本的方式——推动和弹出</h2><p id="2cfc" class="pw-post-body-paragraph ld le it lf b lg mw kd li lj mx kg ll lm my lo lp lq mz ls lt lu na lw lx ly im bi translated">导航器的行为就像一个堆栈，所以最简单的方法是当你想导航到一个新的页面时，就把它推到上面，如果你想返回，就弹出一个页面。下面的代码演示如何导航到新页面。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="b04b" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">要返回，你只需调用<code class="fe nb nc nd ne b">Navigator.of(context).pop()</code>就能回到上一页。为了检查向后导航是否可行，有一个方法<code class="fe nb nc nd ne b">canPop()</code>，如果堆栈中没有更多要弹出的页面，该方法将返回false。如果可能，移动设备的硬件或软件后退按钮也会触发<code class="fe nb nc nd ne b">pop()</code>方法。</p><p id="1590" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">❗如果你调用<code class="fe nb nc nd ne b">pop()</code>并且堆栈中只有当前页面，应用程序将会关闭。</p><p id="9e0d" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">要完全跳过页面历史，您也可以使用<code class="fe nb nc nd ne b">pushReplacement()</code>方法。它会用给定的页面替换当前页面，这样堆栈中就只有给定的页面了。但是用户将无法使用后退按钮。</p><p id="b1b7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">该图再次显示了堆栈行为:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nh"><img src="../Images/4a790889c3cd46a5fb7f9a40741409e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JEcOoCI_3JEg8eA5iUif_Q.png"/></div></div></figure><h2 id="2277" class="me mf it bd mg mh mi dn mj mk ml dp mm lm mn mo mp lq mq mr ms lu mt mu mv iz bi translated">高级方式—预定义的路线</h2><p id="7d72" class="pw-post-body-paragraph ld le it lf b lg mw kd li lj mx kg ll lm my lo lp lq mz ls lt lu na lw lx ly im bi translated">如果您有少量不需要传入任何参数的页面，那么预定义的路由是一个不错的选择。要配置路由，您需要在<code class="fe nb nc nd ne b">MaterialApp</code>对象中填充<code class="fe nb nc nd ne b">routes</code>属性。下面是一个简单的例子:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="b2b1" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在这种情况下，您需要使用<code class="fe nb nc nd ne b">Navigator</code>对象的<code class="fe nb nc nd ne b">pushNamed()</code>或<code class="fe nb nc nd ne b">pushReplacementNamed()</code>方法。例如，当导航到具有预定义路线<code class="fe nb nc nd ne b">/login</code>的登录页面时，您调用<code class="fe nb nc nd ne b">Navigator.of(context).pushNamed(”/login”)</code>。建议为路由定义常量，以减少可能的拼写错误。</p><p id="15af" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">❗不要忘记<code class="fe nb nc nd ne b">initialRoute</code>属性或者添加一个<code class="fe nb nc nd ne b">onUnknownRoute</code>处理程序。否则app启动不了。</p><h2 id="0eb4" class="me mf it bd mg mh mi dn mj mk ml dp mm lm mn mo mp lq mq mr ms lu mt mu mv iz bi translated">专家方式——路线生成</h2><p id="46c0" class="pw-post-body-paragraph ld le it lf b lg mw kd li lj mx kg ll lm my lo lp lq mz ls lt lu na lw lx ly im bi translated">如果您不使用routes表，但是想使用命名路由，那么您可以在<code class="fe nb nc nd ne b">MaterialApp</code>对象的<code class="fe nb nc nd ne b">onGenerateRoute</code>函数中添加一个处理程序。你可以在下面看到一个例子:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="0e62" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">每次通过导航器推送一条路线时，都会执行这个处理函数来查找要导航到的正确页面。<code class="fe nb nc nd ne b">name</code>属性包含传递的路线。最大的好处是您可以用这种方法处理导航参数。它们是通过<code class="fe nb nc nd ne b">arguments</code>属性传递的。与使用预定义路由表的静态方法相比，它可以为您提供更多的控制。</p><h2 id="f1b5" class="me mf it bd mg mh mi dn mj mk ml dp mm lm mn mo mp lq mq mr ms lu mt mu mv iz bi translated">将数据发送到另一页</h2><p id="47f1" class="pw-post-body-paragraph ld le it lf b lg mw kd li lj mx kg ll lm my lo lp lq mz ls lt lu na lw lx ly im bi translated">向页面传递数据非常简单。当使用没有命名路由的push-pop方法时，只需将数据作为构造函数参数添加即可。</p><p id="ee46" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe nb nc nd ne b">Navigator.of(context).push(MaterialPageRoute(builder: (context) =&gt; Login(data: "dummy")));</code></p><p id="f706" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">当使用命名路由方法时，您可以使用<code class="fe nb nc nd ne b">pushNamed</code>方法的<code class="fe nb nc nd ne b">arguments</code>参数来传递您想要的任何数据。</p><p id="5bad" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe nb nc nd ne b">Navigator.of(context).pushNamed(”/login”, “dummy”);</code></p><p id="b5a8" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">该参数的类型是<code class="fe nb nc nd ne b">Object</code>，因此您可以将任何想要的东西从简单的字符串传递到自定义对象的地图上。目标页面负责解析或转换数据。看一下上面关于路线生成的段落。如果使用预定义的路由表，则不能在运行时传递任何数据。</p><p id="752d" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe nb nc nd ne b">pop()</code>方法也可以传递数据。因此，调用方需要等待返回导航，并读取传递的信息。只需调用<code class="fe nb nc nd ne b">Navigator.of(context).pop(”dummy”);</code>向调用者传递一个字符串。调用者应该等待数据的返回。</p><pre class="ks kt ku kv gt ni ne nj nk aw nl bi"><span id="3275" class="me mf it ne b gy nm nn l no np">var res = await Navigator.of(context).pushNamed("/login"); // &lt;-- wait for pop()<br/>print(res as string); // prints "dummy"</span></pre><h2 id="4b8f" class="me mf it bd mg mh mi dn mj mk ml dp mm lm mn mo mp lq mq mr ms lu mt mu mv iz bi translated">进一步阅读</h2><p id="676e" class="pw-post-body-paragraph ld le it lf b lg mw kd li lj mx kg ll lm my lo lp lq mz ls lt lu na lw lx ly im bi translated">如果你想知道更多关于Flutter中导航的细节，可以查看下面的链接。</p><div class="nq nr gp gr ns nt"><a href="https://docs.flutter.dev/cookbook/navigation" rel="noopener  ugc nofollow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">航行</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">编辑描述</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">docs.flutter.dev</p></div></div><div class="oc l"><div class="od l oe of og oc oh lb nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://medium.com/flutter/learning-flutters-new-navigation-and-routing-system-7c9068155ade" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">学习Flutter的新导航和路由系统</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">本文解释了Flutter的新导航器和路由器API是如何工作的。如果你遵循Flutter的开放设计文档，你…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="oi l oe of og oc oh lb nt"/></div></div></a></div><h2 id="01a7" class="me mf it bd mg mh mi dn mj mk ml dp mm lm mn mo mp lq mq mr ms lu mt mu mv iz bi translated">结论</h2><p id="f499" class="pw-post-body-paragraph ld le it lf b lg mw kd li lj mx kg ll lm my lo lp lq mz ls lt lu na lw lx ly im bi translated">在本文中，我们看了一下Flutter应用程序中的导航。无论是使用push和pop，使用命名路由，还是使用动态路由生成，都有许多可能的方法来完成此任务。如果你有更多的问题，欢迎在评论中提问。</p><p id="3055" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">你可以在<a class="ae oj" href="https://github.com/xeladu/flutter_basic_navigation" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到源代码。</p></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><p id="afcc" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果你喜欢这篇文章，我会很高兴得到掌声👏(你知道可以拍几次吗？😎)另外，如果你还没有跟上我，我也很感激。</p><p id="fcc3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">🌲<a class="ae oj" href="https://linktr.ee/xeladu" rel="noopener ugc nofollow" target="_blank"> linktr.ee </a> |☕ <a class="ae oj" href="https://www.buymeacoffee.com/xeladu" rel="noopener ugc nofollow" target="_blank">咖啡</a>🎁<a class="ae oj" href="https://www.paypal.com/donate/?hosted_button_id=JPWK39GGPAAFQ" rel="noopener ugc nofollow" target="_blank">捐赠</a> |💻GitHub  |🔔<a class="ae oj" href="https://xeladu.medium.com/subscribe" rel="noopener">订阅</a></p><p id="608d" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">顺便说一句:如果你还没有Medium会员，我推荐你使用<a class="ae oj" href="https://medium.com/@xeladu/membership" rel="noopener">│我的推荐链接◀ </a>，因为它会让你访问Medium上的所有内容，并以一小部分费用支持我，而不会为你带来任何额外费用。谢谢大家！✨</p></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><h2 id="24e3" class="me mf it bd mg mh mi dn mj mk ml dp mm lm mn mo mp lq mq mr ms lu mt mu mv iz bi translated">相关故事</h2><div class="nq nr gp gr ns nt"><a href="https://medium.com/codex/how-to-use-the-flutter-command-line-interface-8c43f3bb8425" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">如何使用Flutter命令行界面</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">在本文中，我们将关注Flutter CLI及其最常见的构建、测试、部署和…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="or l oe of og oc oh lb nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a rel="noopener  ugc nofollow" target="_blank" href="/send-push-notifications-from-a-flutter-app-to-devices-with-firebase-9c84ce58fe30"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">从Flutter应用程序向安装了Firebase的设备发送推送通知</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">以下是向具有Firebase Cloud功能和Firebase Cloud的设备发送自定义推送通知的指南…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="oc l"><div class="os l oe of og oc oh lb nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://xeladu.medium.com/flutter-unit-test-basics-a8c6815f7712" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">颤振单元测试基础</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">我们涵盖了一个基本的例子，单元测试在一个颤振项目中会是什么样子。包括解释的代码示例。</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">xeladu.medium.com</p></div></div><div class="oc l"><div class="ot l oe of og oc oh lb nt"/></div></div></a></div></div></div>    
</body>
</html>