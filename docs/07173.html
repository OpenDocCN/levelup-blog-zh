<html>
<head>
<title>How to show text inside a circle with SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用SwiftUI显示圆圈内的文本</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-show-text-inside-a-circle-with-swiftui-93a375d571f8?source=collection_archive---------3-----------------------#2021-01-29">https://levelup.gitconnected.com/how-to-show-text-inside-a-circle-with-swiftui-93a375d571f8?source=collection_archive---------3-----------------------#2021-01-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="18ea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这一次，我们将研究几种使用SwiftUI在圆内显示文本标签的方法。我们将使用<code class="fe ko kp kq kr b">ZStack</code>视图、<code class="fe ko kp kq kr b">.background</code>和<code class="fe ko kp kq kr b">.overlay</code>修改器更深入地研究三种不同的方式。最后，作为一个小奖励，我们将看看如何使用<code class="fe ko kp kq kr b">.clipShape</code>修饰符在一个圆上显示一个文本标签。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/cdf6cbe8e2cd183645c71b592d1edba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-SNEYKfe1zga4Yfy31F7-w.jpeg"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">奥克塔维奥·福萨蒂在<a class="ae li" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片。</figcaption></figure><p id="e6f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的最终目标是这样的:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/34598f13b9089d9d1253af4399158a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/0*WR4bTqCFTJGm63A_.png"/></div></figure><h1 id="d5f5" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">用<code class="fe ko kp kq kr b">ZStack</code>布局</h1><p id="68a5" class="pw-post-body-paragraph jq jr it js b jt mi jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn im bi translated"><code class="fe ko kp kq kr b">ZStack</code>swift ui中有一个独特的视图，它将所有子视图一个接一个地显示出来。它的工作原理类似于CSS中的<code class="fe ko kp kq kr b">z-index</code>。因此，让我们尝试显示一个<code class="fe ko kp kq kr b">Circle</code>视图，然后在顶部显示<code class="fe ko kp kq kr b">Text</code>视图。为了不让<code class="fe ko kp kq kr b">Circle</code>填满整个屏幕，我们需要设置一个恒定的视图宽度和高度。</p><pre class="kt ku kv kw gt mn kr mo mp aw mq bi"><span id="f2fc" class="mr ll it kr b gy ms mt l mu mv">ZStack {<br/>  Circle()<br/>    .stroke(circleColor, lineWidth: 4)<br/>  <br/>  Text("13")<br/>}<br/>.frame(width: 40, height: 40)</span></pre><h1 id="e6d3" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">练习<code class="fe ko kp kq kr b">.background</code>修改器</h1><p id="3c39" class="pw-post-body-paragraph jq jr it js b jt mi jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn im bi translated">现在让我们看看如何使用<code class="fe ko kp kq kr b">.background</code>修改器。遗憾的是，苹果没有给我们提供任何关于如何使用它的文档，所以我们需要自己去努力理解它。我们可以检查源代码，并尝试理解这个视图修改器在做什么。</p><pre class="kt ku kv kw gt mn kr mo mp aw mq bi"><span id="ece7" class="mr ll it kr b gy ms mt l mu mv">func background&lt;Background&gt;(_ background: Background, alignment: Alignment = .center) -&gt; some View where Background : View</span></pre><p id="d944" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过应用这个修饰符，我们需要传入一个<code class="fe ko kp kq kr b">View</code>并可选地指定两个轴上的对齐。让我们设置如何将它用于我们的<code class="fe ko kp kq kr b">Text</code>字段。这次我们不打算检查<code class="fe ko kp kq kr b">alignment</code>参数。我们想显示一个圆形作为<code class="fe ko kp kq kr b">Text</code>字段的背景。</p><pre class="kt ku kv kw gt mn kr mo mp aw mq bi"><span id="6fad" class="mr ll it kr b gy ms mt l mu mv">Text("13")<br/>  .background(<br/>    Circle()<br/>      .stroke(circleColor, lineWidth: 4)<br/>      .padding(6)<br/>  )</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/9014df65b45f0b36aace97c53b273bac.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/format:webp/0*Xh6RaQJnRDNPp3GY.png"/></div></figure><p id="1c85" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果并不完全是我们想要的。为了改善它，我们需要在文字和圆圈之间留一些空间，这样看起来会更好一些。</p><p id="8286" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了在数字和圆圈之间有一个很好的间隙，我们可以使用<code class="fe ko kp kq kr b">.padding()</code>修改器。现在，文字和圆圈之间有了一些喘息的空间。</p><pre class="kt ku kv kw gt mn kr mo mp aw mq bi"><span id="1be9" class="mr ll it kr b gy ms mt l mu mv">Text("13")<br/>  .padding()<br/>  .background(<br/>    Circle()<br/>      .stroke(circleColor, lineWidth: 4)<br/>      .padding(6)<br/>  )</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/2584ae57ae0d7261a10a0652e2a9dd29.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/0*fgShHJVgI-dluwnI.png"/></div></figure><h1 id="9ec5" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">解开<code class="fe ko kp kq kr b">overlay</code>修改器</h1><p id="e65f" class="pw-post-body-paragraph jq jr it js b jt mi jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn im bi translated">这次苹果没有再提供文档说明。让我们来看看源代码。它相对简单，类似于<code class="fe ko kp kq kr b">.background</code>修改器。</p><pre class="kt ku kv kw gt mn kr mo mp aw mq bi"><span id="e4d3" class="mr ll it kr b gy ms mt l mu mv">func overlay&lt;Overlay&gt;(_ overlay: Overlay, alignment: Alignment = .center) -&gt; some View where Overlay : View</span></pre><p id="2318" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它将视图放在它的上面，而不是下面。我们不应该忘记在数字和圆圈之间有一个间隔的修饰词。使用前面的例子，将<code class="fe ko kp kq kr b">background</code>改为<code class="fe ko kp kq kr b">overlay</code>，我们会得到相同的结果。</p><pre class="kt ku kv kw gt mn kr mo mp aw mq bi"><span id="e788" class="mr ll it kr b gy ms mt l mu mv">Text("13")<br/>  .padding()<br/>  .overlay(<br/>    Circle()<br/>      .stroke(circleColor, lineWidth: 4)<br/>      .padding(6)<br/>  )</span></pre><p id="9262" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">虽然看起来一模一样，但工作原理不同。如果我们想在顶部显示一个可交互的视图，这种方法很方便。假设我们想在顶部呈现一个可点击的按钮。我不会特别建议这样做，但它解释了这个想法。</p><h1 id="3f94" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">额外收获:裁剪为形状</h1><p id="8e49" class="pw-post-body-paragraph jq jr it js b jt mi jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn im bi translated">作为一个额外的提示，让我们看看如何使用<code class="fe ko kp kq kr b">.clipShape</code>修饰符来显示填充了颜色的圆圈内的文本字段。<code class="fe ko kp kq kr b">.clipShape</code>修改器将视图剪辑成一个特定的形状，我们应该将它作为参数传递。为此，我们可以使用苹果公司提供的几种形状，如圆形、胶囊形、矩形和更多的形状。或者我们可以借助<code class="fe ko kp kq kr b">Path</code>轮廓自己画一个形状。自定义形状不在这篇博文的讨论范围之内。</p><pre class="kt ku kv kw gt mn kr mo mp aw mq bi"><span id="d056" class="mr ll it kr b gy ms mt l mu mv">Text("13")<br/>  .padding()<br/>  .background(circleColor)<br/>  .clipShape(Circle())</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/1b5dc66b0ce2b64805ea6770c02ecbc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:368/format:webp/0*K1IdMFbe85FwZVFk.png"/></div></figure><h1 id="adf0" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="958a" class="pw-post-body-paragraph jq jr it js b jt mi jv jw jx mj jz ka kb mk kd ke kf ml kh ki kj mm kl km kn im bi translated">有了SwiftUI，同样的事情在视觉上可以通过多种方式实现。使用<code class="fe ko kp kq kr b">ZStack</code>将所有视图堆叠在文本上，可以在文本周围放置一个圆圈。另一种方法是使用<code class="fe ko kp kq kr b">.background</code>或<code class="fe ko kp kq kr b">.overlay</code>修改器。</p><h1 id="f476" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">链接</h1><ul class=""><li id="8434" class="my mz it js b jt mi jx mj kb na kf nb kj nc kn nd ne nf ng bi translated"><a class="ae li" href="https://github.com/fassko/text-in-circle-swiftui" rel="noopener ugc nofollow" target="_blank">样本代码</a></li><li id="7e7f" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><code class="fe ko kp kq kr b"><a class="ae li" href="https://developer.apple.com/documentation/swiftui/zstack" rel="noopener ugc nofollow" target="_blank">ZStack</a></code> <a class="ae li" href="https://developer.apple.com/documentation/swiftui/zstack" rel="noopener ugc nofollow" target="_blank">文档</a></li><li id="954a" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><code class="fe ko kp kq kr b"><a class="ae li" href="https://developer.apple.com/documentation/swiftui/view/clipshape(_:style:" rel="noopener ugc nofollow" target="_blank">clipShape</a></code> <a class="ae li" href="https://developer.apple.com/documentation/swiftui/view/clipshape(_:style:" rel="noopener ugc nofollow" target="_blank">文档</a></li><li id="2737" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><a class="ae li" href="https://developer.apple.com/documentation/swiftui/shape" rel="noopener ugc nofollow" target="_blank">形状文件</a></li><li id="07bd" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><a class="ae li" href="https://developer.apple.com/tutorials/swiftui/drawing-paths-and-shapes" rel="noopener ugc nofollow" target="_blank">绘制路径和形状教程</a></li><li id="a65e" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><a class="ae li" href="https://developer.apple.com/documentation/swiftui/path" rel="noopener ugc nofollow" target="_blank">路径文档</a></li><li id="1764" class="my mz it js b jt nh jx ni kb nj kf nk kj nl kn nd ne nf ng bi translated"><a class="ae li" href="https://ordinarycoding.com/articles/swiftui-masks-and-overlays/" rel="noopener ugc nofollow" target="_blank"> SwiftUI遮罩和覆盖图</a></li></ul></div></div>    
</body>
</html>