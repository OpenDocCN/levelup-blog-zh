<html>
<head>
<title>Snowflake vs BigQuery: Clash of Titans (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">雪花大战大查询:泰坦的冲突(第一部分)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/snowflake-vs-bigquery-clash-of-titans-part-1-9605f4acf88b?source=collection_archive---------2-----------------------#2021-07-09">https://levelup.gitconnected.com/snowflake-vs-bigquery-clash-of-titans-part-1-9605f4acf88b?source=collection_archive---------2-----------------------#2021-07-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4510" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">雪花和BigQuery在很多方面都很相似，人们可能会认为这将是一场简单而平衡的战斗……但真的是这样吗？</h2></div><p id="5fa3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">自从我写了我的<a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/snowflake-vs-redshift-ra3-the-need-for-more-than-just-speed-52e954242715">雪花与红移RA3的文章</a>以来，我一直收到读者的请求，要我对BigQuery和雪花进行比较。正如一些人指出的那样，它们都分享了存储和计算分离带来的许多好处，因此是有价值的竞争对手。</p><p id="79c8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一如既往，我想指出的是，为您的数据平台选择“正确的”数据库并不是一个明确的决定…有许多可变因素在起作用:数据大小、用户要求、性能要求、价格敏感度、预算、维护成本等…只有您自己知道最适合您的使用情形的选项是什么。</p><p id="7993" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">话虽如此，让我们开始吧，还有什么比讲述一下他们的历史更好的方式来开始这场“泰坦之战”呢？</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lm"><img src="../Images/81b06b1291ca9b511fe88e3d11f65299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s1OOn2yUpYwstnRs7pBUVQ.png"/></div></div></figure><h1 id="5ae0" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">谷歌的大数据之路</h1><p id="edba" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">从很早开始，谷歌就感受到了他们需要存储和访问的数据量的压力。那是90年代末，互联网的规模和使用正以前所未有的速度增长，随着谷歌扩大服务，他们正经历着势不可挡的需求增长。扩大服务器的规模变得越来越昂贵。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi mv"><img src="../Images/2815af7525b74b13d51bcb932495f99a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LAZpT7gwtn-Gk78q2JFfLQ.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">如2007年6月在西雅图可伸缩性会议Google Tech Talks上所示</figcaption></figure><p id="f077" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">他们现在处于适当的大数据领域，但当时没有“大数据”，大数据还不是真正的东西…所以他们做了聪明人会做的事情:他们遇到了问题，所以他们尽最大努力来解决它。正如我们今天所知，他们显然成功了！</p><p id="f2e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2003年，谷歌发表了著名的GFS(谷歌文件系统)论文，这是他们新的分布式存储系统，能够处理数Pb的数据，一年后，他们发表了关于MapReduce的论文，这是他们的大数据处理引擎。经过这些技术多年的内部和社区开发，谷歌在2010年和2011年发布了下一级分布式存储和计算的论文:Colossus ( <em class="na">分布式exabyte存储系统</em>)和Dremel ( <em class="na">大数据SQL查询处理引擎</em>)。不久之后，他们发布了今天仍被称为谷歌云存储(<em class="na">巨像即服务</em>)和BigQuery ( <em class="na"> dremel即服务</em>)的服务。</p><blockquote class="nb"><p id="9cf8" class="nc nd it bd ne nf ng nh ni nj nk ld dk translated">当Google BigQuery于2011年末发布时，它是多年调查、社区贡献和Google内部开发的结晶。从那时到今天，这些服务肯定已经发展了很多，但它们仍然建立在相同的坚实基础上。</p></blockquote></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="44a2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">引用:</strong><em class="na">当你在凌晨1点被传呼时，你知道你有一个很大的存储系统，因为你只剩下几Pb的存储空间了。</em>、<br/>、<a class="ae le" href="https://cloud.google.com/files/storage_architecture_and_challenges.pdf" rel="noopener ugc nofollow" target="_blank">2010年谷歌教师峰会</a></p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="fa6f" class="ly lz it bd ma mb nl md me mf nm mh mi jz nn ka mk kc no kd mm kf np kg mo mp bi translated">简单地说，谷歌大查询</h1><p id="1acf" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">简单来说，数据库有4个核心组件:</p><ul class=""><li id="8ffc" class="nq nr it kk b kl km ko kp kr ns kv nt kz nu ld nv nw nx ny bi translated">存储层(<em class="na">，其中数据被持久存储</em>)，</li><li id="993c" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated">元数据层(<em class="na">，它使所有数据</em>有意义)，</li><li id="3d38" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated">处理引擎，(<em class="na">处理数据、连接、逻辑等</em>)，以及</li><li id="23fa" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated">查询引擎/查询规划器(<em class="na">，将查询转换为完整的执行计划，由较低层执行，并协调执行</em>)。</li></ul><p id="148c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Google BigQuery是一个大规模并行处理(MPP)数据库，就像雪花一样，它具有与计算分离的存储:两个核心工作层(存储和处理)是独立的、分布式的和高度可扩展的。如果您需要更多存储，您可以在不增加更多计算的情况下这样做，同样如此。这当然是可能的，因为谷歌云存储(GCS，基于巨像)和Dremel。</p><p id="ca9f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">早在2011年，大多数大数据都是通过“<em class="na">技术血液、汗水和泪水</em>”处理的，也就是Hadoop。内部的hadoop集群很难设置，很难稳定，维护成本很高，而且它们在实时查询方面也不是很好。那时还没有红移(2013)，没有雪花(2014)，没有Azure DW (2015)，所以BigQuery没有像火箭一样起飞是相当令人惊讶的。我的最佳猜测是，公司仍然对将他们自己的数据发送到云上有点谨慎，并且大多数已经拥有“大数据”的公司仍然对他们自己的设置足够满意(<em class="na">是hadoop或大型数据库集群</em>)。</p><blockquote class="nb"><p id="264c" class="nc nd it bd ne nf ng nh ni nj nk ld dk translated">但是随着时间的推移，收养率确实上升了。<a class="ae le" href="https://www.stitchdata.com/resources/redshift-vs-bigquery/" rel="noopener ugc nofollow" target="_blank">根据这篇文章，现在有3000多家公司在使用BigQuery，包括纽约时报、汇丰银行和Spotify等知名公司。</a></p></blockquote></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi oe"><img src="../Images/9f7f4fb43b7cc0a77b7fc2d6781da26b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SKPCkDujU_v9wMF0pOK1NA.png"/></div></div></figure><h1 id="7b27" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">雪花——黑马</h1><p id="8b9c" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">《雪花》<a class="ae le" href="https://www.bloomberg.com/news/articles/2014-10-21/snowflake-takes-aim-at-amazon-hadoop-with-new-data-service" rel="noopener ugc nofollow" target="_blank">于2014年</a>公开发布，比biqquery晚了大约3年，就像BQ一样，它的早期生活并不轻松(<em class="na">有人会说，甚至比biqquery的</em>还要艰难)。我很幸运地在2016年使用了它，我可以明确地说它已经是一个非常成熟的产品，并且是BQ和Redshift的明显竞争对手，但事实上，长期以来阻碍雪花的东西一直大多是非技术和非技术的:</p><ul class=""><li id="5959" class="nq nr it kk b kl km ko kp kr ns kv nt kz nu ld nv nw nx ny bi translated">没有血统(<em class="na">“没有首席技术官因为收购IBM而被解雇”这句老话并不适用</em>)</li><li id="fc31" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated">不是更大的云产品的一部分(<em class="na">意味着新的合同、采购和涉及法律的</em></li><li id="59d2" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated">私有(<em class="na">所有权稳定性问题，云玩家的潜在收购，这将“锁定”公司在</em>)，以及</li><li id="84ce" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated">难以预算，并且成本上限很高<em class="na">(如果您要24小时运行一个集群，而客户端从来不会这样做……仍然难以预算)</em></li></ul><p id="9706" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但从技术上来说，在我看来，它总是胜过竞争对手……你可以在<a class="ae le" href="https://jmarquesdatabeyond.medium.com/what-makes-snowflake-so-much-better-than-others-58e839e29e80" rel="noopener">这另一篇文章<em class="na">【section:</em><strong class="kk iu"><em class="na">我个人对雪花的体验</em></strong><em class="na"/></a>中阅读所有关于我对雪花的体验。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi of"><img src="../Images/26884b78199adde61575f9c0352d5c47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6CAGUzGRtff3STnI-2zjKQ.png"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated">谷歌趋势比较雪花和谷歌大查询；雪花IPO凸显；<a class="ae le" href="https://trends.google.com/trends/explore?cat=343&amp;date=today%205-y&amp;q=snowflake,bigquery" rel="noopener ugc nofollow" target="_blank">链接此处</a></figcaption></figure><blockquote class="nb"><p id="7fd8" class="nc nd it bd ne nf og oh oi oj ok ld dk translated">然而，2020年将会改变一切:雪花公司成为有史以来估值最高的软件IPO，并且成为新闻焦点。在那之前一直是小众的东西，现在正成为主流，谱系正在建立:雪花现在很性感，市场永远不会满足它！</p></blockquote></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi ol"><img src="../Images/7bdc5e8acc73b2e097389c1a47af0263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sj-Owa2F7xYz5RONizf9pg.png"/></div></div></figure><h1 id="a217" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">表演</h1><p id="ed03" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">几年来，我一直相信Fivetran对数据库的年度比较:我觉得他们对各种不同的工作负载做了很好的系统测试，而且他们看起来很公平。这只是我对它的看法…无论如何，根据他们在这里提供的<a class="ae le" href="https://fivetran.com/blog/warehouse-benchmark" rel="noopener ugc nofollow" target="_blank"> 2020年的比较</a>，与红移和雪花相比，BigQuery的性能似乎略有滞后。这不是一个巨大的差异，我确实注意到一个更长的尾巴，这可能暗示了一些可伸缩性问题<em class="na">(即:好的时候一切都好，但坏的时候就真的坏了)</em>但事实是这些查询并没有真正优化，我发现任何数据库的情况都可能变得非常糟糕…所以我现在忽略它。</p><p id="8ff7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">鉴于以上，我个人会称之为<strong class="kk iu">小边缘到雪花上的表现</strong>章。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="11b6" class="ly lz it bd ma mb nl md me mf nm mh mi jz nn ka mk kc no kd mm kf np kg mo mp bi translated">保管费用</h1><p id="74f3" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">我听你说过，储藏很便宜……好吧，即使要花很少的钱，但很多花生很快就会装满一个罐子！BQ和Snowflake都以类似的方式对存储进行定价，因此很容易对TB进行比较:</p><ul class=""><li id="fe18" class="nq nr it kk b kl km ko kp kr ns kv nt kz nu ld nv nw nx ny bi translated"><strong class="kk iu">雪花:</strong>按需热存储压缩40美元/TB，如果您预订，每月23美元/TB。</li><li id="d47f" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated"><strong class="kk iu"> BigQuery: </strong> 0.02/GB未压缩/月用于热存储(=20美元/TB/月)</li></ul><p id="c748" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">2021年7月13日编辑→ </strong></p><p id="be87" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，正如一位读者向我指出的那样，BigQuery的价格是针对未压缩数据的，而Snowflake的价格是针对压缩数据的。我见过Snowflake做3到5次压缩，所以我只取3次作为保守的平均值<em class="na">(压缩非常依赖于数据)。</em><strong class="kk iu">将雪花的成本降至约13美元/TB(未压缩)，</strong>并使<strong class="kk iu">雪花成为这里的明显赢家。</strong></p><p id="1a22" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> ←编辑！</strong></p><p id="9d89" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> <em class="na">注意#1: </em> </strong>存储预留(雪花)应持保留态度，因为这通常是客户至少一年后才会做的事情，您可能只会预留70%的需求。</p><p id="1830" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> <em class="na">注意#2 </em> </strong>:我对BigQuery的长期存储折扣也有同样的看法，因为它也带来了相当的数据管理开销，并且很容易打破90天规则。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="bba0" class="ly lz it bd ma mb nl md me mf nm mh mi jz nn ka mk kc no kd mm kf np kg mo mp bi translated">费用</h1><p id="0dbd" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">BQ和Snowflake share的一个重要功能是按使用付费模式，也就是说，只有在使用计算时，才会向您收取计算费用。但它们的价格相似之处仅此而已...</p><p id="52f3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">雪花</strong>的<strong class="kk iu"> </strong>定价相当直接，你有被称为<em class="na">【仓库】</em>的计算集群，它们按秒计费(<em class="na">最小使用量= 1分钟</em>)，你可以随意启动/暂停/自动暂停。仓库(计算集群)可以有多种规模，从XSmall到x4Large，它们通常在成本和性能方面呈线性扩展。</p><blockquote class="nb"><p id="b06c" class="nc nd it bd ne nf ng nh ni nj nk ld dk translated">这挺酷的！仔细想想，你是在为工作单元付费，时间纯粹是仓库大小的问题。如果您愿意，可以在XSmall上运行12小时的查询，或者在XLarge上运行45分钟的相同查询…同样的工作，同样的价格…</p></blockquote><p id="10ef" class="pw-post-body-paragraph ki kj it kk b kl om ju kn ko on jx kq kr oo kt ku kv op kx ky kz oq lb lc ld im bi translated">您可以将单个仓库扩展到512台服务器，并且可以同时运行多个仓库(<em class="na">计算集群</em>)。</p><p id="f2e4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一方面，谷歌大查询有两个版本:超级简单和超级复杂！<br/>让我们先来看一个简单的:如果您使用<strong class="kk iu">“按需”</strong>固定成本，那么您只需为每TB数据读取支付5美元，这意味着您只需为查询所需的数据付费。但是！这种定价与性能和并行性的限制有关。对于简单的用例，这可能不是一个问题，但是让我们面对它:任何数据库都可以解决简单的用例…简单是<strong class="kk iu">而不是</strong>为什么你在读这篇文章！</p><p id="0dfc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，您的数据可能真的没有那么小，也可能不是大数据(<em class="na">您真幸运！</em>)，但仍然是一个不错的数据集(比如1TB+)和相当多的用户。这就是事情开始变得有点复杂的地方，你可能会发现自己被网上的文章所包围，这些文章的名字像“<strong class="kk iu">解码</strong> BQ定价”、“<strong class="kk iu">解释</strong> BQ插槽”和“<strong class="kk iu"> <em class="na">简化</em> </strong> <em class="na"> BQ弹性插槽</em>”(<a class="ae le" href="https://gcloud.devoteam.com/blog/bigquery-flex-slots-pricing-a-programmatic-approach" rel="noopener ugc nofollow" target="_blank">这里是一个很好的例子</a>)。</p><figure class="ln lo lp lq gt lr gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi or"><img src="../Images/447da8fe95fa9787e445e7333dc25746.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DdMDOODqgqxnGVRm"/></div></div><figcaption class="mw mx gj gh gi my mz bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@mrthetrain?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Joshua Hoehne </a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="ef08" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了简单一点，因为我不希望重新发明轮子，我将再次拉出这个<a class="ae le" href="https://fivetran.com/blog/warehouse-benchmark" rel="noopener ugc nofollow" target="_blank"> 2020比较</a>。根据比较，对于相同的数据集和查询模式，<strong class="kk iu"> BigQuery似乎比</strong>略贵。</p><p id="6fab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，你可以在BQ中工作的定价方式是如此复杂，以至于很容易根据你的数据集和使用模式来选择任何一种方式。对我来说，这是不利的一面！我不想花几个小时去想如何设置我的定价…我想要一个干净、清晰的定价，可以直接与我的使用情况挂钩…</p><p id="a719" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我的最终结论是<strong class="kk iu"> BigQuery似乎比Snowflake <strong class="kk iu">稍微贵一点</strong>，但是在成本管理上要复杂得多。在我看来，这让雪花成为计算成本方面的明显赢家。</strong></p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="8b8a" class="ly lz it bd ma mb nl md me mf nm mh mi jz nn ka mk kc no kd mm kf np kg mo mp bi translated">闲置成本</h1><p id="4a37" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">在按使用付费的模式中，成本优化也是关于尽可能将空闲时间成本降低到接近于零，这是你在网上找到的任何比较中永远不会有的东西，很简单，因为它取决于你对它的优化程度。在比较两个MPP平台时，您应该假设您会像该工具一样擅长优化空闲时间。这意味着您应该通过它们提供给您的空闲时间优化工具集来评估它们。</p><p id="9a6c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="kk iu">雪花</strong>中，仓库可以在1分钟不活动后自动关闭，只要收到查询就会自动唤醒。由于1分钟的最低收费和实用性，浪费通常来自即席查询:用户运行一个查询，查看数据，然后运行另一个查询，再次查看，等等。集群越大，这一点就越重要:1分钟的空闲时间从0.06美元(<em class="na"> 1节点</em>)到33美元(<em class="na"> 512节点</em>)不等。</p><p id="c20d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<strong class="kk iu"> BigQuery </strong>看情况。如果你坚持统一的价格，那么你将根据读取的字节收费，没有闲置成本。但是，如果您开始使用弹性插槽，那么您可能会产生多少闲置成本？好吧，祝你好运！</p><p id="221d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">无论如何，考虑到简单的统一费率定价，<strong class="kk iu">我会在这里给Google BigQuery一个胜利</strong>，因为统一费率很简单(<em class="na">但不要太兴奋…稍后会有更多关于这个主题的内容</em>)。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="0b94" class="ly lz it bd ma mb nl md me mf nm mh mi jz nn ka mk kc no kd mm kf np kg mo mp bi translated">未完待续…</h1><p id="6638" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">在下一篇文章中，我将继续比较这两者，但会转移到更有趣的主题:伸缩性、功能性、管理等等。敬请关注！</p><p id="acf0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://jmarquesdatabeyond.medium.com/snowflake-vs-bigquery-clash-of-titans-part-2-7c9724c726de" rel="noopener">在此继续第2部分</a></p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="4ee5" class="ly lz it bd ma mb nl md me mf nm mh mi jz nn ka mk kc no kd mm kf np kg mo mp bi translated">雪花系列</h1><p id="938b" class="pw-post-body-paragraph ki kj it kk b kl mq ju kn ko mr jx kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated"><em class="na">这篇文章是我的(不断成长的)雪花系列的一部分。如果您想了解更多关于雪花的信息，这些文章可能也会让您感兴趣:</em></p><ul class=""><li id="f275" class="nq nr it kk b kl km ko kp kr ns kv nt kz nu ld nv nw nx ny bi translated"><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/snowflake-vs-redshift-ra3-the-need-for-more-than-just-speed-52e954242715"> <em class="na">雪花vs红移的RA3——对(不止是)速度的需求</em> </a></li><li id="4b6e" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated"><a class="ae le" href="https://jmarquesdatabeyond.medium.com/migrating-to-snowflake-here-is-what-you-need-to-know-8310b84d2741" rel="noopener">迁徙到雪花？这里是你需要知道的</a></li><li id="24bd" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated"><a class="ae le" href="https://jmarquesdatabeyond.medium.com/what-makes-snowflake-so-much-better-than-others-58e839e29e80" rel="noopener">是什么让雪花比其他的好那么多</a></li><li id="6eda" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated"><a class="ae le" href="https://jmarquesdatabeyond.medium.com/snowflake-configurations-you-probably-didnt-know-existed-ccc0c56c9d21" rel="noopener">你可能不知道存在的雪花结构</a></li><li id="a055" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated"><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/using-snowflake-dont-make-these-expensive-mistakes-66c1eaa7d1ee">用雪花？不要犯这些代价高昂的错误</a></li><li id="014d" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated"><a class="ae le" rel="noopener ugc nofollow" target="_blank" href="/near-realtime-data-ingestion-in-snowflake-7033d45ce860"> <em class="na">雪花中的近实时数据摄取(以及如何实现热/冷/冻结数据存储策略)</em> </a></li><li id="bd5d" class="nq nr it kk b kl nz ko oa kr ob kv oc kz od ld nv nw nx ny bi translated"><a class="ae le" href="https://jmarquesdatabeyond.medium.com/using-snowflake-external-tables-you-must-read-this-aeb66ae8e0e6" rel="noopener"> <em class="na">使用外部表时的性能考虑</em> </a></li></ul></div></div>    
</body>
</html>