# 3 对不好的评论使用的代码评审响应

> 原文：<https://levelup.gitconnected.com/3-code-review-responses-to-use-on-bad-comments-a2314bee1d95>

## 我如何回应糟糕的代码评审评论

![](img/c0ed7d89de67aeee6727154cfadccf9e.png)

照片由来自[佩克斯](https://www.pexels.com/photo/man-person-people-woman-6914069/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)的[马体·米罗什尼琴科](https://www.pexels.com/@tima-miroshnichenko?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)拍摄

*你在你的公关上看到这些评论了吗？*

*   “我不喜欢这个解决方案。”
*   "我们应该用 X 方案，因为这是一个更好的方法."
*   "这个括号应该另起一行."

***吹毛求疵让你的工作变得无关紧要。你参与了这个大变革，所以有人可以留下无意义的评论。评论者关注的是风格问题，而大的变化却不为人知。***

以下是如何回应吹毛求疵，“更好”的解决方案和大重构。

# 你的括号风格不对

***大多数吹毛求疵的人都来自于不感兴趣的开发者。***

我不经常挑剔我的公关。大多数挑剔来自平庸的开发人员。他们狂看乔罗根和你的公关，所以他们吹毛求疵。

平庸的开发者往往会留下吹毛求疵的评论。我会说他们不关心你的公关，所以他们吹毛求疵。

***我们不要把所有吹毛求疵的都归为差评。***

挑剔可能来自更资深的开发人员。这并不意味着你不应该反对。应该有一个 linter 或声纳规则，使吹毛求疵无用。

***吹毛求疵背后有什么故事？它们有价值吗？***

你必须抑制住吹毛求疵的冲动。如果公关做得好，就批准吧。没有完美的公关。

适度的吹毛求疵是没问题的。有意义的名称、未使用的变量或缺少格式。

你也可以找到不健康的吹毛求疵。

这里有一个例子。

同事的代码是错误的，因为一些变量没有按字母顺序定义—[r/ExperiencedDevs](https://www.reddit.com/r/ExperiencedDevs/comments/pvx94m/comment/hedkiib/?utm_source=share&utm_medium=web2x&context=3)

吹毛求疵的正确方法是什么？如此标记它们。

我发现对大多数团队来说，吹毛求疵能起到推动作用。

通知被评审者评论的性质。这将为它们的处理做好准备。如果是问题，通知是问题。

***如何回应吹毛求疵？***

回应取决于公关的紧急程度。响应也取决于吹毛求疵的大小，小型应该没问题，类重构不会。

一个吹毛求疵的评论者:*“你应该把这个括号移到新的一行。”*

你: ***“好的，我现在就修那个。”***

一个吹毛求疵的评论者:*“你应该重构这个类中的所有名字。”*

你: ***“那不在这张票的范围内。我们可以创建一个后续标签来重构这些代码。”***

# 当你在那里的时候清理代码

*我留下了一个不相关的代码清理注释。我没有得到回应。*

这些很少见，但你可以在你的简历上看到。 这是变相的范围蠕动。更多的变化——更多的担忧。

我喜欢让改变变得简单。 这些评论很好地指出了更好的方法。即便如此，对于被评估者来说，他们可能显得有点咄咄逼人。

***你不喜欢在你为期一周的公关中出现不相关的代码评论。你做了很多工作，现在这位同事带来了他无关的小变化。***

为什么首先会出现这些评论？

未定义的要求。项目知识贫乏。没有知识共享，或良好的文档。

你可以在一项任务中找到可重用的代码。在不需要的时候完成任务。修复一个不是 bug 的 bug。

假设您需要重构一个端点。

缺乏项目知识会产生无意义的工作。可能是无用的验证。可能是服务层的错误实现。在做出改变之前和其他人商量一下，否则你会得到很多评论。

*如何接近无关的代码评审评论？*

假设您引入了一个新的异常。这个映射到错误状态代码。一名团队成员对此有些担忧。

评审员:*“我们为什么要用这个例外？这不适用于当前的异常映射器。*

异常被翻译了，它像预期的那样工作，所以你得到了一个注释。

你: ***“我已经将异常转换为映射异常。这个是需要的。”***

或者让我们说你在丑陋的代码附近。您只接触修复 bug 所需的内容。

评审员:*“我们应该清理这部分代码。这个 X 级应该进 Y 包，而且……"*你:*"我们应该先创建一个科技债票，讨论一下。我可以单独处理。”*

***新票有什么好处？*** 你不要危及你的范围。你不会在你的公关中引入新的漏洞。你不会给你的新重构增加额外的测试。

在单独的任务中保留大的变化。

# 你不是这里最好的开发者

你应该照吩咐的去做。

这确实类似于 NIH 综合征。你的代码不是最好的，你应该毫无疑问地重构。

*   “你的端点不是 RESTful 的。”
*   "你可以在这里用 X，而不是 y . "
*   “你可以这样做。”

如果这些看起来合理，你应该提出来。有时它们是知识展品。我知道的比你多，听我说。我是专家，听我说。

我们为什么会得到这些评论？

你一定很挑剔，所以现在轮到他们了。

***复仇。*** 有些人把自己的代码和注释放在心上。如果代码很烂，那不是你。有些人没有这种感觉。

他们形成了这样的思维定势:**“你昨天在我的代码上撒尿，我今天就在你的代码上撒尿。”**

我永远不会用模板回答来解决这个问题。

你应该和那个同事配对。找到正确的解决方案，然后回到评论。将决议写为回复。

评审员:*“我们可以像 X 那样做，而不是像你那样做。”*

经过建设性的讨论后，你回来写下结果。

你:*“与约翰讨论后，我们得出结论，X 是更好的解决方案。”或者“因为 XYZ，我们认为我的解决方案已经足够了。”*

大多数代码评审注释可以通过配对来删除。在 PR 创建之前，你们都要检查代码。这似乎是内部开发的解决方案，但对于远程团队来说，却不是。