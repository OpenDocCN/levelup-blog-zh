<html>
<head>
<title>Introduction to SQL: Aggregate Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQL简介:聚合函数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/introduction-to-sql-aggregate-functions-c61197043edb?source=collection_archive---------9-----------------------#2021-02-20">https://levelup.gitconnected.com/introduction-to-sql-aggregate-functions-c61197043edb?source=collection_archive---------9-----------------------#2021-02-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/26b1e3ebfda909e053b6f33f0dcd58f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/0*2dmBjs3RUizS-0ep.png"/></div></figure><h2 id="6d61" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">简介:</h2><p id="a197" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la kd lb lc ld kh le lf lg kl lh li lj lk ij bi translated">SQL(结构化查询语言)是一种特定于领域的语言，在编程中用于管理存储在关系数据库管理系统中的数据。它最初是由IBM的Donald D. Chamberlin和Raymond F. Boyce在20世纪70年代早期开发的。该系统是为了管理和检索存储在IBM原始关系数据库管理系统System R中的数据而设计的。SQL帮助引入了用一个命令访问许多记录的概念，并消除了指定如何访问记录的需要。除了查询数据库之外，SQL还可以用来创建和修改数据库。</p><h2 id="dbdf" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">聚合函数:</h2><p id="8043" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la kd lb lc ld kh le lf lg kl lh li lj lk ij bi translated">在SQL中，您经常想要执行某些函数来进一步分析数据并得出结论。SQL中的某些函数允许您分析数据，以确定数据框中行或列的最大值、最小值、平均值和总和。</p><p id="0f8e" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">对于下面的例子，我们将假设有一个标题为“Yankees”的纽约扬基队的数据帧。它包括2019-2020赛季每个球员的统计数据。列是:球员姓名，位置，命中，人力资源，打点，SB和平均。</p><p id="803d" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">最大值:</strong></p><p id="87ff" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">让我们假设，我们想弄清楚纽约洋基队的哪个球员在2019-2020赛季打出了最多的本垒打。为此，我们将使用MAX函数。对于本例，代码如下所示:</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/ab6fb60d2a72781229f99a3ef046a0c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*h73RaTGYhuY8WmkRqXeQWw.png"/></div></figure><p id="c3e3" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">最低:</strong></p><p id="d9b5" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">现在，让我们假设我们想要找出纽约扬基队中哪个球员在2019-2020赛季的击球率最低。为此，我们将使用MIN函数。对于本例，代码如下所示:</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/fc6b1a0befc51718b1ee78590b696327.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*lSCDyR2RWf1TWapudYJ4CA.png"/></div></figure><p id="26e2" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">平均:</strong></p><p id="9bde" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">现在，让我们假设我们想要找出纽约扬基队的每个球员在2019-2020赛季的平均击球次数。为此，我们将使用AVG函数。对于本例，代码如下所示:</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/7bdbc0b527eb81121c116f615e628970.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*u3JwdRXhQ03vxOFgsQM_QQ.png"/></div></figure><p id="d754" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated"><strong class="ks ir">总和:</strong></p><p id="09db" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">最后，让我们假设我们想要找出纽约洋基队的球员在2019-2020赛季中被盗垒的总数。为此，我们将使用SUM函数。对于本例，代码如下所示:</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/b663da21df46ca25ebfde1e5a765633b.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*nbi_g_b5zmwwOwocULpXdg.png"/></div></figure><h2 id="6bf7" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">带有WHERE子句的聚合函数:</h2><p id="fb6f" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la kd lb lc ld kh le lf lg kl lh li lj lk ij bi translated">通常，有必要根据规范执行聚合功能。你可能想算出每个位置击出的本垒打总数，而不是全队击出的本垒打总数。通过这样做，您可以从数据中得出进一步的观察和结论。</p><p id="26d2" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">例如，假设我们想要确定纽约扬基队三垒手击出的本垒打总数。这段代码类似于:</p><figure class="lr ls lt lu gt jr gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/614fb04c7abb799fb96810b4e0c28662.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*WsOxblNmFxgvBkkFrfuqIQ.png"/></div></figure><h2 id="64e3" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">SQL算法:</h2><p id="49a6" class="pw-post-body-paragraph kq kr iq ks b kt ku kv kw kx ky kz la kd lb lc ld kh le lf lg kl lh li lj lk ij bi translated">除了对数据框使用聚合函数之外，您还可以使用SQL执行基本运算。要执行算术运算，您不需要数据框。用于执行算术运算的符号是不言自明的:</p><ul class=""><li id="6ea2" class="lx ly iq ks b kt ll kx lm kd lz kh ma kl mb lk mc md me mf bi translated">Add = +</li><li id="1c94" class="lx ly iq ks b kt mg kx mh kd mi kh mj kl mk lk mc md me mf bi translated">减去= -</li><li id="7fbe" class="lx ly iq ks b kt mg kx mh kd mi kh mj kl mk lk mc md me mf bi translated">乘法= *</li><li id="5b81" class="lx ly iq ks b kt mg kx mh kd mi kh mj kl mk lk mc md me mf bi translated">Divide = /</li></ul><p id="b284" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">要执行这些函数，您可以使用SELECT，后跟括号中的等式。</p><p id="f355" class="pw-post-body-paragraph kq kr iq ks b kt ll kv kw kx lm kz la kd ln lc ld kh lo lf lg kl lp li lj lk ij bi translated">有趣的是，当你将一个整数除以另一个整数时，SQL将返回一个整数，而不管结果是否应该有小数点。为了解决这个问题，你需要在你的等式中插入带小数位的数字(不是7/4，而是7.0/4.0)。</p><h2 id="b5e4" class="ju jv iq bd jw jx jy dn jz ka kb dp kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">参考文献:</strong></h2><ul class=""><li id="be18" class="lx ly iq ks b kt ku kx ky kd ml kh mm kl mn lk mc md me mf bi translated">唐纳德·张伯伦(2012)。《SQL的早期历史》。<em class="mo"> IEEE计算历史年鉴</em>。<strong class="ks ir">34</strong>(4):78–82。<a class="ae mp" href="https://en.wikipedia.org/wiki/Doi_(identifier)" rel="noopener ugc nofollow" target="_blank">doi</a>:<a class="ae mp" href="https://doi.org/10.1109%2FMAHC.2012.61" rel="noopener ugc nofollow" target="_blank">10.1109/mahc . 2012.61</a>。<a class="ae mp" href="https://en.wikipedia.org/wiki/S2CID_(identifier)" rel="noopener ugc nofollow" target="_blank">S2CID</a>T12】1322572</li><li id="3dab" class="lx ly iq ks b kt mg kx mh kd mi kh mj kl mk lk mc md me mf bi translated">“欢迎参加本课程！:SQL。<em class="mo">Campus.datacamp.com</em>，camp . data camp . com/courses/introduction-to-SQL/aggregate-functions。</li></ul></div></div>    
</body>
</html>