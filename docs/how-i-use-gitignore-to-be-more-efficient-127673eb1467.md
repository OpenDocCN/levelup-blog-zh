# 我如何使用。让 gitignore 更有效率

> 原文：<https://levelup.gitconnected.com/how-i-use-gitignore-to-be-more-efficient-127673eb1467>

![](img/acdaefe148b56282a8b87772f3b465e3.png)

的。gitignore 文件是一个有用的，但经常被忽视的工具。你很可能知道它的存在，但你知道它的实际能力吗？当我发现如何正确使用它时，它让我每天都节省了时间，甚至在我的日常工作流程中减少了几个步骤。但是我们如何正确地使用它呢？

## 目录

*   [使用。git 尽可能忽略](https://medium.com/@vitaliysteffensen/127673eb1467#1d4d)
*   [创建并忽略个人文件](https://medium.com/@vitaliysteffensen/127673eb1467#4697)
*   [成为语法专家](https://medium.com/@vitaliysteffensen/127673eb1467#4ad1)
*   [加成:当。gitingore 不工作](https://medium.com/@vitaliysteffensen/127673eb1467#d7e8)

# 使用。尽可能忽略

![](img/ea85eb3f84e9d8dfe96f3d37c23988ad.png)

并不是所有的文件都必须包含在我们的版本控制中，应该使用. gitignore 来忽略。这些文件包括:

*   自动生成的文件(即`**.DS_Store**`)
*   已安装的依赖项(即`**/node_modules**`
*   构建工件(即`***.pyc**`或`**/build**`文件夹)
*   任何`**cache**`文件夹或文件。
*   并不是所有的配置文件对于我们的版本控制都是必要的。(即`**Sass config**` **或** `**.jmconfig**` **)**
*   本地开发人员特定的文件。这可以类似于本地开发环境配置文件。
*   如果您有包含 **API 密钥和其他敏感数据**的易受攻击的文件，它们也应该被忽略
*   在某些情况下，您可能还想包含`**static**`文件夹。

我们也可以访问 [.gitginore.io](https://www.toptal.com/developers/gitignore/) ，获得一个特定于我们的确切框架或编程语言的. gitignore 模板。

主要的收获是，我们在版本控制中包含的文件越少，我们花在克隆、推和拉上的时间就越少。更少的文件也意味着我们留给合并冲突发生的空间更少。最后但并非最不重要的一点是，排除包含敏感数据的文件将减少您的漏洞，使您在未来免受许多麻烦。

# 创建和忽略个人文件

![](img/0a8ba12325ab1f1b2af7abe2e665696b.png)

如果我们通过将文件添加到。gitignore 文件，它将适用于所有克隆了回购的人。但另一方面，如果我们使用所谓的`**exclude**`文件，它使我们能够忽略只针对我们的文件，编辑这个文件不会对其他任何人造成任何改变。我们将在您的项目的 git 文件夹中找到个人排除文件:`**git/info/exclude**`

通过使用这个文件夹，我们将为自己提供更加灵活和定制的开发体验。当编码时，最好添加我们自己的文件，与回购相关。这些文件可以是任何东西，从快速待办事项到模拟的 API 响应，带有固定的数据。

如果不使用排除文件，我们最终将需要删除或隐藏我们创建的每个文件，这并不意味着进入我们版本控制的主分支。

# 成为语法专家

![](img/0cc33e998b71b1145de6096c520d9d42.png)

。gitignore 有自己的语法，允许我们非常灵活地选择文件。这将只允许我们忽略现有的文件，但也允许我们忽略任何符合特定模式的未来文件。

我个人最喜欢和最常用的是:

*   前缀`**#**`注释掉了这一行
*   `**!**`前缀，用于重新包含排除的文件和目录
*   `*****`匹配除`**/**`之外的任何单个或一组字符
*   `**?**`匹配任何一个字母
*   `******`匹配完整路径。(例如`***/src/**/index.js***`)可以匹配源文件夹中的任何 index.js 文件，无论文件夹结构如何。
*   以及`***\***`，当我的文件名或文件夹名以保留前缀开始时。(即`***#exampleFile***`将成为`***\#exampleFile***`)

如果你想了解更多的模式格式和规则，我们可以看看这个[网站](https://git-scm.com/docs/gitignore)。

主要的收获是，通过学习语法/格式，我们可以排除当前和未来匹配特定模式的文件。这使得更加灵活。gitignore 文件，并将它与项目一起缩放，而不需要我们不断地编辑它。

# 奖金:当。gitingore 不管用

如果您使用 git 已经有一段时间了，您很可能会遇到这个问题。你对你的。gitignore 文件或您的个人排除文件，更改将不会生效。这只是由于 Gits 缓存，而且超级容易修复。如果您运行`git rm -r --cached .`，它将清除缓存，您的更改将在您提交时生效。如果您做了任何更改，您可能希望在运行命令之前提交或保存这些更改。

# 结论

要正确使用。gitignore 我们希望**忽略尽可能多的文件**，为合并冲突和漏洞留下更少的空间，同时使拉、推和克隆更快。我们还希望**利用排除文件**，这将允许我们添加只存在于我们本地版本的存储库中的文件，如 todos 或虚拟数据。最后但同样重要的是，我们可以**学习语法**，忽略当前和未来匹配特定模式的文件。如果我们利用这三个步骤，我们将实现一个更快、更安全、更灵活的供应链，并随着我们的项目而扩展。