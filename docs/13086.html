<html>
<head>
<title>How to integrate AdMob to an iOS app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将AdMob集成到iOS应用程序中</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-integrate-admob-to-an-ios-app-458129f5e10d?source=collection_archive---------3-----------------------#2022-08-05">https://levelup.gitconnected.com/how-to-integrate-admob-to-an-ios-app-458129f5e10d?source=collection_archive---------3-----------------------#2022-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b2e27dcc24d37bf46dc0312c9742c867.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w7nUwZjOwGBpi0pa"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://unsplash.com/@bramnaus?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Bram Naus </a>在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="2425" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您成功创建了一个应用并将其上传到app store。你想最终收获工作的回报。你有多种方法来赚钱，包括付费模式和免费增值。</p><p id="6629" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在付费模式中，你可以通过应用内购买或基于订阅的商业模式来创收，这种模式可以向用户收取更多功能的额外费用。客户可以在免费增值模式下下载应用程序，但你可以通过加入广告来赚钱。</p><p id="a711" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有许多公司提供应用程序广告。但是，我们正在将Admob集成到iOS应用程序中。但是，下面列出了一些先决条件，因此在我们深入了解更多细节之前，请阅读这些先决条件:</p><p id="7d7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您必须拥有Google AdMob帐户并注册您的应用程序。</p><p id="d898" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Xcode 13.2.1或更高版本</p><p id="3cce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">目标iOS 10.0或更高版本</p><p id="8863" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在创建AdMob帐户并注册我们的应用程序后，我们将按照这些步骤将AdMob集成到我们的应用程序中。</p><ul class=""><li id="d8b4" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">导入移动广告SDK</li><li id="681f" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">更新Info.plist</li><li id="6c0e" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">更新AppDelegate.m</li></ul><p id="8fcb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">导入移动广告SDK </strong></p><p id="1063" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有几种方法可以将移动广告SDK集成到您的应用程序中。然而，我们正在通过CocoaPods将SDK导入应用程序。请检查您的计算机上是否已经安装了CocoaPods如果没有，请先这样做。</p><p id="d73b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">转到终端并运行以下命令</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="f2a2" class="ly lz iq lu b gy ma mb l mc md">sudo gem install cocoapods</span></pre><p id="159b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在你的Mac上安装CocoaPods只需要很短的时间。安装完成后，浏览到项目目录。我的项目在这个命令中的名字是<em class="me"> DemoProject </em>。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="2a58" class="ly lz iq lu b gy ma mb l mc md">cd <!-- -->/Users/singh/Documents/Projects/DemoProject</span></pre><p id="33ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您的项目可以有不同的目录。您可以从项目位置拷贝项目文件夹，并将其粘贴到终端中。之后，运行项目中pod的初始化命令。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="699d" class="ly lz iq lu b gy ma mb l mc md">pod init</span></pre><p id="c2d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在转到项目目录，在那里您会发现一个看起来像他的pod文件。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="c08d" class="ly lz iq lu b gy ma mb l mc md"># Uncomment the next line to define a global platform for your project<br/># platform :ios, '9.0'</span><span id="1130" class="ly lz iq lu b gy mf mb l mc md">target 'DemoProject' do<br/>  # Comment the next line if you don't want to use dynamic frameworks<br/>  use_frameworks!</span><span id="da52" class="ly lz iq lu b gy mf mb l mc md"># Pods for DemoProject</span><span id="a3fa" class="ly lz iq lu b gy mf mb l mc md">end</span></pre><p id="dd5f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在您的pod文件中，包括这一行。</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="4f70" class="ly lz iq lu b gy ma mb l mc md">pod 'Google-Mobile-Ads-SDK'</span></pre><p id="a53a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来执行这个命令</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="91e9" class="ly lz iq lu b gy ma mb l mc md">pod install</span></pre><p id="a37a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">恭喜你！您已经完成了将AdMob集成到项目中的第一阶段。</p><p id="01db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在你必须从你的项目目录中打开以<code class="fe mg mh mi lu b">.xcworkspace</code>结尾的项目。</p><p id="94bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">更新信息列表</strong></p><p id="2c1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">打开<code class="fe mg mh mi lu b">Info.plist</code>文件作为源代码，并将以下两个键添加到您的文件中。</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/c0a5dea5f78d051bde657534c2c305e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z3pxKLIb86L7vLQm6fjmbw.png"/></div></div></figure><ol class=""><li id="f881" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la mk lh li lj bi translated">一个带有应用程序id字符串值的<code class="fe mg mh mi lu b">GADApplicationIdentifier</code>键。要创建应用id，请在您的AdMob帐户中转到<code class="fe mg mh mi lu b">Apps &gt; Add App</code>应用。</li><li id="be6d" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la mk lh li lj bi translated">带有<code class="fe mg mh mi lu b">SKAdNetworkIdentifier</code>值的<code class="fe mg mh mi lu b">SKAdNetworkItems</code>键。</li></ol><p id="0b68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您的Info.plist文件应该如下所示。</p><figure class="lp lq lr ls gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="5570" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">更新AppDelegate </strong></p><p id="6e05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要在应用启动期间初始化SDK，请在您的<code class="fe mg mh mi lu b">AppDelegate</code>文件中更新两行。</p><ol class=""><li id="43d8" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la mk lh li lj bi translated"><code class="fe mg mh mi lu b">import GoogleMobileAds</code></li><li id="9d33" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la mk lh li lj bi translated">并调用<code class="fe mg mh mi lu b">GADMobileAds.sharedInstance</code>上的完成处理程序</li></ol><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="e117" class="ly lz iq lu b gy ma mb l mc md">GADMobileAds.sharedInstance().start(completionHandler: nil)</span></pre><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mn"><img src="../Images/0ce428dc888d4050ab920556c0db3730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9AabJrgqFowlDcRlU1Ir8g.png"/></div></div></figure><p id="c2f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">恭喜你！您已经完成了将AdMob集成到您的应用程序所需的所有困难工作。我们的下一步是根据我们的应用程序风格选择广告格式。</p><p id="4b1a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">选择广告形式</strong></p><p id="a21d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下一步是决定要使用的广告格式。有四种格式可供使用:</p><ul class=""><li id="0ee5" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">横幅——当用户与应用程序交互时，它总是显示在屏幕的底部或顶部。</li><li id="0a2b" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">interstitial—这是一个全屏广告，将一直运行，直到用户关闭它。当一个关卡完成时，是实施填隙式游戏的理想时机。</li><li id="a3da" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">原生-这是一个可定制的广告，可以定制以匹配应用程序的外观和感觉。</li><li id="1d9f" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">奖励-用户可以因为观看短视频或使用它完成调查而获得奖励。</li></ul><p id="e6c9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将重点讨论如何实现间隙广告。</p><p id="743a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">更新ViewController </strong></p><p id="eb3d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">整合插播广告的主要步骤是:</p><ol class=""><li id="e95c" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la mk lh li lj bi translated">为插播广告创建变量</li><li id="d5a5" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la mk lh li lj bi translated">加载带有广告单元id的add。在下面的代码中，我们使用谷歌提供的测试单元广告。在测试ad单元时，您应该始终使用测试单元id。</li><li id="8b83" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la mk lh li lj bi translated">为<code class="fe mg mh mi lu b">GADFullScreenContentDelegate</code>协议注册回调，该协议在广告显示成功、加载失败或关闭时处理回调。</li><li id="39b9" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la mk lh li lj bi translated">显示广告</li></ol><figure class="lp lq lr ls gt jr"><div class="bz fp l di"><div class="ml mm l"/></div></figure><p id="6eab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">结论</strong></p><p id="c386" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你应该根据你的应用程序的设计选择合适的广告形式。在展示广告时，你应该始终牢记用户体验。广告不应过度展示，只应在自然过渡时展示。</p></div></div>    
</body>
</html>