<html>
<head>
<title>Space Shooter Challenge: Ammo Collectable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">太空射击挑战:弹药收集</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/space-shooter-challenge-ammo-collectable-4189add27bbc?source=collection_archive---------6-----------------------#2021-05-27">https://levelup.gitconnected.com/space-shooter-challenge-ammo-collectable-4189add27bbc?source=collection_archive---------6-----------------------#2021-05-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2e6e40b4de0cd1bd7e7b388f7105f026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LdBGY0gsuikZR_BG9lO4iw.gif"/></div></div></figure><p id="ee82" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们的游戏现在有弹药计数，但没有办法补充弹药。是时候扩展<strong class="ka ir">模块化加电</strong>系统了。我从创建<strong class="ka ir">精灵</strong>开始。</p><p id="8ae2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为此，我在<strong class="ka ir"> GIMP中打开了一个现有的电源。</strong>在谷歌上快速搜索找到一个类似的块状字体后，我创建了一个新的文本框，并将其缩放到原来的旁边，以尽可能匹配。然后我裁剪掉原来的文本，把新的文本拖进去。</p><p id="06f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">创建白色轮廓需要一些工作。我不是艺术家，这是我第一次使用GIMP。我很快发现，您可以将<strong class="ka ir">路径添加到文本</strong>中，从而创建一个轮廓路径。创建一个新的层，然后绘制路径，让我试错，并最终与上述图像。分不清对不对？</p><p id="0e75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，我把原始动画精灵的所有文字颜色放到一个调色板中，然后复制弹药能量，每次都改变文字颜色。</p><p id="c31a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这需要一点工作和大量的学习，但现在我有了一个未来电源的模板。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><p id="c1e2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回到<strong class="ka ir">团结。我导入了第一个精灵，重新命名，重新缩放。然后我把它放在<strong class="ka ir">前景层。</strong>增加了一个<strong class="ka ir">箱式碰撞器2D </strong>和一个<strong class="ka ir">刚体2D </strong>然后是<strong class="ka ir">加电脚本</strong>。然后我将加电ID设置为3，使其成为<strong class="ka ir">预置，</strong>然后在我的<strong class="ka ir">产卵管理器</strong>上，将<strong class="ka ir">预置</strong>拖入我的<strong class="ka ir">加电数组</strong>。</strong></p><p id="8974" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">弹药强化将和其他强化一起随机产生。</p><p id="eb0b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了创建功能，需要在<strong class="ka ir">加电脚本的<strong class="ka ir">开关语句</strong>中添加一个新的<strong class="ka ir">案例</strong>。</strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ld"><img src="../Images/14209dd37f5ff02434459c8675e53861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wxYA-IOCZu9KmL7xvjvEIg.png"/></div></div></figure><p id="00e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最初，会有一个错误，因为<strong class="ka ir">添加弹药方法</strong>还没有被创建。<strong class="ka ir"> </strong>我还选择了传入一个<strong class="ka ir">int variable _ ammoPowerupCount</strong>，它可以在<strong class="ka ir"> Inspector </strong>中分配给<strong class="ka ir"> Powerup预置。</strong>这是未来更多的模块化，当我可能想要多种级别的<strong class="ka ir">弹药能量，</strong>如小型，中型或大型。</p><p id="e45b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我现在也为护盾加电做了同样的事情。</p><p id="3692" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<strong class="ka ir">播放器脚本中，</strong>我相应地创建了新的<strong class="ka ir">方法。</strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ld"><img src="../Images/aeef65882dc2da6a40dd182389e429a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dLQjrwWEcyl9wlgrsvFB_w.png"/></div></div></figure><p id="4591" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">_ amcount变量</strong>已经存在。我只想把传递的int值附加到它上面。此外，我不希望用户能够积累太多弹药，所以我为<strong class="ka ir"> _maxAmmo创建了一个<strong class="ka ir"> int变量</strong>。</strong></p><p id="9ebf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后我可以检查弹药数量是否超过最大弹药数量，并锁定在该值。</p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ld"><img src="../Images/5d68691860a2a468ef5ecd8070d4d09d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cW19Dengicon7-VKGmv4wA.png"/></div></div></figure><p id="4daf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，我还需要调用<strong class="ka ir"> UpdateAmmoUI方法</strong>，它也在激光发射时被调用，<strong class="ka ir"> </strong>，这样<strong class="ka ir"> UIManager </strong>可以增加和减少弹药数量。</p><p id="deb0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我还调整了<strong class="ka ir"> UpdateAmmoUI方法</strong>来要求第二个<strong class="ka ir"> int变量</strong>，这样我就可以传入<strong class="ka ir"> max ammo变量。</strong></p><p id="56a6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这允许我将最大弹药添加到弹药总量中，向用户显示他们还有多少弹药。</p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ld"><img src="../Images/edfd6319b1c87dfcbc95b563e62db36b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QuxDBNCSf-jz-6jLG5xDIw.png"/></div></div></figure><p id="d070" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我还为<strong class="ka ir"> UIManager </strong>添加了一个<strong class="ka ir"> _ammoTotal变量</strong>，这样我就可以将弹药数量分配给一个可以在脚本的其他方法中使用的变量。这是为了让我停止协程。弹药现在可以达到0并开始闪烁，但之后会增加。</p><p id="8b69" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了停止<strong class="ka ir">协程</strong>，我将<strong class="ka ir"> while循环</strong>改为在弹药总量等于零时运行<strong class="ka ir">。</strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi li"><img src="../Images/02b163341021dcd84218f6030d49c186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RCJOZuYZQ1cjRRxWMdTuRg.gif"/></div></div></figure></div></div>    
</body>
</html>