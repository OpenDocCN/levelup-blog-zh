<html>
<head>
<title>Building a Snake Game using Canvas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨ç”»å¸ƒæ„å»ºä¸€ä¸ªè´ªåƒè›‡æ¸¸æˆ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/building-a-snake-game-using-canvas-260a738edcec?source=collection_archive---------4-----------------------#2020-04-20">https://levelup.gitconnected.com/building-a-snake-game-using-canvas-260a738edcec?source=collection_archive---------4-----------------------#2020-04-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/e9d48a31ca14fddb52f7cfbc7e2d2c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*os5aQl-NfyQLQl3YfbAQtA.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">ä½¿ç”¨ç”»å¸ƒæ„å»ºä¸€ä¸ªè´ªåƒè›‡æ¸¸æˆ</figcaption></figure><p id="391a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">HTMLâ€œcanvasâ€å…ƒç´ æ˜¯HTML5ä¸­æ·»åŠ çš„æ–°å…ƒç´ ä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ä¸ªå›ºå®šå¤§å°çš„å®¹å™¨ï¼Œå…è®¸æ‚¨ä½¿ç”¨JavaScriptåœ¨å…¶ä¸­ç»˜åˆ¶å›¾å½¢ã€‚<strong class="kd iu"> <em class="kz"> Canvasæœ‰å‡ ç§ç»˜åˆ¶è·¯å¾„ã€æ¡†ã€åœ†ã€æ–‡æœ¬ã€æ·»åŠ å›¾åƒçš„æ–¹æ³•ã€‚</em> </strong>è¿˜å¯ä»¥åˆ¶ä½œäº’åŠ¨åŠ¨ç”»å’Œæ¸¸æˆã€‚</p><p id="129c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="kz"> &lt; canvas &gt; </em> </strong>å…ƒç´ æ˜¯HTMLä»£ç ä¸­å®šä¹‰çš„å¯ç»˜åˆ¶åŒºåŸŸï¼Œå…¶é«˜åº¦å’Œå®½åº¦å±æ€§å¦‚ä¸‹:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="f3ac" class="lj lk it lf b gy ll lm l ln lo">&lt;canvas id=â€firstCanvasâ€ width=â€500" height=â€500"&gt;&lt;/canvas&gt;</span></pre><p id="d1b7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™é‡Œçš„<strong class="kd iu"><em class="kz">ã€idã€‘</em></strong>å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒç”¨äºä½¿ç”¨æ–‡æ¡£å¯¹è±¡æ¨¡å‹(DOM)  åœ¨JavaScript <strong class="kd iu"> <em class="kz">ä¸­å®šä½è¯¥å…ƒç´ ï¼Œå¦‚ä¸‹æ‰€ç¤º:</em></strong></p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="f4c9" class="lj lk it lf b gy ll lm l ln lo">var canvas = document.getElementById(â€œfirstCanvasâ€);</span></pre><p id="9e10" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨JavaScriptä¸­ï¼Œç»˜å›¾æ–¹æ³•ä¸æ˜¯åœ¨canvaså…ƒç´ ä¸Šè°ƒç”¨ï¼Œè€Œæ˜¯åœ¨é€šè¿‡è°ƒç”¨<strong class="kd iu"> <em class="kz">è·å¾—çš„ç»˜å›¾ä¸Šä¸‹æ–‡ä¸Šè°ƒç”¨ã€‚getContext('2d') </em> </strong>å¦‚ä¸‹:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="a90c" class="lj lk it lf b gy ll lm l ln lo">var context = canvas.getContext(â€œ2dâ€);</span></pre><p id="a9f8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¯¥æ–¹æ³•è¯†åˆ«ç›®æ ‡canvaså…ƒç´ çš„ä¸Šä¸‹æ–‡ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥è®¿é—®canvas drawing APIï¼Œè¯¥APIæä¾›äº†åœ¨canvasä¸Šè¿›è¡Œç»˜åˆ¶çš„æ–¹æ³•å’Œå±æ€§ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨ç”»å¸ƒä¸Šç”»ä¸€ä¸ªçŸ©å½¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong class="kd iu"><em class="kz">context . rect()</em></strong>æ–¹æ³•å¦‚ä¸‹:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="bbbc" class="lj lk it lf b gy ll lm l ln lo">context.rect(20, 20, 100, 100);</span></pre><p id="1fe5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¯¥æ–¹æ³•å–å››ä¸ªå‚æ•°:çŸ©å½¢å·¦ä¸Šè§’çš„xå’Œyåæ ‡ä»¥åŠçŸ©å½¢çš„å®½åº¦å’Œé«˜åº¦:<strong class="kd iu"> <em class="kz"> rect(xï¼Œyï¼Œwidthï¼Œheight) </em> </strong>ã€‚éœ€è¦è°ƒç”¨æ–¹æ³•<strong class="kd iu"><em class="kz">context . stroke()</em></strong>åœ¨ç”»å¸ƒä¸Šæ˜¾ç¤ºå½¢çŠ¶ã€‚å®ƒçœ‹èµ·æ¥ä¼šåƒè¿™æ ·:</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/aca061a222f912681ad30e39801f62a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*2GBE6R3e1LvQfJqgTphgUA.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">ä½¿ç”¨ç”»å¸ƒåˆ›å»ºçš„çŸ©å½¢</figcaption></figure><p id="9dab" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç±»ä¼¼åœ°ï¼Œå¯ä»¥ä½¿ç”¨<strong class="kd iu"> <em class="kz">ç»˜åˆ¶å¡«å……çŸ©å½¢ã€‚æ¥å—ç›¸åŒå‚æ•°çš„fillRect() </em> </strong>æ–¹æ³•ã€‚åœ¨è°ƒç”¨<strong class="kd iu"> <em class="kz">ä¹‹å‰ï¼Œå¯ä»¥ä½¿ç”¨<strong class="kd iu"><em class="kz">context . fill style</em></strong>æ–¹æ³•å®šä¹‰å¡«å……é¢œè‰²ã€‚</em>fill rect</strong>æ–¹æ³•:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="7f32" class="lj lk it lf b gy ll lm l ln lo">context.fillStyle= "#6c2c3a";</span><span id="95e8" class="lj lk it lf b gy lq lm l ln lo">context.fillRect(20, 20, 100, 100);</span></pre><p id="6400" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¸‹å›¾æ˜¾ç¤ºäº†ç”±ä¸Šè¿°ä»£ç è¡Œåˆ›å»ºçš„çŸ©å½¢:</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/0049c1c2c68a49447ebcccc63f11450f.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*pJXXjgxyDk_kQjKFG-HdSQ.png"/></div></figure><p id="8258" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¦ç”»ä¸€ä¸ªåœ†ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•<strong class="kd iu"><em class="kz">context . arc()</em></strong>æ¥è·å–åœ†å¿ƒåæ ‡ã€åœ†çš„åŠå¾„ä»¥åŠä»¥å¼§åº¦è¡¨ç¤ºçš„å¼€å§‹å’Œç»“æŸè§’åº¦ï¼Œåœ¨åœ†çš„æƒ…å†µä¸‹æ˜¯0åˆ°2*Mathã€‚åœ†å‘¨ç‡(360å¼§åº¦)ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨<strong class="kd iu"> <em class="kz"> lineTo() </em> </strong>æ–¹æ³•ä¸ºæ¯æ¡è¾¹ç»˜åˆ¶ä¸€æ¡çº¿æ¥ç»˜åˆ¶å…¶ä»–å½¢çŠ¶ï¼Œå¦‚ä¸‰è§’å½¢ã€‚é™¤äº†å½¢çŠ¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»˜åˆ¶æ–‡æœ¬ã€æ’å…¥å›¾åƒå’Œæ·»åŠ å˜æ¢ï¼Œå¦‚<strong class="kd iu"><em class="kz">ã€scaleã€‘ã€rotate()ã€translate() </em> </strong>ç­‰ã€‚</p><p id="309a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åˆ¶ä½œäº¤äº’å¼åŠ¨ç”»ä¹Ÿå¾ˆå®¹æ˜“(å¯¹é¼ æ ‡ç‚¹å‡»ã€é”®ç›˜æŒ‰é”®ã€æŒ‰é’®ç‚¹å‡»ã€è§¦æ‘¸å±ä¸Šçš„æ‰‹æŒ‡ç§»åŠ¨ç­‰åšå‡ºååº”çš„åŠ¨ç”»)ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„è´ªåƒè›‡æ¸¸æˆæ˜¯åŸºäºç‚¹å‡»æŒ‰é’®å’ŒæŒ‰ç®­å¤´é”®(ç”¨äºæ”¹å˜è›‡çš„æ–¹å‘)ã€‚</p><p id="4691" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æ„å»ºåŸºæœ¬è´ªåƒè›‡æ¸¸æˆçš„æ­¥éª¤:</p><h2 id="4464" class="lj lk it bd ls lt lu dn lv lw lx dp ly km lz ma mb kq mc md me ku mf mg mh mi bi translated"><strong class="ak">åˆ¶ä½œç”»å¸ƒ</strong></h2><p id="76e2" class="pw-post-body-paragraph kb kc it kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">ç¬¬ä¸€æ­¥æ˜¯åˆ¶ä½œä¸€ä¸ª<strong class="kd iu"> <em class="kz"> &lt;ç”»å¸ƒ&gt; </em> </strong>å…ƒç´ å¹¶è®¾ç½®å…¶å°ºå¯¸ã€‚ç»˜å›¾è¡¨é¢çš„èƒŒæ™¯ï¼Œå³<strong class="kd iu"> <em class="kz"> &lt; canvas &gt; </em> </strong>å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨CSSæˆ–JavaScriptæ–¹æ³•è®¾ç½®ã€‚</p><h2 id="daa3" class="lj lk it bd ls lt lu dn lv lw lx dp ly km lz ma mb kq mc md me ku mf mg mh mi bi translated"><strong class="ak">è®¾ç½®ç§»åŠ¨</strong></h2><p id="e6fd" class="pw-post-body-paragraph kb kc it kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œç”»å¸ƒè¢«è®¾ç½®ä¸ºåœ¨æ¸¸æˆä¸­è¿›è¡Œç§»åŠ¨ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨æ˜¾ç¤ºå…ƒç´ (è›‡ã€æ°´æœç­‰)çš„ä¸‹ä¸€ä¸ªä½ç½®ä¹‹å‰æ¸…ç©ºç”»å¸ƒåŒºåŸŸï¼Œæ›´æ–°å®ƒä»¬çš„åæ ‡ï¼Œç„¶åå†æ¬¡æ˜¾ç¤ºå®ƒä»¬ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸€ç›´é‡å¤åˆ°æ¸¸æˆç»“æŸã€‚é€šè¿‡ä½¿ç”¨JavaScriptæ–¹æ³•window.setInterval( <em class="kz">å‡½æ•°</em>ï¼Œ<em class="kz">æ¯«ç§’</em>)æ¥å®ç°ã€‚è¯¥æ–¹æ³•åœ¨æ¯ä¸ªæŒ‡å®šçš„æ—¶é—´é—´éš”é‡å¤ä¸€ä¸ªç»™å®šçš„å‡½æ•°ã€‚æ—¶é—´ä»¥æ¯«ç§’ä¸ºå•ä½ã€‚</p><p id="cb8f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨è¿™ä¸ªæ¸¸æˆä¸­ï¼Œ<strong class="kd iu"><em class="kz">window . setinterval</em></strong>ä¸­å®šä¹‰çš„å‡½æ•°åŸºæœ¬ä¸Šåšäº†ä¸‰ä»¶äº‹ã€‚é¦–å…ˆï¼Œå®ƒåœ¨æŸä¸ªä½ç½®ç»˜åˆ¶æ°´æœã€‚å…¶æ¬¡ï¼Œæ›´æ–°è›‡çš„ä½ç½®å¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚ç„¶åå®ƒæ£€æŸ¥è›‡æ˜¯å¦åƒäº†æ°´æœï¼Œå¹¶æ ¹æ®å®ƒæ›´æ–°æ°´æœä½ç½®å’Œåˆ†æ•°ã€‚</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="c1d9" class="lj lk it lf b gy ll lm l ln lo">function main() {</span><span id="71bf" class="lj lk it lf b gy lq lm l ln lo">//update state of game and display changes after specified interval</span><span id="415b" class="lj lk it lf b gy lq lm l ln lo">interval = window.setInterval(() =&gt; {</span><span id="d3cf" class="lj lk it lf b gy lq lm l ln lo">context.clearRect(0, 0, 500, 500);</span><span id="8057" class="lj lk it lf b gy lq lm l ln lo">drawFruit();</span><span id="acee" class="lj lk it lf b gy lq lm l ln lo">moveSnakeForward();</span><span id="d0a4" class="lj lk it lf b gy lq lm l ln lo">drawSnake();</span><span id="c77f" class="lj lk it lf b gy lq lm l ln lo">//check if snake eats the fruit - increase size of its tail</span><span id="5be8" class="lj lk it lf b gy lq lm l ln lo">and find new fruit position</span><span id="173c" class="lj lk it lf b gy lq lm l ln lo">if (snakeHeadX === fruitX &amp;&amp; snakeHeadY === fruitY) {</span><span id="434f" class="lj lk it lf b gy lq lm l ln lo">totalTail++;</span><span id="a189" class="lj lk it lf b gy lq lm l ln lo">fruitPosition();</span><span id="0111" class="lj lk it lf b gy lq lm l ln lo">}</span><span id="8e5d" class="lj lk it lf b gy lq lm l ln lo">}, 200);</span><span id="ad3b" class="lj lk it lf b gy lq lm l ln lo">}</span></pre><h2 id="59b3" class="lj lk it bd ls lt lu dn lv lw lx dp ly km lz ma mb kq mc md me ku mf mg mh mi bi translated"><strong class="ak">åˆ›é€ ç”»è›‡çš„æ–¹æ³•</strong></h2><p id="4001" class="pw-post-body-paragraph kb kc it kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">è¿™æ˜¯é€šè¿‡åˆ›å»ºä¸¤ä¸ªå‡½æ•°æ¥å®ç°çš„ï¼Œ<strong class="kd iu"><em class="kz">draw snakehead()</em></strong>å’Œ<strong class="kd iu"><em class="kz">draw snakebody()</em></strong>ã€‚ä½¿ç”¨è›‡èº«ä½“æ¯ä¸ªéƒ¨åˆ†çš„xå’Œyåæ ‡æ¥ç»˜åˆ¶è›‡ï¼Œå…¶ä¸­xå’Œyè¡¨ç¤ºè¯¥éƒ¨åˆ†çš„å·¦ä¸Šè§’ã€‚</p><p id="3760" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨æ–¹æ³•<strong class="kd iu"><em class="kz">draw snakehead()</em></strong>ä¸­ï¼Œå˜é‡<strong class="kd iu"><em class="kz">snakeheax</em></strong>å’Œ<strong class="kd iu"><em class="kz">snakeheay</em></strong>åˆ†åˆ«å­˜å‚¨è›‡å¤´çš„xå’Œyå€¼ã€‚è¿™é‡Œä½¿ç”¨context.arcæ–¹æ³•ä¸ºå¤´éƒ¨ç»˜åˆ¶ä¸€ä¸ªåœ†ã€‚é€‰æ‹©é€‚å½“çš„åæ ‡ï¼Œè›‡çš„çœ¼ç›ä¹Ÿå¯ä»¥ç±»ä¼¼çš„ç”»å‡ºæ¥ã€‚å˜é‡â€œscaleâ€å­˜å‚¨äº†è›‡èº«ä½“æ¯ä¸€éƒ¨åˆ†çš„åƒç´ æ•°ã€‚</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="b0bc" class="lj lk it lf b gy ll lm l ln lo">function drawSnakeHead(color) {</span><span id="e307" class="lj lk it lf b gy lq lm l ln lo">context.beginPath();</span><span id="dff0" class="lj lk it lf b gy lq lm l ln lo">context.arc(snakeHeadX+scale/2, snakeHeadY+scale/2, scale/2,</span><span id="784e" class="lj lk it lf b gy lq lm l ln lo">0, 2 * Math.PI);</span><span id="de6a" class="lj lk it lf b gy lq lm l ln lo">context.fillStyle = color;</span><span id="bd02" class="lj lk it lf b gy lq lm l ln lo">context.fill();</span><span id="fc17" class="lj lk it lf b gy lq lm l ln lo">}</span></pre><p id="680a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="kz">æ•°ç»„tail[] </em> </strong>å­˜å‚¨å°¾éƒ¨å„éƒ¨åˆ†çš„åæ ‡ã€‚å‡½æ•°<strong class="kd iu"><em class="kz">drawswangebody()</em></strong>åŒ…å«ä¸€ä¸ªå¾ªç¯ï¼Œä½¿ç”¨â€œtailâ€æ•°ç»„è¿­ä»£ç»˜åˆ¶å°¾éƒ¨çš„æ¯ä¸ªéƒ¨åˆ†ã€‚åœ¨è¿™é‡Œï¼Œå˜é‡â€œtailRadiusâ€åªæ˜¯ç”¨æ¥ä»åå‘å‰å¢åŠ è›‡å°¾çš„å¤§å°ã€‚æ‰€ä»¥ï¼Œå¦‚æœå°¾å·´é•¿åº¦æ˜¯4ï¼Œè¿™æ¡è›‡çœ‹èµ·æ¥åƒè¿™æ ·:</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/72b23dbc068c48969be84a448a4278f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/0*nP-C-kxms0h2YpTG"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">ä½¿ç”¨ç”»å¸ƒåˆ›å»ºçš„è›‡èº«</figcaption></figure><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="b1f1" class="lj lk it lf b gy ll lm l ln lo">function drawSnakeTail() {</span><span id="a9a4" class="lj lk it lf b gy lq lm l ln lo">let tailRadius = scale/4;</span><span id="fbc6" class="lj lk it lf b gy lq lm l ln lo">for (i = 0; i &lt; tail.length; i++) {</span><span id="35bd" class="lj lk it lf b gy lq lm l ln lo">tailRadius=tailRadius+((scale/2-scale/4)/tail.length);</span><span id="0576" class="lj lk it lf b gy lq lm l ln lo">context.beginPath();</span><span id="22dc" class="lj lk it lf b gy lq lm l ln lo">context.fillStyle = "#6c2c3a";</span><span id="a902" class="lj lk it lf b gy lq lm l ln lo">context.arc((tail[i].tailX+scale/2), (tail[i].tailY+scale/2), tailRadius, 0, 2 * Math.PI);</span><span id="d6d9" class="lj lk it lf b gy lq lm l ln lo">context.fill();</span><span id="f21b" class="lj lk it lf b gy lq lm l ln lo">}</span><span id="9eb4" class="lj lk it lf b gy lq lm l ln lo">}</span></pre><p id="e8a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç„¶ååœ¨<strong class="kd iu"><em class="kz">window . setinterval()</em></strong>å‡½æ•°ä¸­æ‰§è¡Œçš„<strong class="kd iu"> <em class="kz"> drawSnake() </em> </strong>æ–¹æ³•ä¸­è°ƒç”¨ä¸Šè¿°ä¸¤ä¸ªå‡½æ•°ã€‚</p><p id="cbdd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å‡½æ•°<strong class="kd iu"><em class="kz">moveSnakeForward()</em></strong>å°†è›‡å°¾å’Œè›‡å¤´çš„åæ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ã€‚å˜é‡<strong class="kd iu"> <em class="kz"> xSpeed </em> </strong>å’Œ<strong class="kd iu"> <em class="kz"> ySpeed </em> </strong>ä»£è¡¨ç‰¹å®šæ–¹å‘çš„è¿åŠ¨ï¼Œå³å¦‚æœè›‡æ°´å¹³è¿åŠ¨ï¼Œ<strong class="kd iu"> <em class="kz"> xSpeed </em> </strong>å°†ç­‰äºâ€œscaleâ€(å‘å³ä¸ºæ­£ï¼Œå‘å·¦ä¸ºè´Ÿ)<strong class="kd iu"> <em class="kz"> ySpeed </em> </strong>å°†ä¸ºé›¶ï¼Œåä¹‹äº¦ç„¶ã€‚å› æ­¤ï¼Œè›‡å¤´çš„æ–°å€¼æ˜¯ä½¿ç”¨è¿™äº›å˜é‡èµ‹å€¼çš„ã€‚</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="6c90" class="lj lk it lf b gy ll lm l ln lo">function moveSnakeForward() {</span><span id="a681" class="lj lk it lf b gy lq lm l ln lo">tail0=tail[0];</span><span id="3600" class="lj lk it lf b gy lq lm l ln lo">for (let i = 0; i &lt; tail.length - 1; i++) {</span><span id="6ea1" class="lj lk it lf b gy lq lm l ln lo">tail[i] = tail[i + 1];</span><span id="e506" class="lj lk it lf b gy lq lm l ln lo">}</span><span id="d6e6" class="lj lk it lf b gy lq lm l ln lo">tail[totalTail - 1] = { tailX: snakeHeadX, tailY: snakeHeadY };</span><span id="9f73" class="lj lk it lf b gy lq lm l ln lo">snakeHeadX += xSpeed;</span><span id="4916" class="lj lk it lf b gy lq lm l ln lo">snakeHeadY += ySpeed;</span><span id="ce1f" class="lj lk it lf b gy lq lm l ln lo">}</span></pre><h2 id="30b1" class="lj lk it bd ls lt lu dn lv lw lx dp ly km lz ma mb kq mc md me ku mf mg mh mi bi translated"><strong class="ak">æ ¹æ®æ–¹å‘ç§»åŠ¨è›‡</strong></h2><p id="2fb5" class="pw-post-body-paragraph kb kc it kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">åˆ›å»ºäº†ä¸€ä¸ªæ–¹æ³•ï¼Œæ ¹æ®ç©å®¶æŒ‰ä¸‹çš„é”®æ¥æ”¹å˜è›‡å¤´çš„æ–¹å‘ã€‚å‡½æ•°<strong class="kd iu"><em class="kz">change direction()</em></strong>ä½¿ç”¨ä¸€ä¸ªå¼€å…³ç›’ï¼Œå¹¶è·å–ä½¿ç”¨â€œkeydownâ€äº‹ä»¶æŒ‰ä¸‹çš„ç®­å¤´é”®çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥æ›´æ”¹æ–¹å‘ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæŒ‰ä¸‹å‘ä¸Šç®­å¤´é”®:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="2f7c" class="lj lk it lf b gy ll lm l ln lo">switch (directionVar) {</span><span id="68f5" class="lj lk it lf b gy lq lm l ln lo">case "Up":</span><span id="7c30" class="lj lk it lf b gy lq lm l ln lo">//move "up" only when previous direction is not "down"</span><span id="6c41" class="lj lk it lf b gy lq lm l ln lo">if (previousDir !== "Down") {</span><span id="17b3" class="lj lk it lf b gy lq lm l ln lo">direction=directionVar;</span><span id="ac71" class="lj lk it lf b gy lq lm l ln lo">xSpeed = 0;</span><span id="3e57" class="lj lk it lf b gy lq lm l ln lo">ySpeed = scale * -1;</span><span id="2d72" class="lj lk it lf b gy lq lm l ln lo">}</span><span id="055a" class="lj lk it lf b gy lq lm l ln lo">Break;</span><span id="023e" class="lj lk it lf b gy lq lm l ln lo">//similar cases for other directions</span><span id="a7c2" class="lj lk it lf b gy lq lm l ln lo">}</span></pre><p id="3700" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å˜é‡<strong class="kd iu"> <em class="kz"> directionVar </em> </strong>åŒ…å«ç©å®¶æŒ‰ä¸‹çš„é”®çš„ç»†èŠ‚ã€‚å‰ä¸€ä¸ªæ–¹å‘å­˜å‚¨åœ¨å˜é‡<strong class="kd iu"> <em class="kz"> previousDir </em> </strong>ä¸­ã€‚éšç€è›‡å‘ä¸Šç§»åŠ¨(å‚ç›´æ–¹å‘)ï¼Œ<strong class="kd iu"> <em class="kz"> xSpeed </em> </strong>è½¬åˆ°0(æ— æ°´å¹³ç§»åŠ¨)ï¼Œy speed<strong class="kd iu"><em class="kz">è½¬åˆ°è´Ÿã€‚é€šè¿‡ä¸º<strong class="kd iu"> <em class="kz"> xSpeed </em> </strong>å’Œ<strong class="kd iu"> <em class="kz"> ySpeed </em> </strong>é€‰æ‹©é€‚å½“çš„å€¼ï¼Œå¯ä»¥ä¸ºå…¶ä»–æ–¹å‘å®šä¹‰ç±»ä¼¼çš„æƒ…å†µã€‚</em></strong></p><h2 id="beeb" class="lj lk it bd ls lt lu dn lv lw lx dp ly km lz ma mb kq mc md me ku mf mg mh mi bi translated"><strong class="ak">åˆ›é€ æœå®</strong></h2><p id="19ad" class="pw-post-body-paragraph kb kc it kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">æ–¹æ³•<strong class="kd iu"><em class="kz">generate coordinates()</em></strong>åœ¨ç”»å¸ƒçš„é«˜åº¦å’Œå®½åº¦èŒƒå›´å†…ç”Ÿæˆéšæœºçš„xå’Œyå€¼ï¼Œå¯ç”¨äºæ°´æœçš„ä½ç½®ã€‚ä½¿ç”¨<strong class="kd iu"> <em class="kz"> fillRect() </em> </strong>æ–¹æ³•å¯ä»¥åœ¨è¿™ä¸ªä½ç½®åˆ¶ä½œä¸€ä¸ªæ­£æ–¹å½¢ã€‚æˆ–è€…ï¼Œå¯ä»¥ä½¿ç”¨<strong class="kd iu"> <em class="kz"> drawImage() </em> </strong>å†…éƒ¨æ–¹æ³•åœ¨æ­¤ä½ç½®æ’å…¥æ°´æœçš„å›¾åƒã€‚</p><h2 id="4ce1" class="lj lk it bd ls lt lu dn lv lw lx dp ly km lz ma mb kq mc md me ku mf mg mh mi bi translated"><strong class="ak">æ£€æŸ¥ç¢°æ’</strong></h2><p id="a3ee" class="pw-post-body-paragraph kb kc it kd b ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku mn kw kx ky im bi translated">åœ¨æ¯ä¸€ä¸ªé—´éš”ï¼Œéƒ½éœ€è¦æ£€æŸ¥è›‡æ˜¯ä¸æ›²é¢çš„è¾¹ç•Œå‘ç”Ÿäº†ç¢°æ’ï¼Œè¿˜æ˜¯ä¸å®ƒçš„å°¾å·´æœ¬èº«å‘ç”Ÿäº†ç¢°æ’(å¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤º)ã€‚</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="5bad" class="lj lk it lf b gy ll lm l ln lo">//check snake's collision</span><span id="d4e7" class="lj lk it lf b gy lq lm l ln lo">function checkCollision() {</span><span id="62c1" class="lj lk it lf b gy lq lm l ln lo">let tailCollision=false, boundaryCollision=false;</span><span id="d938" class="lj lk it lf b gy lq lm l ln lo">//with its own tail</span><span id="2ca8" class="lj lk it lf b gy lq lm l ln lo">for (let i = 0; i &lt; tail.length; i++) {</span><span id="c119" class="lj lk it lf b gy lq lm l ln lo">if (snakeHeadX == tail[i].tailX &amp;&amp; snakeHeadY == tail[i].tailY) {</span><span id="ddc5" class="lj lk it lf b gy lq lm l ln lo">tailCollision=true;</span><span id="2ac3" class="lj lk it lf b gy lq lm l ln lo">}</span><span id="883f" class="lj lk it lf b gy lq lm l ln lo">}</span><span id="eebd" class="lj lk it lf b gy lq lm l ln lo">//with boundaries</span><span id="1cbc" class="lj lk it lf b gy lq lm l ln lo">if(snakeHeadX &gt;= canvas.width || snakeHeadX &lt; 0 || snakeHeadY &gt;= canvas.height || snakeHeadY &lt; 0){</span><span id="97b7" class="lj lk it lf b gy lq lm l ln lo">boundaryCollision=true;</span><span id="2bbb" class="lj lk it lf b gy lq lm l ln lo">}</span><span id="1f62" class="lj lk it lf b gy lq lm l ln lo">return (tailCollision || boundaryCollision);</span><span id="9bb7" class="lj lk it lf b gy lq lm l ln lo">}</span></pre><p id="bfa9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¸Šè¿°æ–¹æ³•åœ¨å‡½æ•°<strong class="kd iu"> <em class="kz"> drawSnake() </em> </strong>ä¸­è°ƒç”¨å¦‚ä¸‹:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="667a" class="lj lk it lf b gy ll lm l ln lo">//display snake</span><span id="946a" class="lj lk it lf b gy lq lm l ln lo">function drawSnake() {</span><span id="f39f" class="lj lk it lf b gy lq lm l ln lo">drawSnakeHead("#7d4350");</span><span id="babe" class="lj lk it lf b gy lq lm l ln lo">drawSnakeTail();</span><span id="aa0f" class="lj lk it lf b gy lq lm l ln lo">if (checkCollision()) {</span><span id="8220" class="lj lk it lf b gy lq lm l ln lo">clearInterval(gameInterval);</span><span id="f0d9" class="lj lk it lf b gy lq lm l ln lo">setTimeout(()=&gt;{</span><span id="d720" class="lj lk it lf b gy lq lm l ln lo">scoreModal.textContent = totalTail;</span><span id="9160" class="lj lk it lf b gy lq lm l ln lo">$('#alertModal').modal('show');</span><span id="420b" class="lj lk it lf b gy lq lm l ln lo">modalBtn.addEventListener("click", ()=&gt;{</span><span id="7a11" class="lj lk it lf b gy lq lm l ln lo">context.clearRect(0, 0, 500, 500);</span><span id="ac32" class="lj lk it lf b gy lq lm l ln lo">score.innerText = 0;</span><span id="3f04" class="lj lk it lf b gy lq lm l ln lo">   });</span><span id="179e" class="lj lk it lf b gy lq lm l ln lo">  }, 1000);</span><span id="54df" class="lj lk it lf b gy lq lm l ln lo"> }</span><span id="3528" class="lj lk it lf b gy lq lm l ln lo">}</span></pre><p id="c2d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å¦‚æœå‘ç”Ÿç¢°æ’ï¼Œå°†å‘ç©å®¶æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­åŒ…å«æ–‡æœ¬â€œæ¸¸æˆç»“æŸâ€ä»¥åŠæœ€ç»ˆå¾—åˆ†ã€‚è¿™é‡Œï¼Œè‡ªä¸¾æ¨¡å‹ç”¨äºæ­¤ç›®çš„ã€‚æ–‡æœ¬çš„<strong class="kd iu"> <em class="kz"> &lt; span &gt; </em> </strong>å…ƒç´ (åœ¨æ¨¡æ€ä½“ä¸­)idä¸º<strong class="kd iu"><em class="kz">â€˜score modalâ€™</em></strong>è¢«è®¾ç½®ä¸ºæœ€ç»ˆå¾—åˆ†å¦‚ä¸‹:</p><pre class="la lb lc ld gt le lf lg lh aw li bi"><span id="57e7" class="lj lk it lf b gy ll lm l ln lo">scoreModal.textContent = totalTail;</span></pre><p id="8022" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç„¶åä½¿ç”¨jQueryåœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¿™ä¸ªæ¨¡æ€ã€‚æ–¹æ³•<strong class="kd iu"><em class="kz">clearInterval()</em></strong>åœæ­¢æ›´æ–°ç”»å¸ƒ(è›‡ã€æ°´æœç­‰çš„ä½ç½®)çš„å·²å®šä¹‰é—´éš”ã€‚</p><p id="5c36" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">è¿™ç¯‡æ–‡ç« å›é¡¾äº†åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„è´ªåƒè›‡æ¸¸æˆçš„æ–¹æ³•ã€‚</p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/1192b72f732816ca49a44300e5b0ddaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*770oJtOFP1eqxvQgwqAT_A.png"/></div></figure><p id="015b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ä¸ºäº†å¢åŠ æ¸¸æˆçš„éš¾åº¦ï¼Œè›‡çš„å…³å¡ä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹æ³•è®¾ç½®ã€‚é€šè¿‡ä½¿ç”¨<strong class="kd iu"><em class="kz">clearInterval()</em></strong>æš‚åœæ¸¸æˆå¹¶å†æ¬¡è°ƒç”¨<strong class="kd iu"> <em class="kz"> main() </em> </strong>æ–¹æ³•åœ¨äº¤æ›¿æŒ‰ç©ºæ ¼é”®æ—¶æ¢å¤æ¸¸æˆï¼Œä¹Ÿå¯ä»¥åœ¨æŒ‰ç©ºæ ¼é”®æ—¶æ·»åŠ æš‚åœå’Œæ¢å¤æ¸¸æˆç­‰åŠŸèƒ½ã€‚</p><p id="2f1c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">å®Œæ•´ä»£ç è¯·å‰å¾€<a class="ae mq" href="https://github.com/dev-catalyst/snake-game" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu"><em class="kz">GitHub</em></strong></a><strong class="kd iu"><em class="kz">ã€‚</em>T29ã€‘</strong></p><figure class="la lb lc ld gt ju gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/af506977a8fe0dd53d03bbd04b811d45.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/1*9bYUmcF4wcnjHBpjlRsP5w.gif"/></div></figure><p id="f332" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">åœ¨è¿™é‡Œï¼Œç—…æ¯’åœ¨ç‰¹å®šçš„æ—¶é—´é—´éš”åè¢«æŠ½å–åˆ°éšæœºçš„ä½ç½®ã€‚å½“è›‡åƒæ‰å®ƒæ—¶ï¼Œæ¸¸æˆç»“æŸã€‚åˆ›å»ºæ‚¨è‡ªå·±çš„æ¸¸æˆå¹¶äº«å—ã€‚ğŸ¤—</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="eadb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">é€šè¿‡<a class="ae mq" href="https://www.instagram.com/ctsolutions.sh/" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu"><em class="kz">insta gram</em></strong></a><strong class="kd iu"><em class="kz"/></strong><a class="ae mq" href="https://twitter.com/catalyst_sh" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu"><em class="kz">æ¨ç‰¹</em></strong></a><strong class="kd iu"><em class="kz"/></strong><a class="ae mq" href="https://www.linkedin.com/company/13707239/admin/" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu"><em class="kz">LinkedIn</em></strong></a>è”ç³»æˆ‘ä»¬</p><p id="119e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">æˆ–è€…ç»™æˆ‘ä»¬å‘ç”µå­é‚®ä»¶âœ‰ï¸åœ¨<strong class="kd iu"> admin@catalyst.sh. </strong></p><p id="cad1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">ç‚¹å‡»æŸ¥çœ‹æˆ‘ä»¬çš„å…¶ä»–åšå®¢<a class="ae mq" href="https://medium.com/@alka.jha_87549" rel="noopener">ã€‚</a></p><div class="mz na gp gr nb nc"><a href="https://medium.com/@alka.jha_87549/the-importance-of-email-design-e2daddffeca9" rel="noopener follow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">ç”µå­é‚®ä»¶è®¾è®¡çš„é‡è¦æ€§</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">å¥½çš„é‚®ä»¶è®¾è®¡èƒ½å¸å¼•è¯»è€…çš„çœ¼çƒï¼Œå¹¶è¯±ä½¿ä»–ä»¬åœ¨æ‰“å¼€é‚®ä»¶åç»§ç»­é˜…è¯»ã€‚</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">medium.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq jv nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a href="https://medium.com/@alka.jha_87549/how-to-make-your-website-seo-friendly-b3bb7db44c87" rel="noopener follow" target="_blank"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd iu gy z fp nh fr fs ni fu fw is bi translated">å¦‚ä½•è®©ä½ çš„ç½‘ç«™SEOå‹å¥½ï¼Ÿ</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">æœç´¢å¼•æ“ä¼˜åŒ–æ˜¯åœ¨è°·æ­Œæœç´¢ç»“æœä¸Šæé«˜ç½‘ç«™ç´¢å¼•çš„æ–¹æ³•ã€‚åœ¨åˆ¶ä½œè¿‡ç¨‹ä¸­â€¦</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">medium.com</p></div></div><div class="nl l"><div class="nr l nn no np nl nq jv nc"/></div></div></a></div></div></div>    
</body>
</html>