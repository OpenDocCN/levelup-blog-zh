<html>
<head>
<title>Customize Hero Animation in Flutter (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自定义颤振中的英雄动画(第1部分)</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/customize-hero-animation-flutter-83f6a35c79d4?source=collection_archive---------1-----------------------#2019-12-21">https://levelup.gitconnected.com/customize-hero-animation-flutter-83f6a35c79d4?source=collection_archive---------1-----------------------#2019-12-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4071" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">欢迎来到这个在Flutter中定制英雄动画的教程</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/dd975e6310469c3d11ff085659cfdd2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*73IgUxPfyXUKZAaIXgutrw.png"/></div></div></figure><p id="02c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在<a class="ae kx" href="https://www.instagram.com/theboringdeveloper/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上和我联系</p><h2 id="72bc" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">让我们从看到我们的最终目标开始</h2><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/1b7195774c44a2bc3748d9d54004bdd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*_aLUGP2uFBNpQ5m7etoaTg.gif"/></div></figure><p id="145f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你可能认为创作这样的动画会让用户感到沮丧，是的，你是对的。</p><p id="55f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我放慢了动画的速度，这样我们可以很容易地理解我们的目标。<br/>我们可以通过改变<strong class="jp ir"> <em class="ls">时间膨胀</em> </strong>来减缓应用程序中的动画速度</p><p id="3687" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更多信息—<a class="ae kx" href="https://api.flutter.dev/flutter/scheduler/timeDilation.html" rel="noopener ugc nofollow" target="_blank">https://api.flutter.dev/flutter/scheduler/timeDilation.html</a></p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="16d5" class="ky kz iq lu b gy ly lz l ma mb">@override<br/>Widget build(BuildContext context) {<br/> timeDilation = 7.0;<br/> return MaterialApp(<br/>     title: ‘Customize Hero Demo’,<br/>     home: Screen1(),<br/> );<br/>}</span></pre><p id="de84" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们看看发生了什么:</p><ol class=""><li id="27de" class="mc md iq jp b jq jr ju jv jy me kc mf kg mg kk mh mi mj mk bi translated">点击按钮时，文本立即消失(不重要)</li><li id="2059" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">点击按钮时，圆形按钮的宽度开始减小</li><li id="715c" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">如果我们仔细观察，我们会发现按钮的圆度开始增加</li><li id="e50f" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">现在宽度减小，圆度增加，直到我们得到一个圆</li><li id="c76f" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">得到圆后，圆的半径开始增加</li><li id="4d61" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">圆圈将自身转换为下一个屏幕(屏幕2)的背景</li></ol><p id="c4dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是在屏幕1上显示一个按钮的启动代码:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">屏幕1.dart</figcaption></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">主.镖</figcaption></figure><p id="796e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面代码的输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/a9fe83ae59a078cc26367ad34184925a.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*dTGFAdNNWX82r0ks49MtTQ.gif"/></div></figure><p id="aad7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加动画后:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">屏幕1.dart</figcaption></figure><p id="98ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面代码的输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/fbbbe8d994ca783c7ce716cb41fbfa9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*XY5JyuyQB0yxoynzWPBkTw.gif"/></div></figure><p id="528b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们已经完成了步骤1到4。</p><p id="7b80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">屏幕2的代码:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="3787" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上面代码的输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/af43ab489f77ac21b077a6d12ecaf947.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*GTTvcEUL5u4rJxoyO9E5PQ.png"/></div></figure><p id="52ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，在按钮动画完成后，我们需要从屏幕1导航。</p><p id="37c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在<em class="ls"> initState()中添加以下代码片段:</em></p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="b376" class="ky kz iq lu b gy ly lz l ma mb">_controller.addStatusListener((status) {<br/>  if (status == AnimationStatus.completed) {<br/>    Navigator.push(<br/>      context,<br/>      MaterialPageRoute(builder: (context) {<br/>        return Screen2();<br/>      }),<br/>    );<br/>  }<br/>});</span></pre><p id="d634" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上面的代码中，一旦按钮动画完成，我们就导航到<strong class="jp ir">屏幕2 </strong></p><p id="717f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">添加以下代码后的输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/66ea32c1eefb4cf03aba4a4d97079ea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*eLXhtEZp-eF-lllOLpnP8A.gif"/></div></figure><p id="9dfb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们在两个屏幕中都添加英雄。</p><p id="adfa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在屏幕1中</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="f0e5" class="ky kz iq lu b gy ly lz l ma mb">child: Hero(<br/>  tag: 'blackBox',<br/>  child: Container(<br/>    width: _widthAnimation.value,</span></pre><p id="baff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在屏幕2中</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="7610" class="ky kz iq lu b gy ly lz l ma mb">return Material(<br/>  child: Hero(<br/>    tag: 'blackBox',<br/>    child: Container(<br/>      color: Colors.black,</span></pre><p id="2811" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更改后的输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/48e63f78092c97ea4542e36ce2903be3.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*1Jka7ka3kBAqNbVpd49HwA.gif"/></div></figure><p id="eefb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以清楚地看到，标准的英雄动画并没有给我们最终的目标。</p><h2 id="66eb" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated"><strong class="ak">关键注意事项- </strong></h2><ol class=""><li id="fd95" class="mc md iq jp b jq mx ju my jy mz kc na kg nb kk mh mi mj mk bi translated">我们需要的是</li></ol><blockquote class="nc nd ne"><p id="184b" class="jn jo ls jp b jq jr js jt ju jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj kk ij bi translated">得到圆后，圆的半径开始增加</p></blockquote><p id="3a55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们仔细注意，我们可以看到在圆形动画完成后，圆形突然转变为矩形，然后开始扩展。</p><p id="e628" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.一个不太明显的观察是</p><p id="009e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在动画过程中，矩形的中心向屏幕中心移动。</p><p id="2529" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我们仔细观察最终目标，我们可以看到，随着圆的增长，圆心保持不变。</p><h2 id="047f" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated"><strong class="ak">我们需要把问题分解成</strong></h2><ol class=""><li id="3e79" class="mc md iq jp b jq mx ju my jy mz kc na kg nb kk mh mi mj mk bi translated">将矩形展开转换为圆形展开</li><li id="2227" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">在膨胀过程中，中心应该保持不变</li></ol><h2 id="68a7" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">现在让我们看看Hero小部件的属性</h2><p id="686d" class="pw-post-body-paragraph jn jo iq jp b jq mx js jt ju my jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated"><a class="ae kx" href="https://api.flutter.dev/flutter/widgets/Hero/createRectTween.html" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="ls">createRectTween</em></strong></a>→定义目的地英雄的边界在从起始路线飞到目的地路线时如何变化。</p><p id="4c40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当英雄飞行时，它的矩形边界使用英雄的<code class="fe nl nm nn lu b"><a class="ae kx" href="https://api.flutter.dev/flutter/widgets/CreateRectTween.html" rel="noopener ugc nofollow" target="_blank">createRectTween</a></code>属性中指定的<a class="ae kx" href="https://api.flutter.dev/flutter/animation/Tween-class.html" rel="noopener ugc nofollow" target="_blank">补间&lt;矩形&gt;、</a>来设置动画。默认情况下，Flutter使用<a class="ae kx" href="https://api.flutter.dev/flutter/material/MaterialRectArcTween-class.html" rel="noopener ugc nofollow" target="_blank">materialcrectartween，</a>的一个实例，它沿着一条弯曲的路径为矩形的对角设置动画。</p><p id="b59f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kx" href="https://api.flutter.dev/flutter/widgets/Hero/flightShuttleBuilder.html" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="ls">flight shuttle builder</em></strong></a>→可选覆盖提供一个在英雄飞行过程中显示的小部件。</p><p id="9e95" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kx" href="https://api.flutter.dev/flutter/widgets/Hero/placeholderBuilder.html" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"><em class="ls">Placeholder builder</em></strong></a>→一旦航班起飞，占位符小部件作为英雄的<a class="ae kx" href="https://api.flutter.dev/flutter/widgets/Hero/child.html" rel="noopener ugc nofollow" target="_blank">子</a>留在原地。</p><h2 id="5894" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">从上面的定义，我们可以得出结论-</h2><ol class=""><li id="cae5" class="mc md iq jp b jq mx ju my jy mz kc na kg nb kk mh mi mj mk bi translated">问题一可以使用<strong class="jp ir"><em class="ls">flight shuttle builder</em></strong>解决，方法是显示将默认的矩形扩展改为圆形扩展</li><li id="1224" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">问题二可以通过<strong class="jp ir"><em class="ls">createRectTween</em></strong>解决，保持中心不变</li></ol><h1 id="a961" class="no kz iq bd la np nq nr ld ns nt nu lg nv nw nx lj ny nz oa lm ob oc od lp oe bi translated">让我们先解决问题二</h1><p id="4e75" class="pw-post-body-paragraph jn jo iq jp b jq mx js jt ju my jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">在Screen2类中添加此方法</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="d331" class="ky kz iq lu b gy ly lz l ma mb">static RectTween _createRectTween(Rect begin, Rect end) {<br/>  return CircularRectTween(begin: begin, end: end);<br/>}</span></pre><p id="95b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们实现这个类</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="140e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们需要从<strong class="jp ir"> <em class="ls"> lerp【双t】</em></strong><em class="ls">，</em>返回一个Rect，它指定了主人公的位置和界限。</p><p id="a58e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用返回Rect</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="690f" class="ky kz iq lu b gy ly lz l ma mb">Rect.fromCircle(center: , radius: );</span></pre><p id="a441" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们会保持中心不变，随着<strong class="jp ir"> <em class="ls"> t </em> </strong>(我们可以把<strong class="jp ir"> <em class="ls"> t </em> </strong>看成时间)的增加而增加半径。</p><p id="b1ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="ls"> begin </em> </strong>和<strong class="jp ir"><em class="ls">end</em></strong><em class="ls"/>Rect参数包含关于英雄动画前后小部件的信息。</p><p id="16e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用<strong class="jp ir"> <em class="ls"> begin </em> </strong>来计算英雄动画开始时的中心。</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="e365" class="ky kz iq lu b gy ly lz l ma mb">double startWidthCenter = begin.left + (begin.width / 2);<br/>double startHeightCenter = begin.top + (begin.height / 2);</span></pre><p id="a864" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们可以回来了，</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="09a0" class="ky kz iq lu b gy ly lz l ma mb">return Rect.<br/>fromCircle(center: Offset(startWidthCenter, startHeightCenter), radius: );</span></pre><p id="597a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们给它一个恒定的半径，看看会发生什么。</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="40a8" class="ky kz iq lu b gy ly lz l ma mb">return Rect.<br/>fromCircle(center: Offset(startWidthCenter, startHeightCenter), radius: 100);</span></pre><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/6fcaad6a6430b886c1ce10fe17b2ccff.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*bHIjX6RAC_4X6XG76GMKtg.gif"/></div></figure><p id="d010" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们成功地给了动画一个恒定的中心。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="f999" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们需要逐渐增加半径。</p><p id="bd7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以在英雄动画结束时使用</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="0a55" class="ky kz iq lu b gy ly lz l ma mb"> end.width</span></pre><p id="dbf1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了得到<strong class="jp ir"> <em class="ls"> t </em> </strong>处的宽度，我们使用</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="2b6f" class="ky kz iq lu b gy ly lz l ma mb">final double width = lerpDouble(begin.width, end.width, t);</span></pre><p id="c921" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个<strong class="jp ir"> <em class="ls">的值中，begin.width </em> </strong>和<strong class="jp ir"> <em class="ls"> end.width </em> </strong>将保持不变，但是<strong class="jp ir"> <em class="ls"> t </em> </strong>的值将增加，据此我们将得到一个持续增加的宽度。</p><p id="3883" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们更新<strong class="jp ir"> <em class="ls"> lerp(双t) </em> </strong></p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="5d19" class="ky kz iq lu b gy ly lz l ma mb">@override<br/>Rect lerp(double t) {<br/>  final double width = lerpDouble(begin.width, end.width, t);<br/>  double startWidthCenter = begin.left + (begin.width / 2);<br/>  double startHeightCenter = begin.top + (begin.height / 2);<br/><br/>  return Rect.fromCircle(center: Offset(startWidthCenter, startHeightCenter), radius: width);<br/>}</span></pre><p id="67bd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在的输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/27d2e1e8b73e4aaf895eb962073c49b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*bSoYVlhOnr_QCmwuoaQIoA.gif"/></div></figure><p id="0148" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们可以看到，半径很好地增加了，但最终仍然没有填满整个屏幕，所以我们将做出改变。</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="aa03" class="ky kz iq lu b gy ly lz l ma mb">return Rect.fromCircle(center: <br/>Offset(startWidthCenter, startHeightCenter), radius: width * 1.7);</span></pre><p id="3bf3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">立即输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/4c96f2c405223b8560432935245f87dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*XwqahMi3xhLbOZ-2teoJ_A.gif"/></div></figure><blockquote class="nc nd ne"><p id="348a" class="jn jo ls jp b jq jr js jt ju jv jw jx nf jz ka kb ng kd ke kf nh kh ki kj kk ij bi translated">暂时忽略过渡期间的屏幕2文本。</p></blockquote><p id="6807" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们已经部分解决了问题2和问题1。</p><p id="0c71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，我们仍然需要确保我们得到的是圆形展开，而不是矩形展开。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="of mr l"/></div></figure><h1 id="3ca6" class="no kz iq bd la np nq nr ld ns nt nu lg nv nw nx lj ny nz oa lm ob oc od lp oe bi translated">问题一解决方案-</h1><p id="542c" class="pw-post-body-paragraph jn jo iq jp b jq mx js jt ju my jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">我们需要使用Screen1上的<strong class="jp ir"><em class="ls">flight shuttle builder</em></strong>属性。</p><p id="5759" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们在<strong class="jp ir"><em class="ls">flight shuttle builder</em></strong>中返回一些东西，看看它实际上做了什么</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="1ceb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">立即输出:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/864718d8af6f2c7639ceee735e4a2888.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*_LJFeqsA7_S6ExO0QSTBXw.gif"/></div></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="32c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们把形状改成圆形</p><pre class="km kn ko kp gt lt lu lv lw aw lx bi"><span id="4375" class="ky kz iq lu b gy ly lz l ma mb">return Container(<br/>  decoration: BoxDecoration(<br/>    color: Colors.black,<br/>    shape: BoxShape.circle,<br/>  ),<br/>);</span></pre><p id="021d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注意:我们不能同时指定颜色和装饰。</p><p id="d40b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们看看输出</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/be20f2c1ad9d00268790aa946c6e592c.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*rPkkEo1y0q0owENOlmAVJg.gif"/></div></figure><p id="857c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还修复了屏幕2的文本。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="og mr l"/></div></figure><p id="e806" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是结果文件:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="871d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更多有用的资源-</p><ol class=""><li id="4b37" class="mc md iq jp b jq jr ju jv jy me kc mf kg mg kk mh mi mj mk bi translated"><a class="ae kx" href="https://medium.com/flutter-community/a-deep-dive-into-hero-widgets-in-flutter-d34f441eb026" rel="noopener">https://medium . com/flutter-community/a-deep-dive-into-hero-widgets-in-flutter-d 34f 441 EB 026</a></li><li id="6e43" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated"><a class="ae kx" href="https://flutter.dev/docs/development/ui/animations/hero-animations" rel="noopener ugc nofollow" target="_blank">https://flutter . dev/docs/development/ui/animations/hero-animations</a></li></ol><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oh mr l"/></div></figure><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="oi mr l"/></div></figure><p id="5ae3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将会发布更多关于flutter的消息，敬请关注:)</p><div class="oj ok gp gr ol om"><a href="https://www.linkedin.com/in/gursheesh-singh-a66545154/" rel="noopener  ugc nofollow" target="_blank"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd ir gy z fp or fr fs os fu fw ip bi translated">Gursheesh Singh -印度昌迪加尔|职业简介| LinkedIn</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">查看LinkedIn上Gursheesh Singh的专业资料。LinkedIn是世界上最大的商业网络，帮助…</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">www.linkedin.com</p></div></div></div></a></div><div class="oj ok gp gr ol om"><a href="https://www.instagram.com/igursheesh/" rel="noopener  ugc nofollow" target="_blank"><div class="on ab fo"><div class="oo ab op cl cj oq"><h2 class="bd ir gy z fp or fr fs os fu fw ip bi translated">登录* Instagram</h2><div class="ot l"><h3 class="bd b gy z fp or fr fs os fu fw dk translated">欢迎回到Instagram。登录查看您的朋友、家人和兴趣爱好捕捉和分享了什么…</h3></div><div class="ou l"><p class="bd b dl z fp or fr fs os fu fw dk translated">www.instagram.com</p></div></div></div></a></div></div></div>    
</body>
</html>