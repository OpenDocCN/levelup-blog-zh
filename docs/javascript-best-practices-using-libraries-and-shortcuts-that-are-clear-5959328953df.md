# JavaScript 最佳实践—使用清晰的库和快捷方式

> 原文：<https://levelup.gitconnected.com/javascript-best-practices-using-libraries-and-shortcuts-that-are-clear-5959328953df>

![](img/2d8f20e5f6c7060bae0f9f5f4cfa23d3.png)

苏珊·尹在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

像任何其他编程语言一样，JavaScript 有自己的最佳实践列表，使程序更容易阅读和维护。JavaScript 有很多棘手的部分，所以我们应该避免降低代码质量的事情。通过遵循最佳实践，我们可以创建优雅且易于管理的代码，任何人都可以轻松使用。

在本文中，我们将讨论如何使用库、使用有意义的快捷方式、从数组构建字符串的捷径，以及了解开发和实时代码之间的区别。

# 使用存在的库

如果有人已经做了一个库来做我们想做的事情，我们应该使用这个库，而不是从头再写一遍。

重新发明轮子是一个耗时的过程，然后测试所有的情况需要更长的时间。

这意味着我们应该使用库来加速软件开发，而不是重新发明轮子。

如今，客户端应用程序比以往任何时候都更加复杂，用户希望在我们编写的应用程序中获得流畅的用户体验。这意味着从头开始编写所有东西几乎是不可能的。

这也是 Angular、React、Vue 这样的框架越来越受欢迎的原因。一切都用普通 JavaScript 编写的糟糕的旧时代已经一去不复返了。

前端开发不再仅仅是在我们的后端应用程序上添加一些东西。

然而，当我们学习 JavaScript 时，我们仍然应该首先通过编写普通的 JavaScript 代码来学习，以了解使这些库和框架工作的原理。

如今，客户端应用程序已经足够复杂，很难避免使用大量的库来构建一些功能性的东西。

# 开发代码和实时代码的区别

我们读写的代码库不应该被误认为是正在运行的代码。

如果我们遵循在线社区列出的最佳实践，大多数浏览器都会优化代码。

浏览器在运行时把我们写的代码转换成机器码，让它运行得更快。

此外，许多客户端应用程序现在都有一个相关的构建过程，通过缩小代码并将冗余代码合并到一个地方等方式来优化代码。

这意味着我们应该为了可读性和可维护性而构建代码，而不是试图让我们认为会使代码运行得更快的代码变得难以阅读。

浏览器不再从脚本文件逐行运行代码。

# 当有意义时，使用速记

JavaScript 中一些较老的缩写令人困惑。例如，如果我们运行以下代码:

```
if(false)
   var x = false
   let y = 0
console.log(x, y)
```

我们记录了`undefined`和 0。`undefined`有道理，但是为什么`y`是 0 呢？这是因为`y`的申报实际上不属于`if`区块。

我们可以看到，没有花括号的`if`语句令人困惑。只有`if`语句后的第一行被认为是在`if`块内。

因此，我们应该始终用花括号将我们的`if`块括起来。

上面代码片段的另一个问题是我们没有分号。这是另一个问题，因为当不知道线在哪里结束。最好在末尾加上分号，这样就清楚了。

然而，从 ES6 开始，我们有了很多非常有用且不会混淆的简写。

例如，spread 和 rest 操作符分别对于复制或组合对象以及获取数组中的参数非常有用。

扩展运算符可以按如下方式使用:

```
const obj1 = { foo: 1, bar: 2 }, obj2 = { baz: 3 };
const obj3 = { ...obj1, ...obj2 };
```

然后我们得到`obj3`的值:

```
{ foo: 1, bar: 2, baz: 3 }
```

rest 操作符使用相同的 3 个点，但是作用于函数。例如，我们可以用 rest 运算符编写一个函数，如下所示:

```
const add = (a, b, ...rest) => {
  return a + b + rest.reduce((a, b) => a + b, 0);
}
```

其中`...rest`是一个数组，其参数不是前 2 个。

那么我们可以这样称呼它:

```
console.log(add(1, 2));
console.log(add(1, 2, 3));
console.log(add(1, 2, 3, 4, 5));
```

我们分别得到 3，6 和 15。

另一个方便而清晰的快捷方式是析构赋值语法。它对对象和数组都有效。例如，我们可以将数组析构为变量，如下所示:

```
const [a, b] = [1, 2];
console.log(a, b);
```

同样，对于对象，我们可以写:

```
const {
  foo,
  bar
} = {
  foo: 1,
  bar: 2
};
console.log(foo, bar);
```

在两个例子中，我们分别为`a`和`b`得到 1 和 2。

![](img/48862894de3524becdbaa2d319e14954.png)

照片由[何](https://unsplash.com/@hnyuuu?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

# 构建字符串的最短方法

在 JavaScript 中，从字符串数组构建字符串有多种方式。一种方法是使用如下循环:

```
const arr = ['foo', 'bar', 'baz'];
let str = '';
for (let i = 0; i < arr.length; i++) {
  str += arr[i];
  if (i !== arr.length - 1) {
    str += ',';
  }
}
```

另一种方法是使用内置到数组对象中的`join`方法:

```
const arr = ['foo', 'bar', 'baz'];
let str = arr.join(',');
```

正如我们所看到的，循环要复杂得多，因此也更容易出错。我们必须遍历数组，连接每个条目，如果不是最后一个条目，就在它后面加一个逗号。

另一方面，`join`方法只是用一行逗号连接数组条目。

今天的 JavaScript 应用程序比以往更加复杂。这就是为什么我们应该使用库和框架来构建应用程序，以使我们的生活更加轻松。

这也意味着我们应该编写使开发变得容易的代码，而不是考虑如何适应浏览器。然而，在编写代码时，我们仍然应该考虑性能。

此外，我们还应该使用快捷方式，使开发和阅读代码变得容易。ES6 或更高版本引入的大多数快捷方式都具有这两个特征。像编写不带花括号的`if`语句这样的更古老的快捷方式则不是。

最后，我们应该使用现有的方法来简化代码。例如，当从字符串数组中生成逗号分隔的字符串时，我们可以使用`join`方法，而不是编写循环来完成。