# React åº”ç”¨ç¨‹åºçš„ Redux å­˜å‚¨è®¾ç½®

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/advanced-redux-store-setup-for-your-react-application-4b07e13f619e>

## å‘ React åº”ç”¨ç¨‹åºæ·»åŠ  Redux å­˜å‚¨çš„å¿«é€Ÿè€Œç®€æ´çš„é…ç½®ã€‚

![](img/8ceaf7a513b53154c1a2b988732a9aba.png)

åœ¨å¼€å‘ä¸€ä¸ª *React åº”ç”¨*æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥ä¸€ä¸ªçŠ¶æ€ç®¡ç†å™¨æ¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†æ‰€æœ‰çš„çŠ¶æ€ï¼Œå¹¶åœ¨åº”ç”¨ä¸­è½»æ¾å…±äº«æ•°æ®ã€‚

é€šå¸¸ï¼Œä¸€ä¸ªå¥½çš„å€™é€‰äººæ˜¯ **Redux** ã€‚**è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„é€‰é¡¹ï¼Œå¯ä»¥ç®¡ç†æ‚¨çš„å…¨å±€çŠ¶æ€å¹¶é›†ä¸­æ‚¨çš„å¤§éƒ¨åˆ†æ•°æ®é€»è¾‘ã€‚**

> Redux æ˜¯ JavaScript åº”ç”¨ç¨‹åºçš„å¯é¢„æµ‹çŠ¶æ€å®¹å™¨ã€‚

ä½†æ˜¯åœ¨ä½ çš„ React app ä¸Šæ·»åŠ  Redux çš„æ—¶å€™ï¼Œä½ ç¡®å®šä½ åšçš„å¯¹å—ï¼Ÿåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•æŒ‰ç…§è‰¯å¥½çš„æ–‡ä»¶ç»“æ„å’Œé…ç½®è®¾ç½®å°†å…¶é›†æˆåˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ã€‚ ***æˆ‘ä»¬å¼€å§‹å§ï¼***

# 1.å•†åº—çš„éª¨æ¶ã€‚

åœ¨å¼€å§‹æŸ¥çœ‹ä»£ç ä¹‹å‰ï¼Œè®©æˆ‘ä»¬ä¸€èµ·å®šä¹‰æˆ‘ä»¬å¸Œæœ›å¦‚ä½•ç»„ç»‡æ–‡ä»¶å¹¶å°†å…¶é›†æˆåˆ° React ä»£ç åº“ä¸­ã€‚

æ€»ä½“æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ª**â€œstoreâ€**ç›®å½•ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬æ‰€æœ‰çš„é€»è¾‘å’Œå•†åº—é…ç½®ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç®€å•åœ°å¯¼å…¥æˆ‘ä»¬çš„å•†åº—è®¾ç½®ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™æˆ‘ä»¬åº”ç”¨ç¨‹åºä¸­çš„ä¸€ä¸ª`Provider` ã€‚

![](img/febba4717b6bbd78e22af910bef7d2df.png)

1.  åˆ›å»º ***å­˜å‚¨*** æ–‡ä»¶å¤¹åˆ° ***MyApp/src*** ä¸­ã€‚
2.  åˆ›å»ºä¸€ä¸ª ***index.js*** æ–‡ä»¶æ¥å¯¼å‡ºæˆ‘ä»¬çš„å•†åº—åˆ›å»ºè€…ã€‚å¦å¤–ï¼Œæ·»åŠ ä¸¤ä¸ªæ–‡ä»¶å¤¹:**ä¸­é—´ä»¶**å’Œ**å‡é€Ÿå™¨** *ã€‚*
3.  åœ¨*ä¸­é—´ä»¶*æ–‡ä»¶å¤¹ä¸­ï¼Œä¸ºæ¯ä¸ª [***Redux ä¸­é—´ä»¶***](https://redux.js.org/advanced/middleware) (å¦‚ apiã€logger)åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ã€‚
4.  åœ¨*å‡é€Ÿå™¨*æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª *index.js* æ–‡ä»¶ï¼Œå°†æ‰€æœ‰å‡é€Ÿå™¨ç»„åˆåœ¨ä¸€èµ·ã€‚å¦å¤–ï¼Œä¸ºæ¯ä¸ªç¼©å‡å™¨æ·»åŠ ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚
5.  å¯¹äºæ¯ä¸ª reducer æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºå››ä¸ªæ–‡ä»¶:

*   ***ã€actions . js:***åŒ…å«ä¸è¯¥ç¼©å‡å™¨ç›¸å…³çš„åŠ¨ä½œçš„åŠ¨ä½œåˆ›å»ºè€…ã€‚
*   ***reducer.js:*** åŒ…å«å‡é€Ÿå™¨åŠŸèƒ½ã€‚
*   ***é€‰æ‹©å™¨. js:*** åŒ…å«çŠ¶æ€é€‰æ‹©å™¨ã€‚
*   ***types.js:*** åŒ…å«åŠ¨ä½œçš„ç±»å‹å®šä¹‰ã€‚

# 2.æ·»åŠ ç¬¬ä¸€ä¸ªå‡é€Ÿå™¨ã€‚

ç”±äºæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½æ˜¯ä¸åŒçš„ï¼Œæ‚¨å¯èƒ½éœ€è¦ä¸åŒçš„çŠ¶æ€ï¼Œä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘å°†ç¼–å†™ä¼—æ‰€å‘¨çŸ¥çš„ [*åä¾‹*](https://github.com/reduxjs/redux/tree/master/examples/counter/src) *ã€‚*

> å…è´£å£°æ˜:å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œå»ºè®®çš„æ ·æ¿æ–‡ä»¶æ˜¯è¿‡åº¦ç»“æ„åŒ–çš„ï¼Œä½†æ˜¯éšç€åº”ç”¨ç¨‹åºçš„å¢é•¿ï¼Œä¿æŒè¿™ç§é€»è¾‘çš„æ¡ç†æ€§æ˜¯å¾ˆé‡è¦çš„ã€‚

![](img/b42758651edad9d87551ac0283bfdfa9.png)![](img/7066d98364ab34cdfb1d1793b9a67ccc.png)![](img/d3dcc153f5ec2dfdff0d929e535b96e1.png)![](img/de4eae1df23fd97a1541dafd2f382cae.png)

# 3.ç»“åˆä½ çš„å‡é€Ÿå™¨ã€‚

å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºéå¸¸ç®€å•ï¼Œå¹¶ä¸”æ‚¨åªä½¿ç”¨ä¸€ä¸ª reducer å‡½æ•°ï¼Œæ‚¨å¯èƒ½ä¸éœ€è¦å°†å®ƒä»¬ç»„åˆèµ·æ¥ï¼Œä½†æ˜¯å¦‚æœæ‚¨å®šä¹‰äº†å¤šä¸ª reducer å‡½æ•°ï¼Œæœ€å¥½ä½¿ç”¨ Redux åŒ…æä¾›çš„`**combineReducers**` å‡½æ•°å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·:

![](img/cf3967be499defd16604bcdaf9f7331c.png)

index.js æ–‡ä»¶æ”¾åˆ° reducers æ–‡ä»¶å¤¹ä¸­

æ­£å¦‚ä½ æ‰€æ³¨æ„åˆ°çš„ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦*å‡é€Ÿå™¨*æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬çš„å‡é€Ÿå™¨ç»„åˆå°†è¢«å¯¼å…¥ã€‚

# 4.ä¸­é—´ä»¶è¿˜æ˜¯éä¸­é—´ä»¶ï¼Ÿ

æœ¬ç»ƒä¹ çš„é‡ç‚¹ä¸æ˜¯ä¸­é—´ä»¶çš„å®ç°ï¼Œæ‰€ä»¥æˆ‘å‡è®¾ä½ çŸ¥é“å®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥åŠå®ƒä»¬åœ¨å•†åº—ä¸­çš„è§’è‰²æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯æˆ‘ä¿è¯æˆ‘ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªå…³äºå®ƒä»¬å®ç°çš„æŒ‡å—ğŸš€

# 5.æœ€åæ˜¯åº—é“ºé…ç½®ã€‚

ç°åœ¨æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº† redux å’Œä¸­é—´ä»¶ï¼Œæ˜¯æ—¶å€™åˆ›å»ºæˆ‘ä»¬çš„ redux store creator äº†â€”â€”è¿™ä¸ªå‡½æ•°å…è®¸æˆ‘ä»¬ç”¨ä¸€äº›å¯é€‰å‚æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ store:

![](img/67a9b318af98976a636b3758e1c2f42f.png)

index.js æ–‡ä»¶å¤åˆ¶åˆ°å­˜å‚¨æ–‡ä»¶å¤¹ä¸­

æ¦‚æ‹¬ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ä¸­å‘ç”Ÿçš„äº‹æƒ…:

*   æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª*å¿…å¤‡*ä¸­é—´ä»¶çš„åˆ—è¡¨ã€‚
*   å¦‚æœåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬åº”ç”¨ä¸€ä¸ªé¢å¤–çš„é…ç½®ï¼Œæ¯”å¦‚æ—¥å¿—ä¸­é—´ä»¶ã€‚
*   æˆ‘ä»¬å®šä¹‰(å¹¶å¯¼å‡ºï¼)ä¸€ä¸ª`**configureStore**` å‡½æ•°ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨ï¼Œå¹¶åŸºäºä½œä¸ºå‚æ•°æ¥æ”¶çš„é€‰é¡¹ï¼Œè®¾ç½®ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œå¹¶å¯é€‰åœ°ç¼“å­˜è¯¥çŠ¶æ€ã€‚

# æ‘˜è¦

å¥½å§ï¼Œäº²çˆ±çš„è¯»è€…ï¼Œç°åœ¨ä½ å¯ä»¥ä»ä½ çš„å•†åº—æ–‡ä»¶å¤¹ä¸­å¯¼å…¥ä¸€ä¸ªèƒ½å¤Ÿè½»æ¾åˆ›å»ºä½ çš„å•†åº—çš„åŠŸèƒ½ï¼Œå¦‚æœä½ éœ€è¦ç”¨æ–°çš„é€»è¾‘æ‰©å±•ä½ çš„çŠ¶æ€ï¼Œä½ å°±æœ‰äº†ä¸€ä¸ªæ˜“äºéµå¾ªå’Œå·¥ä½œçš„æŒ‰åŠŸèƒ½åˆ’åˆ†çš„æ¨¡æ¿ï¼

å…³äºè¿™ä¸ªè¯é¢˜çš„è¯„è®ºã€åˆ†äº«å’Œè®¨è®ºæ€»æ˜¯å¾ˆå—æ¬¢è¿çš„ï¼Œæˆ‘å¾ˆä¹æ„å›ç­”ä½ çš„ä»»ä½•é—®é¢˜ï¼

> **éšæ—¶åœ¨ Linkedin ä¸Šè”ç³»æˆ‘:**[***https://www.linkedin.com/in/marcoantonioghiani/***](https://www.linkedin.com/in/marcoantonioghiani/)

***è¿™é‡Œå¯ä»¥æ‰¾åˆ°æˆ‘çš„ä¸€äº›æ–‡ç« :***

[](https://medium.com/swlh/how-i-became-a-fast-learner-changing-my-habits-5e8f125ce42f) [## æˆ‘æ˜¯å¦‚ä½•é€šè¿‡æ”¹å˜ä¹ æƒ¯å¿«é€Ÿå­¦ä¹ çš„ã€‚

### 9 ä¸ªæœ‰æ•ˆçš„ä¹ æƒ¯å¯ä»¥è®©ä½ å­¦å¾—æ›´å¿«ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚

medium.com](https://medium.com/swlh/how-i-became-a-fast-learner-changing-my-habits-5e8f125ce42f) [](https://hackernoon.com/how-to-write-clean-react-components-following-best-practices-c952242126ee) [## å¦‚ä½•ç¼–å†™å¹²å‡€çš„ React ç»„ä»¶

### ä½¿ç”¨æœ€ä½³å®è·µç¼–å†™é«˜æ•ˆå¯è¯»çš„ React ç»„ä»¶çš„ 5 æ¡è§„åˆ™

hackernoon.com](https://hackernoon.com/how-to-write-clean-react-components-following-best-practices-c952242126ee) [](https://medium.com/swlh/advanced-koa-js-boilerplate-bda90c9abe24) [## é«˜çº§ Koa.js æ ·æ¿æ–‡ä»¶

### ä½¿ç”¨ Create Koa åº”ç”¨ç¨‹åºç»„ç»‡ä»£ç çš„é«˜çº§å»ºè®®ã€‚

medium.com](https://medium.com/swlh/advanced-koa-js-boilerplate-bda90c9abe24)