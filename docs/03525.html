<html>
<head>
<title>How to Setup Bridge Networking with KVM on Ubuntu 20.04</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Ubuntu 20.04上使用KVM设置桥接网络</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-setup-bridge-networking-with-kvm-on-ubuntu-20-04-9c560b3e3991?source=collection_archive---------0-----------------------#2020-05-14">https://levelup.gitconnected.com/how-to-setup-bridge-networking-with-kvm-on-ubuntu-20-04-9c560b3e3991?source=collection_archive---------0-----------------------#2020-05-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b85c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何让您的虚拟机被您的家庭网络看到？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/049783cc6a32405258fcddef624262ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BW32iZaRSoXo2lgYVGub5w.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/users/PIRO4D-2707530/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2324875" rel="noopener ugc nofollow" target="_blank"> PIRO4D </a>来自<a class="ae ky" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2324875" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></figcaption></figure><p id="b719" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">KVM提供的默认网络是一个私有网桥，它使用NAT来允许来宾虚拟机与外界通信。这适用于许多用例，并且可能是最好的默认设置。但有时我需要虚拟机与主机共享网络。在我过去的许多创建虚拟机的<a class="ae ky" href="https://medium.com/better-programming/playing-with-vms-and-kubernetes-26ef93019c22" rel="noopener">文章</a>中，我已经能够摆脱默认网络。但是我正在从事的一个未来项目将需要在主机网络上运行的虚拟机，所以我想在这里记录如何做到这一点。</p><p id="6300" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于架设公共桥梁的文章很多；这似乎是一个热门话题。但是许多文章都是旧的，没有使用Ubuntu最新的网络配置软件，或者他们用GUI界面管理网络和KVM。我将只使用命令行工具，因为我的服务器实际上没有监视器。</p><p id="7636" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里是我对设置KVM默认使用公共网桥的看法。要继续学习，您应该对Linux、KVM和现代Linux网络有很好的了解。我们将使用Ubuntu 20.04，它使用<code class="fe lv lw lx ly b">iproute2</code>包进行命令行访问，使用<code class="fe lv lw lx ly b">netplan</code>进行配置。Ubuntu 20.04于2020年4月发布(因此版本号为20.04)，但我从年初开始就一直在使用日常版本来熟悉它。</p><p id="6cdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我要安装KVM，即虚拟机管理器。对于Ubuntu 20.04，安装非常简单:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="f902" class="md me it ly b gy mf mg l mh mi">sudo apt-get install qemu-kvm libvirt-daemon-system \<br/>   libvirt-clients virtinst bridge-utils</span></pre><p id="71a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">测试它与<code class="fe lv lw lx ly b">virsh list --all</code>一起工作。这应该会显示一个空列表，但列表仍然是:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="1dde" class="md me it ly b gy mf mg l mh mi">rkamradt@artful:~$ virsh list --all<br/> Id   Name   State<br/>--------------------</span></pre><p id="a1bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们要做的下一件事是替换默认桥接。如上所述，KVM安装了一个虚拟网桥，所有虚拟机都连接到该网桥。它提供自己的子网和DHCP来配置来宾网络，并使用NAT来访问外部世界。我们将用运行在主机网络上并使用主机网络上任何外部DHCP服务器的公共网桥来取代它。</p><p id="a9c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于性能原因，建议禁用主机网桥上的<code class="fe lv lw lx ly b">netfilter</code>。为此，创建一个名为<code class="fe lv lw lx ly b">/etc/sysctl.d/bridge.conf</code>的文件，并在其中填入以下内容:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="8d06" class="md me it ly b gy mf mg l mh mi">net.bridge.bridge-nf-call-ip6tables<strong class="ly iu">=</strong>0<br/>net.bridge.bridge-nf-call-iptables<strong class="ly iu">=</strong>0<br/>net.bridge.bridge-nf-call-arptables<strong class="ly iu">=</strong>0</span></pre><p id="f320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后创建一个名为<code class="fe lv lw lx ly b">/etc/udev/rules.d/99-bridge.rules</code>的文件，并添加这一行:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="7ea7" class="md me it ly b gy mf mg l mh mi">ACTION<strong class="ly iu">==</strong>"add", SUBSYSTEM<strong class="ly iu">==</strong>"module", KERNEL<strong class="ly iu">==</strong>"br_netfilter", \           RUN+<strong class="ly iu">=</strong>"/sbin/sysctl -p /etc/sysctl.d/bridge.conf"</span></pre><p id="e8af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些都应该在一行上。这将在系统启动时在适当的位置设置标志以禁用网桥上的<code class="fe lv lw lx ly b">netfilter</code>。重新启动才能生效。</p><p id="db41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们需要禁用KVM为自己安装的默认网络。您可以使用<code class="fe lv lw lx ly b">ip</code>来查看默认网络的样子:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="efa5" class="md me it ly b gy mf mg l mh mi">rkamradt@beast:~$ ip link<br/>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000<br/>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br/>2: eno1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000<br/>    link/ether d4:be:d9:f3:1e:5f brd ff:ff:ff:ff:ff:ff<br/>6: virbr0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default qlen 1000<br/>    link/ether 52:54:00:1d:5b:25 brd ff:ff:ff:ff:ff:ff<br/>7: virbr0-nic: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc fq_codel master virbr0 state DOWN mode DEFAULT group default qlen 1000<br/>    link/ether 52:54:00:1d:5b:25 brd ff:ff:ff:ff:ff:ff</span></pre><p id="d3fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">条目<code class="fe lv lw lx ly b">virbr0</code>和<code class="fe lv lw lx ly b">virbr0-nic</code>是KVM默认安装的。</p><p id="4156" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为这台主机刚刚安装了KVM，所以我不必担心现有的虚拟机。如果您有现有的虚拟机，您必须编辑它们以使用新的网络设置。你可以同时拥有公共和私有虚拟机，但是为了避免混淆，我宁愿每台主机只有一种类型的网络。以下是移除默认KVM网络的方法:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="fa5e" class="md me it ly b gy mf mg l mh mi">virsh net-destroy default<br/>virsh net-undefine default</span></pre><p id="3784" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以再次运行<code class="fe lv lw lx ly b">ip</code>，而<code class="fe lv lw lx ly b">virbr0</code>和<code class="fe lv lw lx ly b">virbr0-nic</code>应该会消失。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="c452" class="md me it ly b gy mf mg l mh mi">rkamradt@beast:~$ ip link<br/>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000<br/>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br/>2: eno1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000<br/>    link/ether d4:be:d9:f3:1e:5f brd ff:ff:ff:ff:ff:ff</span></pre><p id="2b70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果不是，您可以使用<code class="fe lv lw lx ly b">ip link delete virbr0 type brigde</code>和<code class="fe lv lw lx ly b">ip link delete virbr0-nic</code>将其移除。</p><p id="ab51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们需要设置一个桥，以便在创建虚拟机时使用。编辑你的<code class="fe lv lw lx ly b">/etc/netplan/00-installer-config.yaml</code>(备份后)添加一个桥。这是我的编辑后的样子:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="c40b" class="md me it ly b gy mf mg l mh mi">network:<br/>  ethernets:<br/>    enp0s7:<br/>      dhcp4: false<br/>      dhcp6: false<br/>  bridges:<br/>    br0:<br/>      interfaces: [ enp0s7 ]<br/>      addresses: [192.168.0.104/24]<br/>      gateway4: 192.168.0.1<br/>      mtu: 1500<br/>      nameservers:<br/>        addresses: [8.8.8.8,8.8.4.4]<br/>      parameters:<br/>        stp: true<br/>        forward-delay: 4<br/>      dhcp4: no<br/>      dhcp6: no<br/>  version: 2</span></pre><p id="e244" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我的例子中，<code class="fe lv lw lx ly b">enp0s7</code>是我的NIC的名称，<code class="fe lv lw lx ly b">192.168.0.104</code>是我的主机的IP地址，<code class="fe lv lw lx ly b">192.168.0.1</code>是我的家庭路由器。我已经设置了我的家庭路由器，通过将MAC地址与IP地址相关联来为该主机保留<code class="fe lv lw lx ly b">192.168.0.104</code>。网桥<code class="fe lv lw lx ly b">br0</code>连接到<code class="fe lv lw lx ly b">enp0s7</code>接口，即主机上的物理网卡。请注意，<code class="fe lv lw lx ly b">enp0s7</code>接口没有配置，网桥现在有了以前在<code class="fe lv lw lx ly b">enp0s7</code>部分指定的网络配置。我不确定<code class="fe lv lw lx ly b">parameters</code>部分，我直接从一个<a class="ae ky" href="https://fabianlee.org/2019/04/01/kvm-creating-a-bridged-network-with-netplan-on-ubuntu-bionic/" rel="noopener ugc nofollow" target="_blank">示例设置</a>中复制了它们，以后我可能想玩玩它们。</p><p id="8c8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在运行<code class="fe lv lw lx ly b">sudo netplan apply</code>来应用您的新配置。您可以使用<code class="fe lv lw lx ly b">ip</code>命令来检查它看起来是否正确:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="dfbe" class="md me it ly b gy mf mg l mh mi">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000<br/>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br/>    inet 127.0.0.1/8 scope host lo<br/>       valid_lft forever preferred_lft forever<br/>    inet6 ::1/128 scope host <br/>       valid_lft forever preferred_lft forever<br/>2: enp0s7: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel master br0 state UP group default qlen 1000<br/>    link/ether 00:1d:72:ac:d9:95 brd ff:ff:ff:ff:ff:ff<br/>13: br0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default qlen 1000<br/>    link/ether 00:1d:72:ac:d9:95 brd ff:ff:ff:ff:ff:ff<br/>    inet 192.168.0.104/24 brd 192.168.0.255 scope global br0<br/>       valid_lft forever preferred_lft forever<br/>    inet6 fe80::21d:72ff:feac:d995/64 scope link <br/>       valid_lft forever preferred_lft forever</span></pre><p id="368c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，<code class="fe lv lw lx ly b">br0</code>条目现在有了IP地址，而<code class="fe lv lw lx ly b">enp0s7</code>条目现在有了<code class="fe lv lw lx ly b">master br0</code>来表明它属于网桥。</p><p id="aae9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以让KVM知道这个桥。创建一个名为<code class="fe lv lw lx ly b">host-bridge.xml</code>的临时XML文件，并插入以下内容:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="c7cb" class="md me it ly b gy mf mg l mh mi">&lt;network&gt;<br/>  &lt;name&gt;host-bridge&lt;/name&gt;<br/>  &lt;forward mode="bridge"/&gt;<br/>  &lt;bridge name="br0"/&gt;<br/>&lt;/network&gt;</span></pre><p id="66f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用以下命令使其成为虚拟机的默认网桥:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="c6f4" class="md me it ly b gy mf mg l mh mi">virsh net-define host-bridge.xml<br/>virsh net-start host-bridge<br/>virsh net-autostart host-bridge</span></pre><p id="9096" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后列出网络以确认它已设置为自动启动:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="3c01" class="md me it ly b gy mf mg l mh mi">rkamradt@artful:~$ virsh net-list --all<br/> Name          State    Autostart   Persistent<br/>------------------------------------------------<br/> host-bridge   active   yes         yes</span></pre><p id="3052" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经配置了一个桥，我们可以创建一个虚拟机。以下是我使用的模板:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mj mk l"/></div></figure><p id="69e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦<code class="fe lv lw lx ly b">virt-install</code>程序运行，你会看到安装程序在你的终端上运行。您可以随意安装它，但是当它提示安装额外的软件时，请确保安装OpenSSH，因为我们将用它来与我们的新虚拟机进行通信。现在在你等待安装的时候喝杯咖啡吧。</p><p id="9d08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一点不方便的是，它用DHCP配置虚拟机的网络，而不是询问你是否想手动配置。对于服务器，最好手动配置一个来自DHCP地址池外部的静态IP地址。甚至<code class="fe lv lw lx ly b">virsh</code>工具也不知道新客人的网络。</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="8dde" class="md me it ly b gy mf mg l mh mi">rkamradt@artful:~$ virsh domifaddr node1<br/> Name       MAC address          Protocol     Address<br/>--------------------------------------------------------------------</span></pre><p id="bc06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我能找到地址的唯一方法是在我家的路由器上寻找<code class="fe lv lw lx ly b">node1</code>。我的家用路由器试图根据MAC地址保持IP地址相同，但这并不能保证，所以我将其添加到静态IP列表中。每个路由器都是不同的，所以你必须弄清楚如何用你自己的路由器做到这一点。将新的VM添加到您计划访问它的任何主机上的<code class="fe lv lw lx ly b">/etc/hosts</code>文件中，这样您就可以通过名称来引用它，而不是记住IP地址。</p><p id="29ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再次使用<code class="fe lv lw lx ly b">ip</code>命令在主机上查看您的网络:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="55a7" class="md me it ly b gy mf mg l mh mi">rkamradt@artful:~$ ip link<br/>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000<br/>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br/>2: enp0s7: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel master br0 state UP mode DEFAULT group default qlen 1000<br/>    link/ether 00:1d:72:ac:d9:95 brd ff:ff:ff:ff:ff:ff<br/>13: br0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default qlen 1000<br/>    link/ether 00:1d:72:ac:d9:95 brd ff:ff:ff:ff:ff:ff<br/>15: vnet0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel master br0 state UNKNOWN mode DEFAULT group default qlen 1000<br/>    link/ether fe:54:00:a3:0d:ee brd ff:ff:ff:ff:ff:ff</span></pre><p id="ce13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它将<code class="fe lv lw lx ly b">vnet0</code>加入了网络。对于你安装的每一个虚拟机，它都会增加一个新的<code class="fe lv lw lx ly b">vnet#</code>,我不确定为什么，我希望我这样做是对的，但是看起来很有效。</p><p id="04bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦您的VM配置好了，您就必须将您的ssh凭证传递给它。最简单的方法是使用<code class="fe lv lw lx ly b">ssh-copy-id &lt;username&gt;@&lt;guestname&gt;</code>如果您的用户名在主机和客户计算机之间相同，则不需要<code class="fe lv lw lx ly b">&lt;username&gt;@</code>部分。然后你应该可以连接到<code class="fe lv lw lx ly b">ssh &lt;username&gt;@&lt;guestname&gt;</code>。</p><p id="3b71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦进入guest，您可以使用<code class="fe lv lw lx ly b">ip</code>命令查看网络:</p><pre class="kj kk kl km gt lz ly ma mb aw mc bi"><span id="76e8" class="md me it ly b gy mf mg l mh mi">rkamradt@node1:~$ ip addr<br/>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000<br/>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br/>    inet 127.0.0.1/8 scope host lo<br/>       valid_lft forever preferred_lft forever<br/>    inet6 ::1/128 scope host <br/>       valid_lft forever preferred_lft forever<br/>2: enp1s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000<br/>    link/ether 52:54:00:a3:0d:ee brd ff:ff:ff:ff:ff:ff<br/>    inet 192.168.0.166/24 brd 192.168.0.255 scope global enp1s0<br/>       valid_lft forever preferred_lft forever<br/>    inet6 fe80::5054:ff:fea3:dee/64 scope link <br/>       valid_lft forever preferred_lft forever</span></pre><p id="4ae2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这次我使用了<code class="fe lv lw lx ly b">ip addr</code>子命令来查看IP地址，而不仅仅是MAC地址。请注意，IP地址与主机在同一个网络中，在这种情况下<code class="fe lv lw lx ly b">192.168.0.0/24</code>您应该能够在网络中的任何地方访问它。</p><p id="847f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我绝不是网络专家，但我通常能努力让事情运转起来。希望这将帮助您掌握网络和新一代的命令和配置。如果你只在云提供商的虚拟机上工作，大部分工作都是通过简单的用户界面来完成的。但是，如果你只是像我一样的爱好者，想要在裸机上创建虚拟机来尝试不同的软件，并且可以轻松地随意启动和关闭它们，那么了解幕后发生的事情是很好的。</p></div></div>    
</body>
</html>