<html>
<head>
<title>Use Git like a senior engineer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像高级工程师一样使用Git</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/use-git-like-a-senior-engineer-ef6d741c898e?source=collection_archive---------0-----------------------#2022-11-15">https://levelup.gitconnected.com/use-git-like-a-senior-engineer-ef6d741c898e?source=collection_archive---------0-----------------------#2022-11-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d674" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Git是一个强大的工具，当你知道如何使用它时，用起来感觉很棒。</h2></div><p id="7d7c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我已经在团队和项目中使用Git的这些特性很多年了。我仍然在围绕一些工作流(比如挤压或不挤压)发展自己的观点，但是核心工具是强大而灵活的(并且是可脚本化的！).</p><h1 id="6e99" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">查看Git日志</h1><p id="4334" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">Git日志很难开箱即用。</p><h2 id="ddbd" class="mb lf it bd lg mc md dn lk me mf dp lo kr mg mh lq kv mi mj ls kz mk ml lu mm bi translated">git日志是基本的</h2><p id="c9eb" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">使用<code class="fe mn mo mp mq b">git log</code>给你一些信息。但它的分辨率极高，通常不是你想要的。</p><pre class="mr ms mt mu gt mv mq mw bn mx my bi"><span id="d377" class="mz lf it mq b be na nb l nc nd">git log</span></pre><figure class="mr ms mt mu gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi ne"><img src="../Images/fb80fc5f9457ab5058aca9532892bf4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c98MmRRHROTav94yXKNMYw.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">git日志</figcaption></figure><p id="64f4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们现实一点。这些日志没给任何人留下深刻印象。他们很无聊。它们充满了你现在并不真正需要的信息。你试图对你的项目中正在进行的事情有一个高层次的理解。</p><p id="b9c6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有更好的方法。</p><h2 id="89ca" class="mb lf it bd lg mc md dn lk me mf dp lo kr mg mh lq kv mi mj ls kz mk ml lu mm bi translated">git日志具有更高的可见性</h2><p id="3531" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">使用<code class="fe mn mo mp mq b">--graph</code>和<code class="fe mn mo mp mq b">--format</code>，我们可以快速获得项目中git提交的概要视图。</p><pre class="mr ms mt mu gt mv mq mw bn mx my bi"><span id="44b1" class="mz lf it mq b be na nb l nc nd">git log --graph --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%an%C(reset)%C(bold yellow)%d%C(reset) %C(dim white)- %s%C(reset)' --all</span></pre><figure class="mr ms mt mu gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi nq"><img src="../Images/f7b86e16663ffa33f97dfe2b5e15b6d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ehBjIu4R4ZpjplInGbing.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">git log-graph-format = format:'&lt;&gt;'-全部</figcaption></figure><p id="dfb8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">哇！这些是一些好看的原木！它旁边甚至有一棵树枝的样子。</p><p id="6fc0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些日志向您展示了谁在做什么，什么时候做了更改，以及您的更改在全局中的位置。</p><p id="761e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mn mo mp mq b">--graph</code>将树形图添加到左侧。这不是最时髦的图表，但是它有助于可视化项目分支的变化。(<a class="ae nr" href="https://git-scm.com/docs/git-log#Documentation/git-log.txt---graph" rel="noopener ugc nofollow" target="_blank">看这里的文档。</a>)</p><p id="f21e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mn mo mp mq b">--format</code>让你自定义日志的格式。有预设的格式可供选择，也可以像这个例子一样自己编写格式。(<a class="ae nr" href="https://git-scm.com/docs/git-log#_commit_formatting" rel="noopener ugc nofollow" target="_blank">看这里的文档。</a>)</p><p id="7954" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe mn mo mp mq b">--all</code>包括日志中的所有引用、标签和分支(包括远程分支)。你可能不想要所有的东西，所以你可以根据自己的需要来调整。(<a class="ae nr" href="https://git-scm.com/docs/git-log#Documentation/git-log.txt---all" rel="noopener ugc nofollow" target="_blank">看这里的文档。</a>)</p><p id="ac20" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae nr" href="https://git-scm.com/docs/git-log" rel="noopener ugc nofollow" target="_blank">关于如何升级git日志的更多信息，请参见git-log文档。→ </a></p><h1 id="69c0" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">了解特定的提交</h1><p id="54f1" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">您通常希望了解特定提交发生了什么。<code class="fe mn mo mp mq b">git show</code>可以向您展示提交中的更改的高级视图，但它也让您看到对特定文件的更改。</p><h2 id="45c6" class="mb lf it bd lg mc md dn lk me mf dp lo kr mg mh lq kv mi mj ls kz mk ml lu mm bi translated">查看提交的概要</h2><pre class="mr ms mt mu gt mv mq mw bn mx my bi"><span id="8521" class="mz lf it mq b be na nb l nc nd">git show &lt;commit&gt; --stat</span></pre><figure class="mr ms mt mu gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi nt"><img src="../Images/2cc6b24c15dcb8f544a8c98b0fd4e5d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Xv0zjyg7aIM7JxQI3usWg.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">git显示<commit> -统计</commit></figcaption></figure><p id="0dbe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用<code class="fe mn mo mp mq b">--stat</code>标志，您将看到提交摘要，以及更改的文件和它们如何更改的细节。</p><h2 id="78ca" class="mb lf it bd lg mc md dn lk me mf dp lo kr mg mh lq kv mi mj ls kz mk ml lu mm bi translated">查看提交的特定文件更改</h2><p id="2a25" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">当您想要深入到特定文件中的特定行更改时，使用带有文件路径的<code class="fe mn mo mp mq b">git show</code>。</p><pre class="mr ms mt mu gt mv mq mw bn mx my bi"><span id="ea18" class="mz lf it mq b be na nb l nc nd">git show &lt;commit&gt; -- &lt;filepath&gt;</span></pre><figure class="mr ms mt mu gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi nu"><img src="../Images/74c3aa42729a0eabd17540977eca0c06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rSKMbIJtmHpGD0shauM-OQ.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">git显示<commit> - <filepath/></commit></figcaption></figure><p id="3931" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这为您的文件提供了特定的行更改。默认情况下，它会向您显示行的更改以及两端的3个附加行，以便您了解更改的行在文件中的位置。</p><p id="f361" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae nr" href="https://git-scm.com/docs/git-show" rel="noopener ugc nofollow" target="_blank">参见git-show文档，了解如何提高对git提交的理解。→ </a></p><h1 id="5f2c" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">做出改变</h1><p id="cb88" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">您已经在项目上创建了一个分支，向您的分支提交了一些变更，并且您已经准备好将这些变更合并回<code class="fe mn mo mp mq b">main</code>中。自从您分支后，另一位工程师对相同的文件进行了更改。😱</p><p id="fdab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你使用的是GitHub这样的服务，你的公关会告诉你是否有合并冲突。</p><figure class="mr ms mt mu gt nf gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/b0647227a382c0ba5d2f9d1577fa7225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/0*TChg4N9xfFPE_fbS.png"/></div><figcaption class="nm nn gj gh gi no np bd b be z dk translated">GitHub合并冲突</figcaption></figure><p id="9d46" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Git会提示您在将更改推回<code class="fe mn mo mp mq b">main</code>之前解决这些合并冲突。这很好，因为你不想践踏其他人正在做的所有艰苦工作。</p><p id="eb86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要开始在本地解决这个问题，你通常会选择两种途径中的一种:<code class="fe mn mo mp mq b">merge</code>或<code class="fe mn mo mp mq b">rebase</code>。</p><h2 id="79e6" class="mb lf it bd lg mc md dn lk me mf dp lo kr mg mh lq kv mi mj ls kz mk ml lu mm bi translated">git合并与git rebase</h2><p id="e49b" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">当<code class="fe mn mo mp mq b">main</code>分支上有您想要合并到您的分支中的变更时，您可以<em class="ns">合并</em>中的变更或者<em class="ns">从不同的点重新调整</em>您的分支。</p><p id="45a0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">合并</strong>在一次<em class="ns">合并提交</em>中将一个分支的变更合并到另一个分支。</p><pre class="mr ms mt mu gt mv mq mw bn mx my bi"><span id="2aae" class="mz lf it mq b be na nb l nc nd">git merge origin/main your-branch</span></pre><p id="8fc1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">重设基础</strong>调整分支实际分支的点(即从基础分支移动分支到新的起点)。</p><pre class="mr ms mt mu gt mv mq mw bn mx my bi"><span id="d58b" class="mz lf it mq b be na nb l nc nd">git rebase origin/main your-branch</span></pre><p id="ec89" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="ns">一般来说，</em>当上游分支(比如<code class="fe mn mo mp mq b">main</code>)中有您想要包含在您的分支中的变更时，您将使用<code class="fe mn mo mp mq b">rebase</code>。当您想要将一个分支中的变更放回到<code class="fe mn mo mp mq b">main</code>中时，您将使用<code class="fe mn mo mp mq b">merge</code>。</p><h2 id="6bf6" class="mb lf it bd lg mc md dn lk me mf dp lo kr mg mh lq kv mi mj ls kz mk ml lu mm bi translated">挤压还是不挤压</h2><p id="6d6f" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">我以前是职业壁球运动员。但是德里克·奥斯丁·🥳博士的一篇文章改变了我对此的看法。我推荐这篇文章，除了他所说的以外，我想我没有什么有用的东西可以补充。</p><div class="ny nz gp gr oa ob"><a href="https://betterprogramming.pub/why-i-prefer-regular-merge-commits-over-squash-commits-cadd22cff02c" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">为什么我更喜欢常规的合并提交而不是挤压提交</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">我曾经认为壁球提交很酷，然后我不得不整天使用它们。以下是您应该避免的原因…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">better编程. pub</p></div></div><div class="ok l"><div class="ol l om on oo ok op nk ob"/></div></div></a></div><h1 id="c89e" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">资源</h1><ul class=""><li id="0a74" class="oq or it kk b kl lw ko lx kr os kv ot kz ou ld ov ow ox oy bi translated"><a class="ae nr" href="https://git-scm.com/docs/git-log" rel="noopener ugc nofollow" target="_blank"> git-log文档</a></li><li id="e059" class="oq or it kk b kl oz ko pa kr pb kv pc kz pd ld ov ow ox oy bi translated"><a class="ae nr" href="https://git-scm.com/docs/git-show" rel="noopener ugc nofollow" target="_blank"> git-show文档</a></li><li id="77b9" class="oq or it kk b kl oz ko pa kr pb kv pc kz pd ld ov ow ox oy bi translated"><a class="ae nr" href="https://stackoverflow.com/a/804156" rel="noopener ugc nofollow" target="_blank">你什么时候使用Git rebase而不是Git merge？</a>(堆栈溢出)</li></ul></div></div>    
</body>
</html>