<html>
<head>
<title>5 tips to make complex Ruby Strings readable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使复杂的红宝石字符串可读的5个技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/5-underrated-tips-to-make-complex-ruby-strings-readable-38610519787f?source=collection_archive---------5-----------------------#2020-06-13">https://levelup.gitconnected.com/5-underrated-tips-to-make-complex-ruby-strings-readable-38610519787f?source=collection_archive---------5-----------------------#2020-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="25c9" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">最佳实践</h2><div class=""/><div class=""><h2 id="e2df" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">如何编写让你感到自豪的代码</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/b7f084fce97ae8214ca33eef6eee8a3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*MYRMsyjXi8k_Ktnctf7diw.jpeg"/></div></figure><p id="68e2" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb jd"> String </strong>是Ruby中最基本、最流行的数据类型之一。因此，字符串构造是最常见的操作之一。然而，当字符串变长时，代码开始变得复杂，尤其是当涉及大量底层逻辑时。</p><p id="0726" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一些技巧和窍门，在构建Ruby字符串时，它们将极大地帮助提高代码的<strong class="lb jd">可读性</strong>和<strong class="lb jd">可测试性</strong>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d368" class="mc md it bd me mf mg mh mi mj mk ml mm ki mn kj mo kl mp km mq ko mr kp ms mt bi translated">1.级联内插</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mu"><img src="../Images/94ab23edc3a54ffae1e0e43a831bf5b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z-kbUxiCd6frjevAD0TlVA.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated"><a class="ae nd" href="https://gist.github.com/ntd251/a4e740c251959c9f1f8af34a6cce0fdd#file-mrsga__interpolation-rb" rel="noopener ugc nofollow" target="_blank">查看要点</a></figcaption></figure><h1 id="0150" class="mc md it bd me mf ne mh mi mj nf ml mm ki ng kj mo kl nh km mq ko ni kp ms mt bi translated">2.HEREDOC用于多行字符串</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi nj"><img src="../Images/e445da82a4570688c869f2a57aa48345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yHLpNTPqA1-oT6jmEOSo7A.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated"><a class="ae nd" href="https://gist.github.com/ntd251/f27e86af54d36aacda1065735bb09c0e#file-mrsga__heredoc_multiline-rb" rel="noopener ugc nofollow" target="_blank">要点视图</a></figcaption></figure><h1 id="a34e" class="mc md it bd me mf ne mh mi mj nf ml mm ki ng kj mo kl nh km mq ko ni kp ms mt bi translated">3.这里是语法高亮显示的文档</h1><p id="80d1" class="pw-post-body-paragraph kz la it lb b lc nk kd le lf nl kg lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">作为一种脚本语言，人们经常使用Ruby为其他语言生成代码。</p><ul class=""><li id="8587" class="np nq it lb b lc ld lf lg li nr lm ns lq nt lu nu nv nw nx bi translated"><strong class="lb jd"> SQL </strong>(数据库迁移、查询等)</li><li id="ab95" class="np nq it lb b lc ny lf nz li oa lm ob lq oc lu nu nv nw nx bi translated"><strong class="lb jd">标记</strong> (HTML，XML，…)</li><li id="d299" class="np nq it lb b lc ny lf nz li oa lm ob lq oc lu nu nv nw nx bi translated"><strong class="lb jd"> Lua </strong> (Redis脚本，…)。</li></ul><p id="fb13" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb jd"> HEREDOC </strong>块支持大多数ide中的语法高亮显示(Sublime，VS Code，…)</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi od"><img src="../Images/31942b602d3aef8f738b3412608e4d0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hIVCPcG5P2-PiA2h63-2xw.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated">VS代码截图</figcaption></figure><h1 id="01ec" class="mc md it bd me mf ne mh mi mj nf ml mm ki ng kj mo kl nh km mq ko ni kp ms mt bi translated">4.将数据操作与表示层分开</h1><p id="43dc" class="pw-post-body-paragraph kz la it lb b lc nk kd le lf nl kg lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">这将允许数据操作和字符串构造(即，表示逻辑)被单独和更简单地测试。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi oe"><img src="../Images/b38d3d4070645609e141dfd19be9c80e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jxKG-Fu6hyCLHv7zSIMOlg.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated"><a class="ae nd" href="https://gist.github.com/ntd251/35a2d54c3aec9cac942b0db919b9661a#file-mrsga__data_presentation-rb" rel="noopener ugc nofollow" target="_blank">要点视图</a></figcaption></figure><h1 id="5e09" class="mc md it bd me mf ne mh mi mj nf ml mm ki ng kj mo kl nh km mq ko ni kp ms mt bi translated">5.使用域库构建域字符串</h1><p id="514a" class="pw-post-body-paragraph kz la it lb b lc nk kd le lf nl kg lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">在为特定领域的场景(如URI、XML等)构建字符串时，确保满足这些领域的要求和验证是很重要的。</p><p id="c4e7" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">举个例子</p><ul class=""><li id="eef0" class="np nq it lb b lc ld lf lg li nr lm ns lq nt lu nu nv nw nx bi translated">URIs中的特殊字符应该被编码成安全的格式</li><li id="1f26" class="np nq it lb b lc ny lf nz li oa lm ob lq oc lu nu nv nw nx bi translated">XML文档应该是格式良好的，并根据XML规范进行验证</li></ul><p id="23b1" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，建议在这些场景中使用特定于领域的库。这也有助于避免重复发明轮子。</p><h2 id="0f9f" class="of md it bd me og oh dn mi oi oj dp mm li ok ol mo lm om on mq lq oo op ms iz bi translated">URI建筑</h2><p id="f328" class="pw-post-body-paragraph kz la it lb b lc nk kd le lf nl kg lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">大多数HTTP客户端gem应该适合这个目的。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="mv mw di mx bf my"><div class="gh gi mu"><img src="../Images/b9ae405c0e2bc92e09bfbf453c961f34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bl-6WlgBQCJOyCw-KjCqPA.png"/></div></div><figcaption class="mz na gj gh gi nb nc bd b be z dk translated"><a class="ae nd" href="https://gist.github.com/ntd251/43516a52823fa2ebad9a84a07d38f8cb#file-mrsga__uri-rb" rel="noopener ugc nofollow" target="_blank">观点要点</a></figcaption></figure><h2 id="0144" class="of md it bd me og oh dn mi oi oj dp mm li ok ol mo lm om on mq lq oo op ms iz bi translated">XML构造</h2><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oq or l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="64ed" class="mc md it bd me mf mg mh mi mj mk ml mm ki mn kj mo kl mp km mq ko mr kp ms mt bi translated">结论</h1><p id="a887" class="pw-post-body-paragraph kz la it lb b lc nk kd le lf nl kg lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">感谢阅读。我错过了什么吗？你有哪些处理长串的经验？</p><p id="3676" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我很高兴收到你的来信。</p></div></div>    
</body>
</html>