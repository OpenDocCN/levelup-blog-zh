<html>
<head>
<title>Unit Testing Using Mocking in Go</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Goä¸­ä½¿ç”¨æ¨¡æ‹Ÿçš„å•å…ƒæµ‹è¯•</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/unit-testing-using-mocking-in-go-f281122f499f?source=collection_archive---------3-----------------------#2020-06-29">https://levelup.gitconnected.com/unit-testing-using-mocking-in-go-f281122f499f?source=collection_archive---------3-----------------------#2020-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/8b85cac14dc41f7e7e5f8e724e661d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DjmCfyJMoi5_WdJN"/></div></div></figure><h1 id="9955" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">æ¦‚å¿µæ¦‚è¿°</h1><p id="ccad" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">(å¦‚æœä½ çŸ¥é“ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•å’Œæ¨¡æ‹Ÿï¼Œåªæ˜¯æƒ³çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•åœ¨ä»£ç å±‚é¢ä¸Šå®Œæˆçš„ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€èŠ‚ğŸ™‚)</p><p id="4a2f" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated"><strong class="lb iu"> <em class="lx">å•å…ƒæµ‹è¯•</em> </strong>åœ¨Goæˆ–è€…ä¸€èˆ¬çš„å•å…ƒæµ‹è¯•ä¸­ï¼Œå°±æ˜¯ç®€å•çš„å¯¹æˆ‘ä»¬ä»£ç ä¸­çš„ä¸€ä¸ªå•å…ƒè¿›è¡Œæµ‹è¯•ã€‚å•å…ƒæ˜¯ç³»ç»Ÿä¸­å¯ä»¥é€»è¾‘éš”ç¦»çš„æœ€å°ä»£ç ç‰‡æ®µã€‚åœ¨å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ã€å­ä¾‹ç¨‹æˆ–å±æ€§ã€‚å•å…ƒæµ‹è¯•çš„ç›®çš„æ˜¯éªŒè¯ä»£ç ä¸­çš„æ¯ä¸ªå•å…ƒéƒ½æŒ‰ç…§è®¾è®¡æ‰§è¡Œã€‚</p><p id="b8ac" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ç°åœ¨ï¼Œåœ¨ä¸€ä¸ªå·¥ä¸šçº§ä»£ç ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦æµ‹è¯•çš„æ¯ä¸€ä¸ªå•å…ƒï¼Œå¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰å¯¹å…¶ä»–å•å…ƒ/æ–¹æ³•/åŠŸèƒ½çš„å¤–éƒ¨ä¾èµ–ã€‚åœ¨æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›å¤–éƒ¨ä¾èµ–çš„æ¦‚å¿µï¼Œ<strong class="lb iu"> <em class="lx">å˜²è®½</em> </strong>å‘æŒ¥ä½œç”¨ã€‚</p><p id="5e67" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated"><strong class="lb iu"> <em class="lx">å˜²è®½</em> </strong>æ˜¯å½“è¢«æµ‹å•å…ƒå­˜åœ¨å¤–éƒ¨ä¾èµ–æ—¶ï¼Œåœ¨å•å…ƒæµ‹è¯•ä¸­ä½¿ç”¨çš„è¿‡ç¨‹ã€‚æ¨¡ä»¿çš„ç›®çš„æ˜¯éš”ç¦»å¹¶å…³æ³¨è¢«æµ‹è¯•çš„ä»£ç ï¼Œè€Œä¸æ˜¯å¤–éƒ¨ä¾èµ–çš„è¡Œä¸ºæˆ–çŠ¶æ€ã€‚åœ¨mockingä¸­ï¼Œä¾èµ–å…³ç³»è¢«æ¨¡æ‹ŸçœŸå®å¯¹è±¡è¡Œä¸ºçš„ä¸¥å¯†æ§åˆ¶çš„æ›¿æ¢å¯¹è±¡æ‰€å–ä»£ã€‚æ›¿æ¢å¯¹è±¡å¯ä»¥æœ‰ä¸‰ç§ç±»å‹:<em class="lx">å‡è´§ã€å­˜æ ¹</em>å’Œ<em class="lx">ä»¿åˆ¶å“ã€‚</em></p><p id="27c7" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ä¸€ä¸ª<strong class="lb iu"> <em class="lx">å‡çš„</em> </strong>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå°†é€šè¿‡å®ç°ç›¸åŒçš„æ¥å£æ¥æ›¿æ¢å®é™…çš„ä»£ç ï¼Œä½†ä¸ä¸å…¶ä»–å¯¹è±¡äº¤äº’ã€‚é€šå¸¸å‡çš„æ˜¯ç¡¬ç¼–ç è¿”å›å›ºå®šçš„ç»“æœã€‚</p><p id="9b31" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ä¸€ä¸ª<strong class="lb iu"> <em class="lx"> Stub </em> </strong>æ˜¯ä¸€ä¸ªåŸºäºä¸€ç»„ç‰¹å®šè¾“å…¥è¿”å›ç‰¹å®šç»“æœçš„å¯¹è±¡ï¼Œé€šå¸¸ä¸ä¼šå¯¹æµ‹è¯•ç¼–ç¨‹ä¹‹å¤–çš„ä»»ä½•äº‹æƒ…åšå‡ºå“åº”ã€‚</p><p id="440b" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ä¸€ä¸ª<strong class="lb iu"> <em class="lx"> Mock </em> </strong>æ˜¯ä¸€ä¸ªæ›´åŠ å¤æ‚çš„å­˜æ ¹ç‰ˆæœ¬ã€‚å®ƒä»ç„¶ä¼šåƒå­˜æ ¹ä¸€æ ·è¿”å›å€¼ï¼Œä½†æ˜¯å®ƒä¹Ÿå¯ä»¥æ ¹æ®æ¯ä¸ªæ–¹æ³•åº”è¯¥è¢«è°ƒç”¨å¤šå°‘æ¬¡ã€ä»¥ä»€ä¹ˆé¡ºåºå’Œç”¨ä»€ä¹ˆæ•°æ®æ¥ç¼–ç¨‹ã€‚</p><p id="2758" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">æœ€åˆï¼Œæ¨¡ä»¿å¯èƒ½å¬èµ·æ¥æœ‰ç‚¹ä¹å‘³å’Œè€—æ—¶ï¼Œä½†æ˜¯åœ¨ç°æœ‰æ¨¡ä»¿æ¡†æ¶çš„å¸®åŠ©ä¸‹å¯ä»¥å¾ˆå®¹æ˜“åœ°å®ç°ã€‚åœ¨æˆ‘ä¸‹é¢æä¾›çš„ä¾‹å­ä¸­ï¼Œæˆ‘åœ¨golangä¸­ä½¿ç”¨äº†<strong class="lb iu"> <em class="lx"> go-mock </em> </strong>æ¡†æ¶ï¼Œåªç”¨ä¸€è¡Œå‘½ä»¤å°±ç”Ÿæˆäº†æ•´ä¸ªæ¥å£çš„æ¨¡æ‹Ÿå¯¹è±¡ã€‚</p><p id="98e4" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">é‚£ä¹ˆï¼Œç°åœ¨ä½ å¯¹ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•ä»¥åŠå¦‚ä½•ä½¿ç”¨mockingæ¥å®Œæˆå•å…ƒæµ‹è¯•æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„æ¦‚å¿µï¼Œè®©æˆ‘ä»¬åœ¨ç¼–ç æ•™ç¨‹çš„å¸®åŠ©ä¸‹å°†è¿™äº›æ¦‚å¿µå½¢è±¡åŒ–ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘å·²ç»ä¸ºé‚£äº›ä½œä¸ºæ¥å£ä¸€éƒ¨åˆ†çš„å‡½æ•°ç¼–å†™äº†æµ‹è¯•ç”¨ä¾‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨¡æ‹Ÿç”Ÿæˆå˜å¾—å¾ˆå®¹æ˜“ã€‚å› æ­¤ï¼Œå°†å‡½æ•°åŒ…è£…åœ¨ä¸€ä¸ªæ¥å£ä¸­æ€»æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚</p><h1 id="14be" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">å®‰è£…æŒ‡å—</h1><p id="ff70" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç›´æ¥ä¸ºæ‚¨çš„goå‡½æ•°å®‰è£…ä¸€ä¸ªåƒæ ·çš„æ¨¡æ‹Ÿç”Ÿæˆå™¨ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<strong class="lb iu"> <em class="lx"> mockgen </em> </strong>ä»£ç ç”Ÿæˆå·¥å…·è¿›è¡ŒåŒæ ·çš„æ“ä½œã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<strong class="lb iu"> <em class="lx"> gomock </em> </strong>åŒ…ä½œä¸ºç¼–å†™å•å…ƒæµ‹è¯•ç”¨ä¾‹çš„è¾…åŠ©å·¥å…·ã€‚</p><p id="d1eb" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">è¿™ä¸¤ä¸ªéƒ½å¯ä»¥ä½¿ç”¨<em class="lx"> go get </em>è¿›è¡Œå®‰è£…:</p><ul class=""><li id="0541" class="md me it lb b lc ly lg lz lk mf lo mg ls mh lw mi mj mk ml bi translated">å»æ‰¾github.com/golang/mock/gomock</li><li id="cdc4" class="md me it lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">å»æ‰¾github.com/golang/mock/mockgen</li></ul><p id="cca5" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">è¦æ£€æŸ¥mockgenäºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å¦å®‰è£…æ­£ç¡®ï¼Œåªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><ul class=""><li id="bdfc" class="md me it lb b lc ly lg lz lk mf lo mg ls mh lw mi mj mk ml bi translated">$GOPATH/bin/mockgen</li></ul><p id="745b" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated"><em class="lx">æ³¨æ„:å¦‚æœæ‚¨è¿˜æ²¡æœ‰å°†$GOPATH/binæ·»åŠ åˆ°æ‚¨çš„$PATH osç¯å¢ƒå˜é‡ä¸­ï¼Œè¯·æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚å¦åˆ™ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œä½ å¿…é¡»æ€»æ˜¯æåˆ°å®ƒçš„å®Œæ•´è·¯å¾„ã€‚</em></p><h1 id="c723" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">ç¼–ç æ•™ç¨‹</h1><p id="3b76" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">ç”±äºè¿™åªæ˜¯ä¸€ä¸ªæ•™ç¨‹ï¼Œè®©æˆ‘ä»¬ä¿æŒç®€å•ã€‚è®©æˆ‘ä»¬å‡è®¾ä¸€è¾†æ¥å£è½¦:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="305e" class="na kc it mw b gy nb nc l nd ne">type CAR interface {</span><span id="d02f" class="na kc it mw b gy nf nc l nd ne">   Start(*gin.Context, string, CAR) bool</span><span id="a56f" class="na kc it mw b gy nf nc l nd ne">   EngineCheck(*gin.Context, CAR) bool</span><span id="9205" class="na kc it mw b gy nf nc l nd ne">}</span><span id="1662" class="na kc it mw b gy nf nc l nd ne">type CARSTRUCT struct {<br/>}</span><span id="163a" class="na kc it mw b gy nf nc l nd ne">func (car CARSTRUCT) Start(context *gin.Context, key string, carInterface CAR) bool {</span><span id="7bdb" class="na kc it mw b gy nf nc l nd ne">   if carInterface.EngineCheck(context,carInterface) {<br/>      if key == "carkey" {<br/>         fmt.Println("Let's start the car!")<br/>         return <em class="lx">true<br/>      </em>} else {<br/>         fmt.Println("You don't have the right key!")<br/>         return <em class="lx">false<br/>      </em>}<br/>   } else {<br/>      return <em class="lx">false<br/>   </em>}<br/>}</span><span id="5936" class="na kc it mw b gy nf nc l nd ne">func (car CARSTRUCT) EngineCheck(context *gin.Context, carInterface CAR) bool {<br/>   return <em class="lx">true<br/></em>}</span></pre><p id="a2cc" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">é¦–å…ˆè®©æˆ‘ä»¬ä½¿ç”¨mockgenç”Ÿæˆè¿™ä¸ªæ¥å£çš„æ¨¡æ‹Ÿã€‚åªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p><p id="ba01" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated"><strong class="lb iu"><em class="lx">mock gen-destination = Mocks/mock _ car . go-package = Mocks-source = cars . go</em></strong></p><p id="ecf7" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ç¡®ä¿ä½ åˆ›å»ºäº†ä¸€ä¸ªç›®å½•æ¥å­˜å‚¨ä½ çš„æ¨¡æ‹Ÿæ–‡ä»¶(<em class="lx">æ¨¡æ‹Ÿ</em>)ã€‚<em class="lx"> destination </em>æ˜¯è¿™ä¸ªç›®å½•(Mocks/mock_car.go)çš„ä½ç½®ï¼Œ<em class="lx"> package </em>æ˜¯ç”Ÿæˆçš„æ¨¡æ‹Ÿæ–‡ä»¶çš„åŒ…åï¼Œ<em class="lx"> source </em>æ˜¯ä½ å¸Œæœ›æ¨¡æ‹Ÿçš„æ¥å£æ‰€åœ¨çš„æ–‡ä»¶çš„ä½ç½®ã€‚</p><p id="7de1" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ç”Ÿæˆçš„æ¨¡æ‹Ÿæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="0336" class="na kc it mw b gy nb nc l nd ne">// Code generated by MockGen. DO NOT EDIT.<br/>// Source: cars.go<br/>// Package Mocks is a generated GoMock package.<br/>package Mocks<br/>import (<br/>   gin "github.com/gin-gonic/gin"<br/>   gomock "github.com/golang/mock/gomock"<br/>   testing "middleware/middleware/testing"<br/>   reflect "reflect"<br/>)<br/>// MockCAR is a mock of CAR interface<br/>type MockCAR struct {<br/>   ctrl *gomock.Controller<br/>   recorder *MockCARMockRecorder<br/>}<br/>// MockCARMockRecorder is the mock recorder for MockCAR<br/>type MockCARMockRecorder struct {<br/>   mock *MockCAR<br/>}<br/>// NewMockCAR creates a new mock instance<br/>func NewMockCAR(ctrl *gomock.Controller) *MockCAR {<br/>   mock := &amp;MockCAR{ctrl: ctrl}<br/>   mock.recorder = &amp;MockCARMockRecorder{mock}<br/>   return mock<br/>}<br/>// EXPECT returns an object that allows the caller to indicate expected use<br/>func (m *MockCAR) EXPECT() *MockCARMockRecorder {<br/>   return m.recorder<br/>}<br/>// Start mocks base method<br/>func (m *MockCAR) Start(arg0 *gin.Context, arg1 string, arg2 testing.CAR) bool {<br/>   m.ctrl.T.Helper()<br/>   ret := m.ctrl.Call(m, "Start", arg0, arg1, arg2)<br/>   ret0, _ := ret[0].(bool)<br/>   return ret0<br/>}<br/>// Start indicates an expected call of Start<br/>func (mr *MockCARMockRecorder) Start(arg0, arg1, arg2 interface{}) *gomock.Call {<br/>   mr.mock.ctrl.T.Helper()<br/>   return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "Start", reflect.TypeOf((*MockCAR)(nil).Start), arg0, arg1, arg2)<br/>}<br/>// EngineCheck mocks base method<br/>func (m *MockCAR) EngineCheck(arg0 *gin.Context, arg1 testing.CAR) bool {<br/>   m.ctrl.T.Helper()<br/>   ret := m.ctrl.Call(m, "EngineCheck", arg0, arg1)<br/>   ret0, _ := ret[0].(bool)<br/>   return ret0<br/>}<br/>// EngineCheck indicates an expected call of EngineCheck<br/>func (mr *MockCARMockRecorder) EngineCheck(arg0, arg1 interface{}) *gomock.Call {<br/>   mr.mock.ctrl.T.Helper()<br/>   return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "EngineCheck", reflect.TypeOf((*MockCAR)(nil).EngineCheck), arg0, arg1)<br/>}</span></pre><p id="146d" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ç°åœ¨æˆ‘ä»¬æœ‰äº†æ¨¡æ‹Ÿï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¼–å†™æµ‹è¯•ç”¨ä¾‹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<em class="lx"> gomock </em>åŒ…æ¥ç¼–å†™æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•ç”¨ä¾‹ï¼Œä¸‹é¢æ˜¯æˆ‘ä»¬åœ¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ—¶å°†éµå¾ªçš„æ•´ä¸ªå·¥ä½œæµç¨‹:</p><ol class=""><li id="34b3" class="md me it lb b lc ly lg lz lk mf lo mg ls mh lw ng mj mk ml bi translated">åœ¨æˆ‘ä»¬çš„æµ‹è¯•ä¸­ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ª<em class="lx"> gomockçš„å®ä¾‹ã€‚æ§åˆ¶å™¨</em>å¹¶å°†å…¶ä¼ é€’ç»™æ¨¡æ‹Ÿå¯¹è±¡çš„æ„é€ å‡½æ•°ä»¥è·å¾—æ¨¡æ‹Ÿå¯¹è±¡ã€‚</li><li id="d24c" class="md me it lb b lc mm lg mn lk mo lo mp ls mq lw ng mj mk ml bi translated">åœ¨æ‚¨çš„æ¨¡æ‹Ÿä¸Šè°ƒç”¨<strong class="lb iu"> Expect() <em class="lx"> </em> </strong>æ¥è®¾ç½®å®ƒä»¬çš„æœŸæœ›å€¼å’Œè¿”å›å€¼ã€‚å¦‚æœæ‰€è€ƒè™‘çš„å‡½æ•°æœ‰å¯¹å…¶ä»–å‡½æ•°çš„å¤–éƒ¨è°ƒç”¨ï¼Œè¿™æ˜¯å¿…éœ€çš„ã€‚</li><li id="846b" class="md me it lb b lc mm lg mn lk mo lo mp ls mq lw ng mj mk ml bi translated">è°ƒç”¨mainå‡½æ•°(æˆ‘ä»¬æ­£åœ¨ä¸ºå…¶ç¼–å†™æµ‹è¯•ç”¨ä¾‹çš„å‡½æ•°)æ¥è§¦å‘ä»£ç æµé€šè¿‡å‚æ•°ä¸­çš„æ¨¡æ‹Ÿæ¥å£ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„æ¥å£ã€‚</li><li id="9d98" class="md me it lb b lc mm lg mn lk mo lo mp ls mq lw ng mj mk ml bi translated">åœ¨æ¨¡æ‹Ÿæ§åˆ¶å™¨ä¸Šè°ƒç”¨<strong class="lb iu"> Finish() </strong>ï¼Œç„¶åæ–­è¨€æ¨¡æ‹Ÿçš„æœŸæœ›ã€‚</li><li id="3a8f" class="md me it lb b lc mm lg mn lk mo lo mp ls mq lw ng mj mk ml bi translated">æœ€åï¼Œæ–­è¨€è¢«è°ƒç”¨çš„ä¸»å‡½æ•°çš„é¢„æœŸæœ€ç»ˆç»“æœã€‚</li></ol><p id="ab4e" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹<strong class="lb iu"> Start() </strong>å‡½æ•°çš„å•å…ƒæµ‹è¯•ç”¨ä¾‹æ˜¯ä»€ä¹ˆæ ·å­çš„:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="4ea7" class="na kc it mw b gy nb nc l nd ne">func TestCARSTRUCT_Start(t *testing.T) {</span><span id="f83b" class="na kc it mw b gy nf nc l nd ne">   controller := gomock.NewController(t)</span><span id="3f43" class="na kc it mw b gy nf nc l nd ne">   defer controller.Finish()</span><span id="64db" class="na kc it mw b gy nf nc l nd ne">   MockInterface := Mocks.NewMockCAR(controller)</span><span id="61ed" class="na kc it mw b gy nf nc l nd ne">   var ctx *gin.Context<br/>   MockInterface.EXPECT().EngineCheck(ctx,MockInterface).Return(<em class="lx">true</em>)</span><span id="a8fe" class="na kc it mw b gy nf nc l nd ne">   result := CARSTRUCT{}.Start(ctx,"carkey",MockInterface)</span><span id="d1f0" class="na kc it mw b gy nf nc l nd ne">   assert.Equal(t,<em class="lx">true</em>,result)<br/>}</span></pre><p id="8c46" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">æœ€åˆçš„å‡ ä¸ªæ­¥éª¤éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªgomockæ§åˆ¶å™¨ï¼Œç„¶åç”¨å®ƒæ¥åˆ›å»ºæˆ‘ä»¬ç•Œé¢çš„æ¨¡æ‹Ÿç‰ˆæœ¬ã€‚</p><p id="c96e" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ç°åœ¨ï¼Œæ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œæœ‰ä¸€ä¸ªå¯¹å‡½æ•°<em class="lx"> EngineCheck()ï¼Œ</em>çš„å¤–éƒ¨è°ƒç”¨ï¼Œå› æ­¤æœ‰ä¸€ä¸ªå¯¹è¯¥å‡½æ•°çš„æœŸæœ›æ£€æŸ¥ã€‚</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="9ef5" class="na kc it mw b gy nb nc l nd ne">MockInterface.EXPECT().EngineCheck(ctx,MockInterface).Return(<em class="lx">true</em>)</span></pre><p id="f807" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">è¿™ç§æœŸæœ›æ£€æŸ¥åšçš„æ¯”çœ‹èµ·æ¥è¦å¤šï¼Œæˆ‘ä»¬ä¼ é€’çš„å‚æ•°å€¼æ˜¯é’ˆå¯¹è¿è¡Œæ—¶æ¥æ”¶çš„å€¼æ–­è¨€çš„(åœ¨æˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œåœ¨æˆ‘ä»¬è°ƒç”¨<em class="lx"> Start() </em>ä¹‹åï¼Œå®é™…ä¸Šè°ƒç”¨äº†<em class="lx"> EngineCheck() </em>)ã€‚æˆ‘ä»¬è¿˜æåˆ°äº†ä¸€ä¸ªè¿”å›å€¼ï¼Œå®ƒå°†åœ¨æœŸæœ›è°ƒç”¨åŒ¹é…æ—¶è¿”å›ã€‚</p><p id="a1b6" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">æœ€åï¼Œæˆ‘ä»¬è°ƒç”¨å®é™…çš„<em class="lx"> Start() </em>å‡½æ•°æ¥è§¦å‘æˆ‘ä»¬çš„æµ‹è¯•æµç¨‹ï¼Œå¹¶æ–­è¨€æˆ‘ä»¬çš„é¢„æœŸè¿”å›å€¼ã€‚</p><h1 id="4f22" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">å‚æ•°æ¯”è¾ƒå™¨</h1><p id="bdb2" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">æˆ‘ä»¬å¯èƒ½å…³å¿ƒä¹Ÿå¯èƒ½ä¸å…³å¿ƒè°ƒç”¨æ¨¡æ‹Ÿæ—¶ä½¿ç”¨çš„å‚æ•°å€¼ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå‚æ•°æ¯”è¾ƒå™¨å¯ç”¨äºæ–­è¨€æˆ–å¿½ç•¥æ¨¡æ‹Ÿæ–¹æ³•çš„ç‰¹å®šå‚æ•°å€¼:</p><ul class=""><li id="944f" class="md me it lb b lc ly lg lz lk mf lo mg ls mh lw mi mj mk ml bi translated"><em class="lx"> gomockã€‚Any():åŒ¹é…ä»»ä½•å€¼(ä»»ä½•ç±»å‹)</em></li><li id="de3f" class="md me it lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated"><em class="lx"> gomockã€‚Eq(x):ç”¨äºåŒ¹é…æ·±åº¦ç­‰äºxçš„å€¼</em></li><li id="4b8a" class="md me it lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated"><em class="lx"> gomockã€‚Nil():åŒ¹é…nil </em></li><li id="1a3b" class="md me it lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated"><em class="lx"> gomockã€‚Not(x):åŒ¹é…æ·±åº¦ä¸ç­‰äºxçš„å€¼</em></li></ul><p id="e9be" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ä¸€ä¸ªå‚æ•°å¯ä»¥æœ‰ä¸€ä¸ªå›ºå®šçš„å€¼(é€šè¿‡åœ¨é¢„æœŸçš„è°ƒç”¨ä¸­æŒ‡å®šå€¼ï¼Œå°±åƒæˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢æ‰€åšçš„é‚£æ ·),æˆ–è€…å¯ä»¥ä½¿ç”¨è¿™äº›æ¯”è¾ƒå™¨è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ï¼Œåœ¨å¯¹<em class="lx"> EngineCheck() </em>è¿›è¡ŒæœŸæœ›è°ƒç”¨æ—¶ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å¿½ç•¥ç¬¬äºŒä¸ªå‚æ•°å€¼ï¼Œå°†æŒ‰å¦‚ä¸‹æ–¹å¼è¿›è¡Œ:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="586c" class="na kc it mw b gy nb nc l nd ne">MockInterface.EXPECT().EngineCheck(ctx, gomock.Any()).Return(true)</span></pre><h1 id="2b46" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">éªŒè¯å‘¼å«è®¢å•</h1><p id="c48a" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">å‡è®¾æˆ‘ä»¬åœ¨ä¸»å‡½æ•°ä¸­å¤šæ¬¡è°ƒç”¨å¤–éƒ¨å‡½æ•°ï¼Œé€šå¸¸è¿™äº›è°ƒç”¨çš„é¡ºåºä¹Ÿå¾ˆé‡è¦ã€‚æ‰€ä»¥è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨gomockçš„<strong class="lb iu"> <em class="lx"> After() </em> </strong>æ–¹æ³•æ¥æ–­è¨€è°ƒç”¨é¡ºåºã€‚ä¸¾ä¸ªä¾‹å­ï¼Œ</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="462e" class="na kc it mw b gy nb nc l nd ne">FirstCall := MockInterface.EXPECT().EngineCheck(ctx,MockInterface).Return(true)</span><span id="4923" class="na kc it mw b gy nf nc l nd ne">callA :=  MockInterface.EXPECT().MethodA(ctx,MockInterface).After(FirstCall)</span><span id="f3ba" class="na kc it mw b gy nf nc l nd ne">callB := MockInterface.EXPECT().MethodB(ctx,MockInterface).After(callA)</span></pre><p id="f52a" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ–­è¨€å¯¹MethodAçš„è°ƒç”¨æ˜¯åœ¨å¯¹EngineCheckçš„è°ƒç”¨ä¹‹åè¿›è¡Œçš„ï¼Œå¯¹MethodBçš„è°ƒç”¨æ˜¯åœ¨å¯¹MethodAçš„è°ƒç”¨ä¹‹åè¿›è¡Œçš„ã€‚</p><h1 id="2963" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">ä½¿ç”¨é€šé“å’ŒæŒ‡å®šæ¨¡æ‹ŸåŠ¨ä½œ</h1><p id="a37b" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">åœ¨goä¸­ä½¿ç”¨é€šé“å’Œgoroutinesæ—¶ï¼Œå•å…ƒæµ‹è¯•å˜å¾—æœ‰ç‚¹æ£˜æ‰‹ã€‚è®©æˆ‘ä»¬ä¿®æ”¹æˆ‘ä»¬çš„<em class="lx"> Start() </em>å‡½æ•°ï¼Œå¹¶ä¸ºæˆ‘ä»¬çš„æ±½è½¦ç•Œé¢æ·»åŠ æ›´å¤šçš„å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="5788" class="na kc it mw b gy nb nc l nd ne">type CAR interface {<br/>   Start(*gin.Context, string, CAR) bool<br/>   EngineCheck(*gin.Context, CAR) bool<br/>   SuspensionCheck(*gin.Context, CAR, chan bool)<br/>   BrakesCheck(*gin.Context, CAR, chan bool)<br/>}</span><span id="5d87" class="na kc it mw b gy nf nc l nd ne">type CARSTRUCT struct {<br/>}</span><span id="800b" class="na kc it mw b gy nf nc l nd ne">func (car CARSTRUCT) Start(context *gin.Context, key string, carInterface CAR) bool {</span><span id="c6bc" class="na kc it mw b gy nf nc l nd ne">   if carInterface.EngineCheck(context, carInterface) {</span><span id="33f1" class="na kc it mw b gy nf nc l nd ne">      if key == "carkey" {</span><span id="2537" class="na kc it mw b gy nf nc l nd ne">         fmt.Println("Let's start the car!")<br/><br/>         var brakes = make(chan bool)<br/><br/>         var suspension = make(chan bool)<br/><br/>         go carInterface.BrakesCheck(context,carInterface,brakes)</span><span id="f910" class="na kc it mw b gy nf nc l nd ne">         go        carInterface.SuspensionCheck(context,carInterface,suspension)<br/><br/>         if &lt;-brakes &amp;&amp; &lt;-suspension {<br/>            return <em class="lx">true<br/>         </em>} else {<br/>            return <em class="lx">false<br/>         </em>}<br/>      } else {<br/>         fmt.Println("You don't have the right key!")<br/>         return <em class="lx">false<br/>      </em>}<br/>   } else {<br/>      return <em class="lx">false<br/>   </em>}<br/>}</span><span id="e2bc" class="na kc it mw b gy nf nc l nd ne">func (car CARSTRUCT) EngineCheck(context *gin.Context, carInterface CAR) bool {<br/>   return <em class="lx">true<br/></em>}</span><span id="6a5b" class="na kc it mw b gy nf nc l nd ne">func (car CARSTRUCT) SuspensionCheck(context *gin.Context, carInterface CAR, result chan bool) {<br/>   result &lt;- <em class="lx">true<br/></em>}</span><span id="08f3" class="na kc it mw b gy nf nc l nd ne">func (car CARSTRUCT) BrakesCheck(context *gin.Context, carInterface CAR, result chan bool) {<br/>   result &lt;- <em class="lx">true<br/></em>}</span></pre><p id="0d20" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨Start()æ–¹æ³•ä¸­æœ‰äº†å¯¹å‡½æ•°SuspensionCheck()å’ŒBrakesCheck()çš„ä¸¤ä¸ªgoroutineè°ƒç”¨ï¼Œä»¥åŠæ¥æ”¶è¿™äº›å¼‚æ­¥è°ƒç”¨è¾“å‡ºçš„å¸ƒå°”é€šé“ã€‚æˆ‘ä»¬è¿˜å¿…é¡»ä½¿ç”¨ä¸Šé¢æåˆ°çš„mockgenå‘½ä»¤é‡æ–°ç”Ÿæˆæˆ‘ä»¬çš„æ¨¡æ‹Ÿã€‚</p><p id="8d90" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">å‡½æ•°<em class="lx"> SuspensionCheck() </em>å’Œ<em class="lx">brake check()</em>åœ¨å…¶è¾“å‡ºé€šé“ä¸­å†™å…¥çœŸå¸ƒå°”å€¼ã€‚å› æ­¤ï¼Œå½“æœŸæœ›è°ƒç”¨ç›¸åŒçš„åŒ¹é…æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æ¨¡æ‹Ÿå‡½æ•°æ¥æ¨¡æ‹Ÿè¿™ç§è¡Œä¸ºã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºè¢«æ¨¡ä»¿çš„å¯¹è±¡åªä¼šåœ¨é€‚å½“çš„æ—¶å€™æä¾›æ‰«æå“åº”ï¼Œå¹¶è®°å½•å®ƒä»¬çš„å‘¼å«ã€‚ä½†è¿™å¯ä»¥é€šè¿‡gomockçš„<strong class="lb iu"> <em class="lx"> Do() </em> </strong>æˆ–<strong class="lb iu"><em class="lx">DoAndReturn()</em></strong>æ–¹æ³•æ¥å®Œæˆï¼Œè¿™äº›æ–¹æ³•ç”¨äºæŒ‡å®šæ¨¡æ‹ŸåŠ¨ä½œã€‚è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹ç°åœ¨æ˜¯ä»€ä¹ˆæ ·å­:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="4c69" class="na kc it mw b gy nb nc l nd ne">func TestCARSTRUCT_Start(t *testing.T) {<br/><br/>   controller := gomock.NewController(t)<br/><br/>   defer controller.Finish()<br/><br/>   MockInterface := Mocks.NewMockCAR(controller)<br/><br/>   var ctx *gin.Context<br/><br/>   MockInterface.EXPECT().EngineCheck(ctx,MockInterface).Return(<em class="lx">true</em>)<br/><br/>   MockInterface.EXPECT().BrakesCheck(ctx,MockInterface,gomock.Any()).DoAndReturn(func(arg0, arg1, arg2 interface{}){<br/>      arg2.(chan bool) &lt;- <em class="lx">true<br/>   </em>})<br/><br/>   MockInterface.EXPECT().SuspensionCheck(ctx,MockInterface,gomock.Any()).DoAndReturn(func(arg0, arg1, arg2 interface{}){<br/>      arg2.(chan bool) &lt;- <em class="lx">true<br/>   </em>})<br/><br/><br/>   result := testing2.CARSTRUCT{}.Start(ctx,"carkey",MockInterface)<br/><br/>   assert.Equal(t,<em class="lx">true</em>,result)<br/><br/>}</span></pre><p id="3f72" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å¯¹<em class="lx"> BrakesCheck() </em>çš„æœŸæœ›æ£€æŸ¥:</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="154c" class="na kc it mw b gy nb nc l nd ne">MockInterface.EXPECT().BrakesCheck(ctx,MockInterface,gomock.Any()).DoAndReturn(func(arg0, arg1, arg2 interface{}){<br/>   arg2.(chan bool) &lt;- <em class="lx">true<br/></em>})</span></pre><p id="78db" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">æˆ‘ä»¬æ‰€åšçš„æ˜¯ï¼Œå½“æœŸæœ›åŒ¹é…æ—¶ï¼Œå³ä½¿ç”¨æ‰€æåˆ°çš„å‚æ•°å€¼è°ƒç”¨äº†æ¨¡æ‹Ÿçš„<em class="lx">brake check()</em>ï¼Œé‚£ä¹ˆå°†æ‰§è¡ŒDoAndReturn()ä¸­çš„å‡½æ•°(<em class="lx"> func() </em>)ã€‚</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="1ba7" class="na kc it mw b gy nb nc l nd ne">func(arg0, arg1, arg2 interface{}){<br/>   arg2.(chan bool) &lt;- <em class="lx">true<br/></em>}</span></pre><p id="ea81" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">å› æ­¤ï¼Œå½“å¯¹<em class="lx"> BrakesCheck() </em>çš„è°ƒç”¨åŒ¹é…æ—¶ï¼Œ<em class="lx"> func() </em>è¢«æ‰§è¡Œï¼Œå¸ƒå°”å€¼trueè¢«å†™å…¥ç»“æœé€šé“ã€‚è¿™æ­£æ˜¯éœ€è¦æ¨¡ä»¿çš„è¡Œä¸ºã€‚</p><p id="1bca" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated"><em class="lx">æ³¨æ„:Do()æˆ–DoAndReturn()ä¸­çš„å‡½æ•°å°†å…·æœ‰ä¸æˆ‘ä»¬æ­£åœ¨æ¨¡æ‹Ÿçš„å‡½æ•°çš„æœŸæœ›æ–¹æ³•ç›¸åŒçš„å‚æ•°ç­¾åï¼Œ</em></p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="9c3e" class="na kc it mw b gy nb nc l nd ne">// BrakesCheck indicates an expected call of BrakesCheck<br/>func (mr *MockCARMockRecorder) BrakesCheck(arg0, arg1, arg2 interface{}) *gomock.Call {<br/>   mr.mock.ctrl.T.Helper()<br/>   return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "BrakesCheck", reflect.TypeOf((*MockCAR)(nil).BrakesCheck), arg0, arg1, arg2)<br/>}</span></pre><p id="4ed7" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated"><em class="lx">åŒæ ·ï¼Œè¿™äº›è‡ªå˜é‡ä¸­çš„æ¯ä¸€ä¸ª(arg0ï¼Œ1ï¼Œ3..)å¯¹åº”äºåœ¨æœŸæœ›è°ƒç”¨åŒ¹é…åè°ƒç”¨æ¨¡æ‹Ÿå‡½æ•°æ‰€ç”¨çš„å®é™…å‚æ•°ã€‚å°±åƒåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œfunc()æ­£å¥½æœ‰3ä¸ªç±»å‹æ¥å£çš„å‚æ•°arg0ã€arg1å’Œarg2ï¼Œè¿™ä¸æˆ‘ä»¬çš„BrakesCheck()å‡½æ•°çš„æœŸæœ›æ–¹æ³•ç›¸åŒï¼Œarg0å¯¹åº”äºä¸Šä¸‹æ–‡(*ginã€‚ä¸Šä¸‹æ–‡)ï¼Œarg1æ˜¯MockInterfaceï¼Œarg2å¯¹åº”äºç»“æœboolé€šé“ã€‚</em></p><p id="4729" class="pw-post-body-paragraph kz la it lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated"><em class="lx">è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“æœŸæœ›è°ƒç”¨åŒ¹é…æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“ç»“æœé€šé“åœ¨ç¬¬ä¸‰ä¸ªå‚æ•°ä½ç½®æˆ–arg2è¢«ä¼ é€’ï¼Œæ‰€ä»¥æˆ‘ä»¬ç®€å•åœ°å°†arg2ç±»å‹è½¬æ¢ä¸ºboolé€šé“ï¼Œå¹¶åœ¨å…¶ä¸­å†™å…¥å€¼trueï¼Œä»¥é€šè¿‡å®ƒçš„mockæ¨¡æ‹ŸBrakesCheck()çš„å®é™…è¡Œä¸ºï¼Œ</em></p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="fe85" class="na kc it mw b gy nb nc l nd ne">arg2.(chan bool) &lt;- <em class="lx">true</em></span></pre></div></div>    
</body>
</html>