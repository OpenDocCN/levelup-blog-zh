# åœ¨é¢¤åŠ¨ä¸­æ”¹å˜ä¸»é¢˜

> åŸæ–‡ï¼š<https://levelup.gitconnected.com/theme-switcher-with-provider-f84f947b9044>

åœ¨åº”ç”¨ç¨‹åºå¼€å‘é¢†åŸŸï¼Œåˆ‡æ¢ä¸»é¢˜æ˜¯è¶‹åŠ¿ç‰¹å¾ä¹‹ä¸€ã€‚æ”¹å˜ä¸»é¢˜å¯ä»¥å‡å°‘ç”¨æˆ·çš„çœ¼ç›ç–²åŠ³ï¼Œä¹Ÿå¯ä»¥å‡å°‘ç”µæ± å¯¿å‘½ã€‚

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å¼€å‘ä¸€ä¸ªå¯ä»¥åŠ¨æ€æ”¹å˜ä¸»é¢˜çš„åº”ç”¨ç¨‹åºã€‚

![](img/9c7ff6745a69d673c31ff05dc3d131b9.png)

æ´»ç”Ÿç”Ÿçš„ä¾‹å­

åœ¨é¢¤åŠ¨ä¸­æ”¹å˜ä¸»é¢˜

åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ä¸ªåŒ…[](https://pub.dev/packages/provider)**å’Œ[***shared preferences***](https://pub.dev/packages/shared_preferences)***ã€‚*****

*   ****Provider:** å®ƒæ˜¯è‘—åçš„ç”¨äºä¾èµ–æ³¨å…¥å’ŒçŠ¶æ€ç®¡ç†çš„åŒ…ä¹‹ä¸€ã€‚**
*   ****SharedPreferences:** å…±äº«é¦–é€‰é¡¹å…è®¸æˆ‘ä»¬å°†æœ€å°‘é‡çš„åŸå§‹æ•°æ®ä½œä¸ºé”®/å€¼å¯¹å­˜å‚¨åœ¨è®¾å¤‡ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨å®ƒæ¥å­˜å‚¨å½“å‰çš„ä¸»é¢˜ï¼Œè¿™æ ·ç”¨æˆ·åœ¨å…³é—­å¹¶è¿”å›åº”ç”¨ç¨‹åºåä¹Ÿèƒ½å¾—åˆ°ç›¸åŒçš„ä¸»é¢˜ã€‚**

**æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å®ç°è¿™ä¸€ç‚¹:ä¸€ç§æ˜¯æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰é€‰é¡¹ï¼Œå¦ä¸€ç§æ˜¯æ ¹æ®ç³»ç»Ÿè®¾ç½®è‡ªåŠ¨åˆ‡æ¢ä¸»é¢˜ã€‚**

**åœ¨ Flutter ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© ***MaterialApp*** æ„é€ å‡½æ•°ä¸­çš„ ***ThemeData*** æ¥æ”¹å˜æ•´ä¸ª app çš„ä¸»é¢˜ã€‚å½“æ²¡æœ‰æä¾›ä¸»é¢˜æ—¶ï¼Œé»˜è®¤ä¸»é¢˜å°†åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å…±äº«ã€‚**

```
**MaterialApp(
   theme: ThemeData( ... ), // to declare the theme to throughout the application
);**
```

**[**theme data**](https://api.flutter.dev/flutter/material/ThemeData-class.html)**æ˜¯ç”¨æ¥é…ç½®æ•´ä¸ª app çš„å¤–è§‚ã€‚å®ƒç”±å¤§é‡å±æ€§ç»„æˆï¼Œç”¨äºåœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­å£°æ˜ä¸»é¢˜ã€‚****

******ThemeData.dark()** è´Ÿè´£åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­æä¾› dart ä¸»é¢˜ã€‚****

```
****MaterialApp(
   theme: ThemeData.dark(),  // default dark the theme 
);****
```

****![](img/c70b91fb787540ad768f6e6a3f765801.png)****

****é»‘æš—ä¸»é¢˜****

******ä¸»é¢˜æ•°æ®**ã€‚ **light()** ç»™å‡ºäº†æµ…è“è‰²çš„ä¸»é¢˜ï¼Œè¿™æ˜¯æ¯ä¸ª flutter åº”ç”¨çš„é»˜è®¤ä¸»é¢˜ã€‚****

****![](img/f2b36b4a4a86fc67e21de2c5fb21a2cf.png)****

****è½»éŸ³ä¹ä¸»é¢˜****

****æˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¹å˜ä¸»é¢˜çš„ ***primaryColor*** ã€‚æˆ‘ä»¬å¯ä»¥è·å¾—å¦‚ä¸‹ç»“æœ:****

```
****MaterialApp(
   theme: ThemeData(
           brightness: Brightness.light,
           primaryColor: Colors.green,
           primarySwatch: Colors.green
),);****
```

****![](img/962159ae8f2b5c29f05c4dfc7f5dc285.png)****

****æµ…è‰²ä¸»é¢˜é¢œè‰²****

# ****è®©æˆ‘ä»¬å¼€å§‹åƒå§****

## ****1.å°†è¯¥åŒ…æ·»åŠ åˆ°****publibsec . YAML***æ–‡ä»¶ä¸­ã€‚*****

```
*****dependencies:
   provider: ^6.0.3
   shared_preferences: ^2.0.15*****
```

## *****2.ä¸º**å…±äº«åå¥½**åˆ›å»ºç±»*****

*****åˆ›å»ºä¸€ä¸ªåä¸º***mytheme _ preference . dart .***çš„æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ ***getTheme()*** å’Œ ***setTheme()*** ï¼Œåˆ†åˆ«ç”¨äºè·å–ä¸»é¢˜å’Œä¿å­˜ä¸»é¢˜ã€‚*****

## *****3.ä¸ºä¸»é¢˜çŠ¶æ€åˆ›å»ºæä¾›ç¨‹åº*****

*****åˆ›å»ºåä¸º***model _ theme . dart .***çš„æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æ›´æ”¹ä¸»é¢˜çš„çŠ¶æ€ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°æˆ‘ä»¬çš„å…±äº«é¦–é€‰é¡¹ä¸­ã€‚*****

*   *******_isDark** æ˜¯æä¾›ä¸»é¢˜çŠ¶æ€çš„å¸ƒå°”å€¼*****
*   *******_preferences** æ˜¯ MyThemePreferences å˜é‡çš„ä¸€ä¸ªå®ä¾‹ã€‚*****
*   *******notifyListeners()** æ–¹æ³•æ›´æ–°å˜é‡ **_isDark** çš„å€¼å¹¶é‡å»º UIã€‚*****
*   *******getPreference()** æ–¹æ³•ä»å…±äº«é¦–é€‰é¡¹åŠ è½½ä¸»é¢˜çŠ¶æ€ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º **_isDarkã€‚*******

## *****4.å°†æä¾›ç¨‹åºæ·»åŠ åˆ° MaterialApp*****

## *****5.ä¸»é¡µ*****

*****è¿™é‡Œæˆ‘ä»¬æ·»åŠ äº†**æ¶ˆè´¹è€…**æ¥ç›‘å¬å’Œæ›´æ–° UIã€‚*****

*****æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘**ä¸»é¢˜**å‚æ•°æä¾›äº®**ä¸»é¢˜æ•°æ®**å’Œå‘**æš—ä¸»é¢˜**å‚æ•°æä¾›æš—**ä¸»é¢˜æ•°æ®**æ¥æ ¹æ®ç³»ç»Ÿåå¥½æ”¹å˜ä¸»é¢˜ã€‚*****

```
*****theme: ThemeData.light(), // Provide light theme.
  darkTheme: ThemeData.dark(), // Provide dark theme.
  themeMode: ThemeMode.system, //to follow the system theme*****
```

# *****è®©æˆ‘ä»¬è¿æ¥èµ·æ¥*****

*****æˆ‘ä»¬å¯ä»¥æˆä¸ºæœ‹å‹ã€‚åœ¨[è„¸ä¹¦](https://www.facebook.com/nabin.dhakal.714/)ã€ [Linkedin](https://www.linkedin.com/in/nabindhakal/) ã€ [Github](https://github.com/nbnD) ã€ [Youtube](https://www.youtube.com/channel/UCW6oYt_3QSl7J2HSHNqwXWw) ã€ [BuyMeACoffee](https://www.buymeacoffee.com/nabindhakal) å’Œ [Instagram](https://www.instagram.com/nbn_d_/) ä¸ŠæŸ¥æ‰¾ã€‚*****

*****æ‹œè®¿:[é¢¤æŒ¯ç»“](https://flutterjunction.com/)*****

*******æŠ•ç¨¿:** [è´­ä¹°å’–å•¡](https://www.buymeacoffee.com/nabindhakal)*****

# *****ç»“è®º*****

*****å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œè®©ä½ å­¦åˆ°æ–°çš„ä¸œè¥¿ã€‚æˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä½¿ç”¨äº†ä¸€äº›å¯¹ä½ ä»¬ä¸­çš„ä¸€äº›äººæ¥è¯´å¯èƒ½æ˜¯æ–°çš„ä¸œè¥¿ã€‚*****

*****å¦‚æœä½ å­¦åˆ°äº†æ–°çš„ä¸œè¥¿æˆ–è€…æƒ³æå‡ºä¸€äº›å»ºè®®ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚*****

*****å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹å‡»ğŸ‘å›¾æ ‡ï¼Œå®ƒä¸ºæ‚¨æä¾›äº†ä¼ é€’æ‰€æœ‰æ–°äº‹ç‰©çš„åŠ¨åŠ›ã€‚*****

*****æ­¤å¤–ï¼Œå…³æ³¨ä»¤äººå…´å¥‹çš„æ–‡ç« å’Œé¡¹ç›®çš„æ›´æ–°ã€‚*****

*****é€šè¿‡åˆ†äº«å­¦ä¹ å¯¹å­¦ä¹ è¿‡ç¨‹äº§ç”Ÿäº†å·¨å¤§çš„å½±å“ï¼Œå¹¶ä½¿ç¤¾åŒºè¶Šæ¥è¶Šå¤§ã€‚*****

*****åˆ†äº«æ˜¯å¸å¼•å…¶ä»–çˆ±å¥½è€…çš„ç£çŸ³ã€‚*****

*****å› æ­¤ï¼Œè®©æˆ‘ä»¬æœç€æ‰©å¤§æˆ‘ä»¬çš„å­¦ä¹ ç¤¾åŒºè¿ˆå‡ºä¸€å°æ­¥ã€‚*****

*****ä¸ä½ çš„æœ‹å‹åˆ†äº«è¿™ç¯‡æ–‡ç« ï¼Œæˆ–è€…å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå°±åœ¨æ¨ç‰¹ä¸Šå‘è¡¨è¯„è®ºã€‚*****

# *****åœ¨ä»¥ä¸‹æ—¶é—´åƒé¥±:*****

*****[](https://github.com/nbnD/theme_switcher) [## GitHub - nbnD/theme_switcher:åŠ¨æ€æ”¹å˜ app ä¸»é¢˜çš„ flutter åº”ç”¨ã€‚

### ä¸€ä¸ªæ–°çš„é¢¤æŒ¯é¡¹ç›®ã€‚è¿™ä¸ªé¡¹ç›®æ˜¯é¢¤æŒ¯åº”ç”¨çš„èµ·ç‚¹ã€‚ä¸€äº›å¸®åŠ©æ‚¨å…¥é—¨çš„èµ„æºâ€¦

github.com](https://github.com/nbnD/theme_switcher)***** 

# *****åˆ†çº§ç¼–ç *****

*****æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼æ›´å¤šå†…å®¹è§[çº§ç¼–ç å‡ºç‰ˆç‰©](https://levelup.gitconnected.com/)ã€‚
è·Ÿéš:[æ¨ç‰¹](https://twitter.com/gitconnected)ï¼Œ[é¢†è‹±](https://www.linkedin.com/company/gitconnected)ï¼Œ[é€šè¿…](https://newsletter.levelup.dev/)
**å‡ä¸€çº§æ­£åœ¨æ”¹é€ ç†å·¥å¤§æ‹›è˜â¡ï¸** [**åŠ å…¥æˆ‘ä»¬çš„äººæ‰é›†ä½“**](https://jobs.levelup.dev/talent/welcome?referral=true)*****