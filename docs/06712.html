<html>
<head>
<title>Is Go faster than Java? A wrong question to ask</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">围棋比Java快吗？一个不该问的问题</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/is-go-faster-than-java-a-wrong-question-to-ask-adfbe0b071cb?source=collection_archive---------3-----------------------#2020-12-22">https://levelup.gitconnected.com/is-go-faster-than-java-a-wrong-question-to-ask-adfbe0b071cb?source=collection_archive---------3-----------------------#2020-12-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="95a3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">对于理性的选择，我们需要考虑其他更重要的因素。</h2></div><p id="766c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我经常碰巧在帖子中比较Java和Go。几乎总是，比较的中心要么是执行速度，要么是特定特性的存在/缺乏(通常在Go中不存在，而在Java中已经很好地建立)。</p><p id="aba8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，如果有人写道Go很棒，会有几十条回复说Java更好，因为“<em class="lb">有一个基准测试证明Java快得多</em>”(加上它有泛型和try-catch)。然后你阅读了“<em class="lb">基准测试</em>，它声称Java比Go快，你发现另一群评论支持相反的观点。</p><p id="ee12" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基调倾向于迅速转向宗教战争。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/9e6fbffd57a5e94e3ba227547a136b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*nxaKk3MOlSY1Ifm5NeuOGA.png"/></div></figure><p id="f779" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，等一下。有没有可能从不同的角度来看待它？是否有可能评估两种语言中的哪一种可能给特定的组织、产品或项目带来更多的好处？</p><blockquote class="lk"><p id="c46f" class="ll lm iq bd ln lo lp lq lr ls lt la dk translated">在比较不同的编程语言时，标准企业业务应用程序的易于开发和维护是要考虑的最重要的方面</p></blockquote><p id="b718" class="pw-post-body-paragraph kf kg iq kh b ki lu jr kk kl lv ju kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这意味着比较编程语言中真正重要的东西，在大多数情况下，特别是在企业中，是开发和维护标准业务应用程序代码的效率。标准业务应用程序代码的开发和维护通常是大部分成本所在。因此，这种代码的开发和维护的容易程度应该是任何评估的中心。</p><h1 id="d33f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">让我们从事实出发</h1><p id="60c9" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">是的，有些事实是真实的，不依赖于观点，至少在绝大多数情况下是如此。这里我列出了我想到的，没有特定的顺序。</p><h2 id="7c54" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">事实:Go产生更小的可执行文件，使用更少的内存</h2><p id="e985" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">包含Go可执行文件的Docker镜像通常比Java的同类文件<a class="ae ni" href="https://www.ardanlabs.com/blog/2020/02/docker-images-part2-details-specific-to-different-languages.html" rel="noopener ugc nofollow" target="_blank">小</a>。如果基础设施资源的优化或预热时间的最小化很重要，这一点很重要，后者与“功能即服务”模式相关。</p><h2 id="d8bf" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">事实:Go可以维持更高水平的并发性</h2><p id="028c" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">Go可以轻松火<a class="ae ni" href="https://rcoh.me/posts/why-you-can-have-a-million-go-routines-but-only-1000-java-threads" rel="noopener ugc nofollow" target="_blank">十万goroutines </a>。Java线程要受限得多。同样，如果我们希望最大限度地利用我们的CPU，特别是在I/O受限的工作负载环境中，这一点非常重要。</p><h2 id="9a82" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">事实:Java有连接一切的库</h2><p id="059b" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在某些情况下，这可能是一个关键的决策因素。如果需要连接CICS或TxSeries等事务管理器或其他更老的技术，那么Java是唯一的选择。Go中没有这方面的包。</p><h2 id="cb24" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">事实:现在有更多的Java程序员</h2><p id="b207" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">就这么简单。</p><h2 id="6f76" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">事实:Go的语法更简单</h2><p id="9abd" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">Go规格说明书有86页，包括例子。2000年的Java规范已经有<a class="ae ni" href="https://books.google.it/books?id=Ww1B9O_yVGsC&amp;printsec=frontcover&amp;source=gbs_ge_summary_r&amp;cad=0&amp;q&amp;f=false#v=onepage&amp;q&amp;f=false" rel="noopener ugc nofollow" target="_blank"> 250页</a>，从那时起事情就没有变得更简单。恰恰相反。</p><h2 id="8e92" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">事实:“编写一次，到处运行”是不太相关的</h2><p id="3902" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">随着容器越来越受欢迎，你几乎可以用任何语言编写，并且在任何地方都可以在Docker上运行</p><h2 id="d348" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">事实:在构建方面，Go更快</h2><p id="ffef" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">你见过Java开发人员启动测试套件执行的屏幕上的纺车吗？嗯，这种情况在围棋中发生的可能性要小得多。</p><h1 id="3ed8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">还有一些不太明显的事实，我们称之为观点</h1><p id="c7db" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">不幸或幸运的是，生活并非非黑即白。有灰色的阴影。这里有一些与我们案例相关的阴影。</p><h2 id="d245" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">有问题:Go对于严肃的应用程序开发来说太有限了</h2><p id="a784" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">Go没有泛型。围棋没有试接球。有人说，如果没有这些基本特性，就无法开发出真正的企业级代码。你很容易一遍又一遍地重复同样的代码。</p><h2 id="f468" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">问题:Java变得太复杂了</h2><p id="9936" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">相反的论点。有了Java，你就有了面向对象、通过注释面向方面的编程、函数式编程(即使它听起来有点笨拙)，还有像Spring这样的神奇框架。有人说，根据你早上起床时的心情，你可以用许多方式开发相同的逻辑，有许多不同的风格，这可能会混淆代码，使应用程序更难维护。</p><h2 id="a0e8" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">可疑:Go是用于系统编程的</h2><p id="c3d3" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">虽然它确实被大量用于构建像Docker和Kubernetes这样的东西，但没有明确的理由说明它为什么不适合标准的企业应用程序开发，除非我们使用其他有问题的元素作为论据，例如上面列出的“generics &amp; try/catch”论据。</p><h1 id="9512" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">真正的问题是:哪种语言能提供最高效的开发体验和最少的gravose维护？当然，在我们的背景下</h1><p id="bee5" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">正如你所看到的，这两种选择都有利弊。但是在做决定的时候，我们需要看具体的语境。</p><p id="bb7e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们考虑一个标准场景，一个开发企业解决方案的软件商店，比如银行应用程序或订单管理系统。</p><p id="3093" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这种情况下，对总成本贡献最大的两个要素是开发工作和维护工作。在某些情况下，某个解决方案所需的基础设施的成本也可能是相关的。因此，这些是我们需要考虑的因素，以便围绕要使用的技术做出合理的选择。</p><h2 id="5d4a" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated">开发和维护工作</h2><p id="f0bf" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">这是大多数情况下最重要的评估因素。开发和维护一个用Go写的应用程序和用Java写的应用程序成本更低吗？</p><h2 id="9f6c" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated"><strong class="ak">有限初始投资</strong></h2><p id="3a46" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">让我们从头开始。如果我们是一个Java商店(大多数都是)，我们可能倾向于认为只有一个答案:“你懂Java -&gt;用Java你会更有效率”。</p><p id="fd2d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，简单在这里非常方便。简单意味着容易学习。如果我们知道如何编码，只需几天就能在Go中编写出产品代码。不是最复杂的，但肯定是好的。同时，如果我们不知道如何很好地编码，我们就有一个基本的问题，不管是什么语言。总结就是，考虑到它的简单性，你仍然可以评估Go，即使你目前知道的只是Java。</p><h2 id="6070" class="mw ma iq bd mb mx my dn mf mz na dp mj ko nb nc ml ks nd ne mn kw nf ng mp nh bi translated"><strong class="ak">是单纯还是贫穷？</strong></h2><p id="b4d2" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">围棋很简单。但也可能被视为贫穷。我们已经提到，它没有泛型，错误管理可能被认为是冗长的。本质上没有类，也没有继承。因此可以说，缺乏这些特性会降低生产率。</p><p id="f653" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，围棋通常只有一种方法来做一件事。围棋创作者称之为“正交”。</p><p id="f791" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果只有一种方法，我们就不必考虑在解决问题时采用哪种风格。如果只有一种方法，那么阅读和理解别人的代码会更容易。</p><p id="bfe6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae ni" href="https://www.ybrikman.com/writing/2018/08/12/the-10-to-1-rule-of-writing-and-programming/" rel="noopener ugc nofollow" target="_blank">一些研究</a>测量出我们花在阅读代码上的时间是写新代码的十倍，不管是我们自己的还是别人的。如果这是真的，简单和直接对优化效率是至关重要的。</p><h1 id="cf19" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">看来围棋值得一试</h1><p id="8343" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">所以，如果围棋简单易学，我们不需要投入太多就可以开始使用它。</p><p id="d04c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果Go如此简单和精益，它可以使企业级应用程序代码的开发和维护更加容易和高效。</p><p id="d578" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果构建和测试周期更快，开发人员最终会减少盯着旋转的轮子的时间。</p><p id="2011" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果Go中对并发性的支持如此之好，那么我们可以更好地利用我们的基础设施，特别是在I/O受限的场景中。</p><p id="d00b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">综上所述，用Go开发企业应用程序确实有可能在IT功能的整体效率方面带来实质性的提高。</p><p id="54ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当然，这一切都取决于环境，但获得重大利益的可能性似乎是具体的。因此，很可能值得考虑开始尝试它。我们只需要选择正确的项目候选人，创建一个团队，接受一些培训，看看结果是否是积极的。</p><p id="37fb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是一项投资。像任何投资一样，它伴随着一些风险，但也承诺一些收益。根据结果，您可以决定延长或停止它。</p><h1 id="1985" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">最终决策算法</h1><p id="264d" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在企业世界里，围棋值得一试吗？我们可以用一个决策过程算法来概括本文的全部内容，显然是用Go编写的</p><pre class="ld le lf lg gt nj nk nl nm aw nn bi"><span id="a725" class="mw ma iq nk b gy no np l nq nr">func DecideIfTryGo() Outcomes {<br/> // check for showstoppers (g.g. CICS integration) in my environment<br/> showstopper := os.Getenv("SHOWSTOPPERS")</span><span id="0924" class="mw ma iq nk b gy ns np l nq nr"> // if there are showstoppers there is no point to try Go<br/> if showstopper != "" {<br/>   return errors.New(showstopper)<br/> }</span><span id="45a3" class="mw ma iq nk b gy ns np l nq nr"> // find a good candidate project considering Go characteristics<br/> project := FindProject("concurrent", "IOBound", "InfraEfficiency")</span><span id="f0e6" class="mw ma iq nk b gy ns np l nq nr"> // create a team<br/> team := NewTeam(project)</span><span id="8711" class="mw ma iq nk b gy ns np l nq nr"> // do a bit of training<br/> TrainTeam(team)</span><span id="04f9" class="mw ma iq nk b gy ns np l nq nr"> // launch the project with a timeout<br/> ctx, cancel = context.WithTimeout(context.Background(), timeout)<br/> outcomes := Launch(ctx, project)</span><span id="676a" class="mw ma iq nk b gy ns np l nq nr"> // return the outcomes<br/> return outcomes<br/>}</span></pre><h1 id="3fd9" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">最后的想法</h1><p id="9e53" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">本文围绕Go和Java展开，但是围绕真正重要的东西进行比较的核心思想可以应用于任何一组技术。</p><p id="5743" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，只要你把它们和真正重要的东西进行比较，你就可以随意用其他东西代替Java。让我们认识到环境很重要。</p></div></div>    
</body>
</html>