<html>
<head>
<title>Background Color with SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI的背景色</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/background-color-with-swiftui-415fc661b31f?source=collection_archive---------0-----------------------#2020-12-29">https://levelup.gitconnected.com/background-color-with-swiftui-415fc661b31f?source=collection_archive---------0-----------------------#2020-12-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="c103" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦创建了SwiftUI视图，它就有了默认的背景色，白色代表亮模式，黑色代表暗模式。怎么能换成不一样的呢？今天让我们来研究一下。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/25d2513f251d439f9e93b0ad7bd9f557.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KRy6GrvQecKnFOPogdRenQ.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated"><a class="ae le" href="https://unsplash.com/@applefanboy" rel="noopener ugc nofollow" target="_blank"> AB </a> <strong class="bd lf"> </strong>在<a class="ae le" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照。</figcaption></figure><p id="ded3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我们将讨论可以用来更改SwiftUI视图默认背景的不同技术。</p><h1 id="7779" class="lg lh it bd lf li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用修饰符</h1><p id="27c4" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我想到的第一个方法是使用<code class="fe mi mj mk ml b">.background()</code> <a class="ae le" href="http://apple.co/3mSzqar" rel="noopener ugc nofollow" target="_blank">修饰符</a>。遗憾的是，苹果没有为此提供文档。它接收一个视图，该视图被设置为我们添加该修改器的视图的背景。</p><p id="20c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这种情况下，我们想改变背景颜色。例如，我们可以传入<code class="fe mi mj mk ml b">Color.gray</code>。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="1338" class="mq lh it ml b gy mr ms l mt mu">Text("Hello, world!")<br/>  .background(Color.gray)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/1dc6a87f3927c8afa3cd065f3e8d622c.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/0*eUjeLaQXtsMRCmMu.png"/></div></figure><p id="8bdd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们看到它只为文本视图设置了背景颜色。这就是SwiftUI的工作方式。我们想把它设置为整个屏幕。我们可以使用<code class="fe mi mj mk ml b">VStack</code>、<code class="fe mi mj mk ml b">HStack</code>和几个<code class="fe mi mj mk ml b">Spacer()</code>视图来接近它。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="c8e8" class="mq lh it ml b gy mr ms l mt mu">VStack {<br/>  Spacer()<br/>  HStack {<br/>    Spacer()<br/>    Text("Test")<br/>    Spacer()<br/>  } <br/>  Spacer()<br/>}.background(Color.gray)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/5155268e7c05a38e127636ae2402355e.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/0*Lhp69oDNCHsPBw-1.png"/></div></figure><p id="96ec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">看起来好一点，但是我们想设置为整个屏幕，忽略安全区域。我们可以使用<code class="fe mi mj mk ml b">.edgesIgnoringSafeArea</code> <a class="ae le" href="http://apple.co/38HHk1c" rel="noopener ugc nofollow" target="_blank">修改器</a>来实现。使用这个修饰符，我们可以告诉SwiftUI布局引擎扩展到屏幕的安全区域之外。它接受一个参数来定义我们可以扩展哪些边。在这种情况下，我们将传入<code class="fe mi mj mk ml b">.all</code>。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="7c3f" class="mq lh it ml b gy mr ms l mt mu">.background(Color.gray.edgesIgnoringSafeArea(.all))</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/63deee783db65f36ce27c2cb3cbb59b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/0*ADSL8wEecg--NowY.png"/></div></figure><p id="689f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这看起来正是我们想要的。问题是代码相当麻烦，有很多嵌套视图和间隔符。让我们从另一个角度来看。​</p><h1 id="c135" class="lg lh it bd lf li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">使用<code class="fe mi mj mk ml b">ZStack</code></h1><p id="ad08" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">我们可以通过利用<code class="fe mi mj mk ml b">ZStack</code> <a class="ae le" href="https://developer.apple.com/documentation/swiftui/zstack" rel="noopener ugc nofollow" target="_blank">视图</a>来显著提高代码的可读性和复杂性。使用这个视图，我们可以将多个视图层层叠加。我们的方法是添加背景色，然后在上面添加内容。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="0cc6" class="mq lh it ml b gy mr ms l mt mu">ZStack {<br/>  Color.gray<br/>    .edgesIgnoringSafeArea(.all)<br/>  <br/>  Text("Hello, world!")<br/>}</span></pre><p id="1fd6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码现在看起来干净多了，我们在它上面有一个灰色的背景和文本。这种方法最好的部分是，我们只为背景色视图忽略安全区域。其他视图不会延伸到安全区域之外。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/648a5dcc6119093f1d5085f8ea2b075e.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/0*7CPdUhj1z2WnKOAt.png"/></div></figure><h1 id="0814" class="lg lh it bd lf li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">多种颜色</h1><p id="6dc6" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">现在我们知道了如何将背景色设置为单一颜色，那么将它设置为垂直和水平两种颜色怎么样？我们可以通过在垂直对齐的<code class="fe mi mj mk ml b">VStack</code> <a class="ae le" href="https://developer.apple.com/documentation/swiftui/vstack" rel="noopener ugc nofollow" target="_blank">视图</a>或垂直对齐的<code class="fe mi mj mk ml b">HStack</code> <a class="ae le" href="https://developer.apple.com/documentation/swiftui/hstack" rel="noopener ugc nofollow" target="_blank">视图</a>中使用<code class="fe mi mj mk ml b">ZStack</code>和包装颜色的方法来实现。</p><h1 id="9c19" class="lg lh it bd lf li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">竖向定线</h1><p id="4391" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">让我们用两种颜色——灰色和黑色。通过在<code class="fe mi mj mk ml b">VStack</code>视图中包装它们并使用<code class="fe mi mj mk ml b">ZStack</code>，我们可以将屏幕垂直分成两半。其中一个填充灰色，另一个填充黑色。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="c073" class="mq lh it ml b gy mr ms l mt mu">ZStack {<br/>  VStack(spacing: 0) {<br/>    Color.gray<br/>    Color.black<br/>  }<br/>  .edgesIgnoringSafeArea(.all)<br/>}</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/b65b62632d126852de9cbaf21f8ba93c.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/0*9TcC94KgYoexVRin.png"/></div></figure><h1 id="b1b4" class="lg lh it bd lf li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">水平线向</h1><p id="3f9d" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">通过将<code class="fe mi mj mk ml b">VStack</code>改为<code class="fe mi mj mk ml b">HStack</code>，我们可以用灰色和黑色水平填充屏幕。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="69b0" class="mq lh it ml b gy mr ms l mt mu">ZStack {<br/>  HStack(spacing: 0) {<br/>    Color.gray<br/>    Color.black<br/>  }<br/>  .edgesIgnoringSafeArea(.all)<br/>}</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/7324d28205216976864cc7314730c8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/0*ppfzb4ZgLyupRdDd.png"/></div></figure><h1 id="2f03" class="lg lh it bd lf li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">国际象棋桌子背景</h1><p id="0ba2" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">让我们做一些疯狂的事情，建立一个背景，看起来像一个国际象棋台。我们可以用多种颜色垂直和水平地重复几次前面的例子。</p><pre class="kp kq kr ks gt mm ml mn mo aw mp bi"><span id="3542" class="mq lh it ml b gy mr ms l mt mu">ZStack {<br/>  VStack(spacing: 0) {<br/>    ForEach((1...10).reversed(), id: \.self) { i in<br/>      HStack(spacing: 0) {<br/>        ForEach((1...5).reversed(), id: \.self) { i in<br/>          Color.gray<br/>          Color.black<br/>        }<br/>      }<br/>      HStack(spacing: 0) {<br/>        ForEach((1...5).reversed(), id: \.self) { i in<br/>          Color.black<br/>          Color.gray<br/>        }<br/>      }<br/>    }<br/>  }.edgesIgnoringSafeArea(.all)<br/>}</span></pre><p id="840a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里我们看到了SwiftUI布局引擎和Swift代码相结合的力量。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/27d5df8b8a7fb84f66b0202c3f37985f.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/0*U2SH-Pih8MDnqfg1.png"/></div></figure><h1 id="1814" class="lg lh it bd lf li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="38ed" class="pw-post-body-paragraph jq jr it js b jt md jv jw jx me jz ka kb mf kd ke kf mg kh ki kj mh kl km kn im bi translated">SwiftUI视图带有默认的背景色——亮模式下为白色，暗模式下为黑色。在很多情况下，我们想把它换成别的东西。第一种方法是使用<code class="fe mi mj mk ml b">.background</code>修饰符并传递<code class="fe mi mj mk ml b">Color</code>，这是SwiftUI中的一个视图。第二种方法是使用<code class="fe mi mj mk ml b">ZStack</code>并为垂直布局添加一种颜色或多种颜色，为水平布局添加<code class="fe mi mj mk ml b">VStack</code>。如果你对改变SwiftUI视图的背景色有其他想法，请告诉我。感谢您的阅读。</p><h1 id="92e5" class="lg lh it bd lf li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">链接</h1><ul class=""><li id="67d3" class="mw mx it js b jt md jx me kb my kf mz kj na kn nb nc nd ne bi translated"><a class="ae le" href="https://github.com/fassko/swiftui-view-background-color" rel="noopener ugc nofollow" target="_blank">样本代码</a></li><li id="61a7" class="mw mx it js b jt nf jx ng kb nh kf ni kj nj kn nb nc nd ne bi translated"><a class="ae le" href="https://www.hackingwithswift.com/books/ios-swiftui/colors-and-frames" rel="noopener ugc nofollow" target="_blank">颜色和框架</a></li><li id="8e01" class="mw mx it js b jt nf jx ng kb nh kf ni kj nj kn nb nc nd ne bi translated"><a class="ae le" href="https://www.ioscreator.com/tutorials/swiftui-background-color-tutorial" rel="noopener ugc nofollow" target="_blank"> SwiftUI背景色教程</a></li><li id="d4e5" class="mw mx it js b jt nf jx ng kb nh kf ni kj nj kn nb nc nd ne bi translated"><code class="fe mi mj mk ml b"><a class="ae le" href="http://apple.co/3mSzqar" rel="noopener ugc nofollow" target="_blank">.background</a></code> <a class="ae le" href="http://apple.co/3mSzqar" rel="noopener ugc nofollow" target="_blank">修改器</a></li></ul></div></div>    
</body>
</html>