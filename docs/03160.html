<html>
<head>
<title>Creating dynamic presentations using Kibana Canvas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Kibana画布创建动态演示</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/creating-dynamic-presentations-using-kibana-canvas-b8f3b7e7d65f?source=collection_archive---------14-----------------------#2020-04-22">https://levelup.gitconnected.com/creating-dynamic-presentations-using-kibana-canvas-b8f3b7e7d65f?source=collection_archive---------14-----------------------#2020-04-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4091ec7847db69070951cb180379cc8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4BQbd8yAvoT1nNaNb9RB-Q.png"/></div></div></figure><p id="5c99" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Kibana Canvas是一个数据展示工具，我们可以在其中创建实时展示，直接展示来自Elasticsearch的数据。这样，它消除了演示幻灯片中的手动数据更新。让我们来看一个用例，我们需要展示来自数据源的一些KPI的一些数字和图表。在这种情况下，最传统的方法是获取这些值、图表等，并将其粘贴到PPT/Google幻灯片中，然后呈现给管理团队。现在，如果下周有一个会议，那么再把数据复制粘贴到幻灯片上。因此，每次获取信息并将其放入幻灯片并使其看起来更好是一项非常乏味的任务。</p><p id="ed9f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Canvas帮助我们解决了这个问题，因为我们可以使用来自Elasticsearch的实时数据来展示实时数据和图表，因此如果有任何变化，我们可以在演示中获得最新的数据。唯一的限制是我们的数据应该在Elasticsearch中。因此，如果是在RDBMS、NoSQL或CSV中，那么我们需要首先在Elasticsearch中推送数据。如果你想知道如何做到这一点，你可以参考我以前在BQStack上的博客。</p><h2 id="58ba" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated"><strong class="ak">获取演示数据:</strong></h2><p id="8cd9" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">对于这个博客，我将使用Kibana示例电子商务数据，我们可以从Kibana主页导入这些数据。请参考下面的截图:</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/dd5949fc0b45f500127123e3f58830f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*vhXvbeZnspvXrJ8q9R_hpA.png"/></div></figure><p id="0ec0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">导入数据后，我们可以转到Kibana的“Discover”选项卡来浏览数据。下面的JSON文档显示了索引模式“kibana_sample_data_ecommerce”中的一个文档:</p><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="f0ba" class="kw kx iq ma b gy me mf l mg mh">{<br/> "_index": "kibana_sample_data_ecommerce",<br/> "_type": "_doc",<br/> "_id": "u3QdZHEBN4mC-_91Ho9J",<br/> "_version": 1,<br/> "_score": null,<br/> "_source": {<br/>  "category": [<br/>   "Women's Clothing"<br/>  ],<br/>  "currency": "EUR",<br/>  "customer_first_name": "Elyssa",<br/>  "customer_full_name": "Elyssa Tran",<br/>  "customer_gender": "FEMALE",<br/>  "customer_id": 27,<br/>  "customer_last_name": "Tran",<br/>  "customer_phone": "",<br/>  "day_of_week": "Friday",<br/>  "day_of_week_i": 4,<br/>  "email": "elyssa@tran-family.zzz",<br/>  "manufacturer": [<br/>   "Oceanavigations"<br/>  ],<br/>  "order_date": "2020-04-10T12:11:31+00:00",<br/>  "order_id": 713114,<br/>  "products": [{<br/>   "base_price": 74.99,<br/>   "discount_percentage": 20,<br/>   "quantity": 1,<br/>   "manufacturer": "Oceanavigations",<br/>   "tax_amount": 0,<br/>   "product_id": 16965,<br/>   "category": "Women's Clothing",<br/>   "sku": "ZO0261902619",<br/>   "taxless_price": 59.99,<br/>   "unit_discount_amount": 14.998,<br/>   "min_price": 40.49,<br/>   "_id": "sold_product_713114_16965",<br/>   "discount_amount": 14.998,<br/>   "created_on": "2016-12-16T12:11:31+00:00",<br/>   "product_name": "Maxi dress - black",<br/>   "price": 59.992,<br/>   "taxful_price": 59.99,<br/>   "base_unit_price": 74.99<br/>  }],<br/>  "sku": [<br/>   "ZO0261902619"<br/>  ],<br/>  "taxful_total_price": 59.99,<br/>  "taxless_total_price": 59.99,<br/>  "total_quantity": 1,<br/>  "total_unique_products": 1,<br/>  "type": "order",<br/>  "user": "elyssa",<br/>  "geoip": {<br/>   "country_iso_code": "US",<br/>   "location": {<br/>    "lon": -74,<br/>    "lat": 40.8<br/>   },<br/>   "region_name": "New York",<br/>   "continent_name": "North America",<br/>   "city_name": "New York"<br/>  }<br/> },<br/> "fields": {<br/>  "order_date": [<br/>   "2020-04-10T12:11:31.000Z"<br/>  ],<br/>  "products.created_on": [<br/>   "2016-12-16T12:11:31.000Z"<br/>  ]<br/> },<br/> "sort": [<br/>  1586520691000<br/> ]<br/>}</span></pre><p id="10dd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的JSON显示了“kibana_sample_data_ecommerce”索引模式的单个文档，在这里我们可以看到客户详细信息以及产品。</p><h2 id="f0ab" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated"><strong class="ak">创建画布演示:</strong></h2><p id="3a5d" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">现在让我们看看如何使用上面的索引模式数据在Canvas中创建一个演示。为此，我们需要做到以下几点:</p><ul class=""><li id="8df2" class="mi mj iq ka b kb kc kf kg kj mk kn ml kr mm kv mn mo mp mq bi translated">我们需要打开基巴纳网址，登录后点击左侧菜单中的“画布”链接。</li><li id="82a0" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">这将打开画布页面，现在单击“创建工作区”按钮。这将打开一个黑色的工作面板。</li><li id="d3fc" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">现在，单击“添加元素”,这将打开一个弹出屏幕来选择元素类型。现在单击“Text”元素，因为我们可以创建第一个工作区来展示简介。</li><li id="74ac" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">我们可以使用右侧的标记文本区域来编辑文本。在这里我们还可以修改文本样式等。请参考下面的截图:</li></ul><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/8d4f1c3ee6516dbacf6bd3b9f9a92d74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-iIEfbqWledL3h6Fh7nEgw.png"/></div></div></figure><p id="75b7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上图显示了一个工作面板，我们已经使用文本元素类型在其上创建了标题和副标题。</p><ul class=""><li id="9ccd" class="mi mj iq ka b kb kc kf kg kj mk kn ml kr mm kv mn mo mp mq bi translated">将标题和副标题添加到工作区后，我们可以添加另一个工作区来表示下一张演示幻灯片。为此，我们需要单击底部的“第1页”链接，打开幻灯片视图，现在单击页面右下方的加号图标。这将创建一个新的空白工作区。</li><li id="870e" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">在这个空白的工作板上，我们可以显示我们为演示目的导入的实时电子商务数据，但我们可以使用任何Elasticsearch索引数据在画布上创建演示。</li><li id="53b1" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">现在举个例子，假设我们想要显示一个环形图来显示不同产品的销售情况。因此，我们需要再次单击“添加元素”按钮，这一次我们必须选择“圆环图”。</li><li id="371a" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">这将在工作面板上显示一个圆环图，只需单击该图表，然后单击右侧窗格中的“数据”链接。</li><li id="ed12" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">点击默认选择的“演示数据”，现在点击“Elasticsearch SQL”框下的“选择”选项。</li><li id="ae54" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">在查询文本区下我们可以放置以下查询:</li></ul><pre class="lv lw lx ly gt lz ma mb mc aw md bi"><span id="f02d" class="kw kx iq ma b gy me mf l mg mh">SELECT category, COUNT(category) AS count FROM “kibana_sample_data_ecommerce” GROUP BY category</span></pre><p id="0c57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">应用查询后，点击“保存”按钮。</p><ul class=""><li id="e5b7" class="mi mj iq ka b kb kc kf kg kj mk kn ml kr mm kv mn mo mp mq bi translated">现在，单击“显示”链接打开显示窗格。在切片标签下选择值作为类别，并在切片角度下选择值作为计数。</li><li id="d07e" class="mi mj iq ka b kb mr kf ms kj mt kn mu kr mv kv mn mo mp mq bi translated">我们还可以在图表样式下更改图例位置和内径等。请参考下面的截图:</li></ul><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/6ab1a78547d5800784d5c511acc9230c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*SVBId7XeEtxoWkymbffgnA.png"/></div></figure><p id="0234" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上图显示了一个圆环图，其中显示了我们从电子商务数据中获得的不同类别的百分比。</p><p id="63e1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同样，我们可以添加更多的工作区，并可以添加不同的其他可视化、图像、表格或文本等。完成工作pad修改后，我们可以通过在页面右侧的工作pad设置窗格中更改名称来保存Kibana工作pad。</p><p id="7c91" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">显示画布演示:</strong> <br/>现在我们可以点击页面左上方的“全屏”图标，也可以点击“<strong class="ka ir"> alt+F </strong>快捷键，以全屏模式打开工作面板。现在，使用键盘的左右键，我们可以导航到上一张和下一张幻灯片。</p><p id="c073" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">只要数据有任何变化，它就会自动反映在画布工作区中。通过这种方式，使用Kibana画布，我们可以创建一个演示，并将实时数据呈现给管理层。如有任何疑问，请留下您的意见。</p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="3115" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae nf" href="https://www.amazon.com/Learning-Kibana-dashboards-visualization-capabilities-ebook/dp/B07V4SQR6T" rel="noopener ugc nofollow" target="_blank">学习基巴纳7 </a>成为最佳新弹性搜索书籍</p><figure class="lv lw lx ly gt jr gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/e9e34d3e2f02455225f888e14a19a28c.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*YISEo8biYXvUHFf3"/></div></figure><p id="1956" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nh">如果你觉得这篇文章很有意思，那么你可以探索“</em> <a class="ae nf" href="https://www.amazon.com/Mastering-Kibana-6-x-Visualize-histograms/dp/1788831039/ref=olp_product_details?_encoding=UTF8&amp;me=" rel="noopener ugc nofollow" target="_blank"> <em class="nh">【掌握基巴纳6.0】</em></a><em class="nh">”、“</em> <a class="ae nf" href="https://www.amazon.com/Kibana-Quick-Start-Guide-Elasticsearch/dp/1789804035" rel="noopener ugc nofollow" target="_blank"> <em class="nh">基巴纳7快速入门指南</em> </a> <em class="nh">”、“</em> <a class="ae nf" href="https://www.amazon.com/Learning-Kibana-dashboards-visualization-capabilities-ebook/dp/B07V4SQR6T" rel="noopener ugc nofollow" target="_blank"> <em class="nh">学习基巴纳7 </em> </a> <em class="nh">”、“</em> <a class="ae nf" href="https://www.amazon.com/gp/product/1789803322?pf_rd_p=2d1ab404-3b11-4c97-b3db-48081e145e35" rel="noopener ugc nofollow" target="_blank"> <em class="nh"> Elasticsearch 7快速入门指南</em> </a> <em class="nh">”等书籍，了解更多</em></p><p id="0a95" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">关于Elastic stack的其他博客:</strong><a class="ae nf" href="https://bqstack.com/b/detail/31/Introduction-to-Elasticsearch" rel="noopener ugc nofollow" target="_blank"><br/>Elastic Search简介</a> <br/> <a class="ae nf" href="http://bqstack.com/b/detail/52/Elasticsearch-Installation-and-Configuration-on-Ubuntu-14.04" rel="noopener ugc nofollow" target="_blank"> Elasticsearch在Ubuntu 14.04上的安装和配置</a> <br/> <a class="ae nf" href="http://bqstack.com/b/detail/1/Log-analysis-with-Elastic-stack" rel="noopener ugc nofollow" target="_blank">使用Elastic Stack的日志分析<br/></a><a class="ae nf" href="https://bqstack.com/b/detail/83/Elasticsearch-Rest-API" rel="noopener ugc nofollow" target="_blank">Elastic Search Rest API</a><br/><a class="ae nf" href="https://bqstack.com/b/detail/84/Basics-of-Data-Search-in-Elasticsearch" rel="noopener ugc nofollow" target="_blank">Elastic Search中数据搜索的基础知识</a><br/><a class="ae nf" href="https://bqstack.com/b/detail/83/Elasticsearch-Rest-API" rel="noopener ugc nofollow" target="_blank">Elastic Search Rest API</a><br/><a class="ae nf" href="https://bqstack.com/b/detail/87/Wildcard-and-Boolean-Search-in-Elasticsearch" rel="noopener ugc nofollow" target="_blank">Elastic Search</a>通配符和布尔搜索</p><p id="c950" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如有任何疑问，请留下您的意见。你也可以在推特上关注我:<a class="ae nf" href="https://twitter.com/anu4udilse" rel="noopener ugc nofollow" target="_blank">https://twitter.com/anu4udilse</a></p></div><div class="ab cl my mz hu na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="ij ik il im in"><p id="7b78" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nh">最初发表于</em><a class="ae nf" href="https://bqstack.com/b/detail/119/Creating-dynamic-presentations-using-Kibana-Canvas" rel="noopener ugc nofollow" target="_blank"><em class="nh">https://bqstack.com</em></a>T43。</p></div></div>    
</body>
</html>