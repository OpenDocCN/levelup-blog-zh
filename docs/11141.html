<html>
<head>
<title>Create Meeting URLs for an Agora Video Call with the Web UIKit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Web UIKit为Agora视频通话创建会议URL</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/create-meeting-urls-for-an-agora-video-call-with-the-web-uikit-f0e4bfb918b6?source=collection_archive---------9-----------------------#2022-02-18">https://levelup.gitconnected.com/create-meeting-urls-for-an-agora-video-call-with-the-web-uikit-f0e4bfb918b6?source=collection_archive---------9-----------------------#2022-02-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8c27b148072a78003a64f1cd275783f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cy-WTkdIPoPDMe3dKHVwdA.jpeg"/></div></div></figure><p id="ba64" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在您的网站上加入视频通话的最简单方法是分享一个独特的链接。在本教程中，我们将了解如何从URL访问查询参数，并在Web UIKit中使用它们。我们还将了解如何为您的视频通话或直播生成独特的链接。</p><p id="92ae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">想要了解更多关于Web UIKit的信息，你可以阅读<a class="ae kw" href="https://www.agora.io/en/blog/agora-web-uikit-add-video-calling-or-live-streaming-to-your-website-in-minutes/" rel="noopener ugc nofollow" target="_blank">发布博客</a>或者<a class="ae kw" href="https://www.agora.io/en/blog/agora-web-uikit-add-video-calling-or-live-streaming-to-your-website-in-minutes/" rel="noopener ugc nofollow" target="_blank">技术深度探讨</a>。你可以在<a class="ae kw" href="https://github.com/AgoraIO-Community/Web-React-UIKit/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到Web UIKit。你也可以在这里找到这篇博文<a class="ae kw" href="https://github.com/EkaanshArora/web-uikit-linkdemo" rel="noopener ugc nofollow" target="_blank">的完整项目。</a></p><h1 id="f905" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">先决条件</h1><p id="21fa" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">如果你的网站是用React构建的，我们推荐使用<a class="ae kw" href="https://www.npmjs.com/package/agora-react-uikit" rel="noopener ugc nofollow" target="_blank"> React包</a>。通过使用<a class="ae kw" href="https://github.com/AgoraIO-Community/Web-React-UIKit/releases/tag/v0.0.5" rel="noopener ugc nofollow" target="_blank"> web组件版本</a>，您还可以将Web UIKit与其他框架(或普通JavaScript)一起使用。</p><p id="c09a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你还需要一个Agora开发者账户(这是免费的—<a class="ae kw" href="https://sso.agora.io/en/signup?utm_source=medium&amp;utm_medium=blog&amp;utm_campaign=generating-urls-for-an-agora-video-call-using-the-web-uikit" rel="noopener ugc nofollow" target="_blank">在这里注册</a>！).可以在GitHub上找到已经完成的项目:<a class="ae kw" href="https://stackedit.io/app" rel="noopener ugc nofollow" target="_blank"> React </a>，<a class="ae kw" href="https://stackedit.io/app" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>。</p><h2 id="f3b7" class="ma ky iq bd kz mb mc dn ld md me dp lh kj mf mg ll kn mh mi lp kr mj mk lt ml bi translated">React的设置</h2><p id="7a15" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">你可以在GitHub 上获得<a class="ae kw" href="https://github.com/AgoraIO-Community/Web-React-UIKit/tree/main/example" rel="noopener ugc nofollow" target="_blank">例子的代码。我们将在这个例子的基础上进行构建。您现在可以运行<code class="fe mm mn mo mp b">npm i &amp;&amp; npm start</code>来启动React服务器，并在<code class="fe mm mn mo mp b">localhost:3000</code>上访问hello world应用程序。</a></p><h2 id="9742" class="ma ky iq bd kz mb mc dn ld md me dp lh kj mf mg ll kn mh mi lp kr mj mk lt ml bi translated">JavaScript的设置</h2><p id="f49a" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">您可以下载<a class="ae kw" href="https://github.com/AgoraIO-Community/Web-React-UIKit/tree/main/web-component/public" rel="noopener ugc nofollow" target="_blank">示例项目</a>并通过打开index.html文件开始。</p><h1 id="16e3" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">访问查询参数</h1><p id="bd18" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">假设我们的网站托管在<code class="fe mm mn mo mp b">example.com</code>，我们希望用户加入一个名为<code class="fe mm mn mo mp b">test</code>的房间。我们可以创建一个链接<code class="fe mm mn mo mp b">example.com/?channel=test</code>，在这里我们可以向查询参数添加数据(URL中的<code class="fe mm mn mo mp b">?</code>符号后面的<code class="fe mm mn mo mp b">key=value</code>对)。我们可以用<code class="fe mm mn mo mp b">&amp;</code> : <code class="fe mm mn mo mp b">example.com/?channel=test&amp;token=123</code>分隔多个参数。</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="3c32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们创建了一个名为<code class="fe mm mn mo mp b">parseParams</code>的函数，它使用<code class="fe mm mn mo mp b">URLSearchParams</code>函数从URL返回查询参数。我们将<code class="fe mm mn mo mp b">key=value</code>对添加到一个对象并返回它。</p><h2 id="faff" class="ma ky iq bd kz mb mc dn ld md me dp lh kj mf mg ll kn mh mi lp kr mj mk lt ml bi translated">在React中使用带有Web UIKit的查询</h2><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="8e75" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以简单地用<code class="fe mm mn mo mp b">rtcProps</code>中的spread ( <code class="fe mm mn mo mp b">…</code>)操作符调用<code class="fe mm mn mo mp b">parseParams</code>函数。这种模式让我们在查询参数丢失的情况下有很好的默认值。它让我们覆盖任何一个<code class="fe mm mn mo mp b">rtcProps</code>。您也可以传入任何其他<a class="ae kw" href="https://agoraio-community.github.io/Web-React-UIKit/interfaces/RtcPropsInterface.html" rel="noopener ugc nofollow" target="_blank">支持的道具</a>，如<code class="fe mm mn mo mp b">role</code>、<code class="fe mm mn mo mp b">layout</code>和<code class="fe mm mn mo mp b">activeSpeaker</code>。</p><h2 id="d385" class="ma ky iq bd kz mb mc dn ld md me dp lh kj mf mg ll kn mh mi lp kr mj mk lt ml bi translated">在Vanilla JS中使用Web UIKit查询</h2><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="3a1c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以使用<code class="fe mm mn mo mp b">querySelector</code>选择web组件。然后，您可以更新对象属性。在代码片段中，我迭代参数以直接更新URL中的所有值(跳过<code class="fe mm mn mo mp b">parseParams</code>函数)。</p><blockquote class="mw mx my"><p id="ac38" class="jy jz mz ka b kb kc kd ke kf kg kh ki na kk kl km nb ko kp kq nc ks kt ku kv ij bi translated"><em class="iq">注意:</em>最终用户可以轻松修改URL中的查询参数。如果你直接把数据传递给你的应用程序，你应该净化用户输入。例如，使用这段代码，角色设置为<code class="fe mm mn mo mp b">“audience”</code>的用户可以很容易地将其更改为<code class="fe mm mn mo mp b">“host”</code>以主机身份加入，这对您的应用程序来说可能是不可取的。</p></blockquote><h1 id="5823" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">奖励:生成链接</h1><p id="c8cf" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">生成唯一链接的一种快速方法是使用JavaScript中的<code class="fe mm mn mo mp b">Date</code>对象使用当前时间戳。这里有一个创建新房间的简单函数:</p><figure class="mq mr ms mt gt jr"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="46fb" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="23c4" class="pw-post-body-paragraph jy jz iq ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">如果你在关注这篇博文或使用<a class="ae kw" href="https://github.com/AgoraIO-Community/Web-React-UIKit/" rel="noopener ugc nofollow" target="_blank"> Web UIKit </a>时有任何问题，我邀请你加入<a class="ae kw" href="https://agora.io/en/join-slack" rel="noopener ugc nofollow" target="_blank"> Agora开发者Slack社区</a>，在那里你可以在<code class="fe mm mn mo mp b">#web-help-me</code>频道提问。欢迎提出功能请求或在<a class="ae kw" href="https://github.com/AgoraIO-Community/Web-React-UIKit/issues" rel="noopener ugc nofollow" target="_blank"> GitHub Repo </a>上报告错误。</p></div></div>    
</body>
</html>