# 调试代码的策略

> 原文：<https://levelup.gitconnected.com/strategies-for-debugging-code-9de0ca9f823b>

![](img/95811884b95ea7db24633aa9d4a7ace3.png)

劳伦茨·克莱因海德在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

调试代码通常是一个艰难而令人疲惫的过程。然而，归根结底还是要解决问题。

在本文中，我们将看看如何使调试变得更容易。

# 安静

当我们遇到一个 bug 的时候，首先要做的就是冷静下来。

我们可能已经感到疲惫和沮丧，但是当我们调试时，我们必须冷静下来，这样我们才能更快更容易地找到问题的根源。

还有，调试的时候要保持开放的心态。近视对我们没有任何好处。

我们应该找到问题的根源，而不是解决问题的表象。真正的罪魁祸首可能离我们观察到的东西有几步之遥。

然而，我们所看到的并不总是根本原因。因此，我们应该找到根本原因，一劳永逸地修复我们遇到的 bug。

# 从哪里开始

我们首先要确保我们的代码构建和运行没有错误。

然后我们需要收集所有相关的数据。我们应该注意，我们可能会被巧合误导。

我们不能在巧合上浪费时间。我们的观察必须准确。

如果错误报告来自第三方，准确性也会降低。

他们可能不知道到底发生了什么，我们需要观察向某些东西报告错误的用户实际上重现了错误，这样我们自己也可以重现它。

人工测试可能不会充分锻炼应用程序，导致我们的问题。我们可能需要测试用户可能会做的边缘案例和其他实际使用模式。

# 调试策略

开始修复一个 bug 的最好方法是从我们自己复制它开始。

如果我们不能复制它，那么我们不会知道它是固定的。

要做的事情就是能够用一个命令来复制一些东西。如果我们必须通过许多步骤来隔离可能导致错误的场景，从而重现错误，那么修复起来会困难得多。

# 可视化数据

当我们试图重现 bug 时，我们需要将数据可视化。

这就是调试器的用武之地。它让我们观察每个变量的值，看看是否有什么东西会因为给变量设置了错误的值而导致错误。

# 描摹

调试器现在关注程序的状态。所以为了可视化整个工作流程，我们需要追踪代码的流程。

这就是代码的堆栈跟踪非常有用的地方，因为它列出了在获得给定结果之前运行的所有代码。

我们可以在代码中添加跟踪语句来跟踪代码是如何被调用的。为此，我们可以编写自己的日志语句，将文本打印到控制台，这样我们就可以看到调用了什么。

打印出这些值也很有用，这样我们就可以在控制台中看到它们。

这让我们可以通过沿着调用树深入到 bug 的根本原因来深入到代码。

# 橡皮鸭

当我们解释运行一段代码的工作流时，我们可能会通过向另一个旁观者解释来捕捉一些异常。

我们正在向他或她解释，他或她也可能告诉我们一些我们没有发现的东西，这可能有助于找到错误的罪魁祸首。

# 消除过程

在大多数应用程序中，有许多部分组成了整个应用程序。它可能由我们编写的代码、其他人编写的代码以及第三方库、框架和其他产品组成。

因此，bug 可以存在于任何这些地方。然而，代码更有可能存在于我们或团队中其他人开发的部分中。

在他们被我们的调试工作证明是错误的之前，我们不应该假设他们给出了任何东西。

例如，我们不能假设这不是一个简单的打字错误导致的错误，直到我们实际上消除了这种可能性。

此外，我们可能错误地调用了库的一部分。因此，我们应该检查他们的文档，以确保我们调用它是正确的。

这非常重要，因为这绝对是一种可能性，我们只能通过直接否定它来消除它。

因此，在我们真正找到罪魁祸首并解决它之前，我们不应该做任何假设。

在我们修复之后，我们应该通过多测试几次来检查这不是侥幸或巧合，以确保 bug 确实消失了。

![](img/96cc13daf0c0c011640d2667c467d82f.png)

本·怀特在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

# 结论

在粉碎虫子的时候，我们不应该做任何假设。在做出任何结论之前，确保我们考虑了所有的可能性并逐一排除了它们。

还有就是调试的时候要静下心来理性思考。这样，我们实际上可以思考。