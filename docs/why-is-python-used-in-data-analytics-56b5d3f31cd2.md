# 为什么在数据分析中使用 Python？

> 原文：<https://levelup.gitconnected.com/why-is-python-used-in-data-analytics-56b5d3f31cd2>

## 简而言之:因为它几乎无所不能

![](img/3cb5bd53fda359417c40cba89e5b49f4.png)

Artturi Jalli 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

# 介绍

Python 是一种流行的编程语言[，它不是以蛇的名字命名的，而是以创造了 Monty Python 的飞行马戏团](https://docs.python.org/3/faq/general.html#:~:text=Details%20here.-,Why%20is%20it%20called%20Python%3F,to%20call%20the%20language%20Python.)的小品喜剧组命名的。(因为，嗯，为什么不呢？)众所周知，与其他编程语言相比，它容易学习和阅读，尽管“容易”是相对于你已经有多少编程经验而言的。如果你一点都没有，并且发现自己第一次看一些 Python 代码，心想“那到底是什么”，放心，这很正常。

第一次看巨蟒剧团的《飞行马戏团》时，人们可能也是这么想的。

像其他事情一样，阅读和编写 Python 代码最终会变得更容易。您可能还记得，曾几何时，SQL 对于我们初出茅庐的数据分析师来说也是相当难以理解的。但是我们将暂时把学习放在一边——你在这里找不到任何代码示例——而是关注为什么这么多数据分析师每天都在使用 Python，以及它具体能为你做什么。

并非每个数据分析师都使用 Python。实际上，并不是每个数据分析师都需要使用 Python。Python 能做的很多事情可以用其他工具来完成，比如 Excel、Tableau 和低代码集成软件。

然而，这些东西都不能像 Python 一样做所有的事情。可以说，这还不是它最大的优势。

它还提供了再现性。它提供了速度和效率。它允许更复杂的数据视图，同时协作者仍然可以理解。(例如，您是否读过别人编写的长达 100、200、300 多行的 SQL 查询？首先，你通常不能从上到下阅读，至少可以说，这可能会令人困惑。根据我的经验，这些查询是你不想搞砸的超级重要的查询。它们是玻璃做的城堡。大号的。易碎。如果你弄坏了它，它的主人会非常生气的。)

但是它到底是怎么做这些事情的呢？为什么在这么多以数据为中心的职位描述中要求它？既然我们谈到了这个话题，那么卡格尔大师到底是什么？

简而言之:它让你的生活更轻松。它做了很多事情，也做了很多其他的事情。别担心卡格尔大师。你和我，我们可能永远不会成为一体——顺便说一句，这很好。

# 自动化

## 无聊的东西

对，那是参考[的同名书](https://automatetheboringstuff.com/)。

在数据世界内外，Python 都被用来自动化日常事务，从重命名文件一直到在博德之门的角色创建中点击 [*重新滚动*按钮，直到你的角色滚动总统计超过 95](https://github.com/dakotaleesmith/pyProjects/blob/main/baldurs_gate/reroll_stats/reroll_stats.py) 。(那天，我花在编写那些公认不起眼的代码上的时间，比我玩博德之门的时间还多。最终我会着手重构它。也许吧。)

Python 可以为您自动完成的枯燥工作的非详尽列表:

*   电子邮件
*   填写 pdf
*   批量转换文件
*   解析难以阅读的文本格式
*   动态格式化电子表格
*   组织本地和远程目录
*   一遍又一遍地点击屏幕上的一个点

自动化重复任务是 Python 的主要卖点之一——或者说，如果 Python 有成本的话，将会是。实际上，可以公平地说，一个任务越重复，Python 就越有可能自动完成它(也越有可能有人已经完成了)。

在官方 Python 包索引 PyPi 上有超过 300，000 个 Python 库和包(可以导入并在自己的程序中使用的代码)。更有可能的是，某样东西可以帮助你解决单调的生活。[这个家伙](https://maxnagy.com/posts/pigeons/)写了一个 Python 脚本，用水枪射向在自家阳台上“排泄排泄物”的鸽子。不一定无聊，但是嘿，你甚至不局限于数字世界。

## 报告

如今，许多汇总报告都是在 Tableau 和/或 Excel 等 BI 工具以及 SaaS 产品本身中进行的。大多数时候，这是好的。但是有时你会遇到没有时间去寻找他们需要的报告的涉众，或者习惯于以某种方式查看数据的涉众。还要考虑工具本身的局限性——有时易用性伴随着功能的减少。当你的需求是独特的时候尤其如此。

不管是什么原因，Python 都可以节省您的时间，避免您自己追踪报告、导出数据、相应地重新格式化数据以及将数据发送给正确的人的不便。如果这听起来很熟悉，应该是这样的:它只不过是一系列有些平凡的任务。

但是对于准备充分的数据分析师来说，编写重复性报告*应该会有些枯燥——只有当输入的数据变得非常好、非常坏或者后端出错时才令人兴奋。其中只有一个是令人兴奋的积极方面。*

以这个场景为例。周一，高管团队喜欢直观的视图(只是一个简单的 CSV，谢谢),按地区显示上周的收入。你的工作只是查询公司数据库，编辑结果，并通过电子邮件发送给高管。

假设这需要 15 分钟。假设一年中有 48 周(贵公司批准了您 4 周的 PTO)，您需要发送这份定期报告。

这项任务——查询数据库、查询数据并仔细检查查询、将数据编译成 CSV 格式，然后通过电子邮件发送给管理团队——用 Python 编写脚本大约需要一个小时。不，这并不慷慨。即使是初学者也可以相对容易地编写代码，这就是 Python 特别引人注目的地方。

这样做，你每年可以节省 11 个小时。当然，这只是一份报告。每个数据分析师的角色都不一样，但在一些公司，你可能会经常做这种事情。自动化报告可以节省你的时间，给你的老板留下深刻印象，并让你专注于更有成就感和影响力的工作。

## 数据管道/网页抓取

这进入了数据工程领域，但数据分析师和科学家有时会通过 API 和 AWS Glue 和 Lambda 等工具构建数据管道，并从网络上搜集第三方数据。

他们有时还需要执行 ETL，即提取、转换、加载。ETL 是一个过程，通过这个过程，数据被从一个源中取出，被清理和处理以满足涉众的需求，并被存储在其他目的地。尽管 ETL 通常被认为是一项数据工程任务，但它通常是分析师的责任，尤其是在较小的公司。

一个常见的 ETL 管道可能是这样的:从另一个分析平台(例如，Google Analytics)提取数据，转换并潜在地丰富数据，以便可以以新的、有洞察力的方式查看数据，然后将其加载到公司的数据仓库中。当不同的部门试图找到他们的工作和预期结果之间的相关性甚至因果关系时，这是特别有用的，因为这些证据可能存在于不同的数据源中。

你能手动完成所有这些吗？可能吧。然而，这不仅是一种低效的时间利用(相比较而言)，而且手动 ETL 过程引入了大量的错误空间。

使用像[请求](https://realpython.com/python-requests/)和[熊猫](https://realpython.com/pandas-dataframe/)这样的库，Python 可以自动化整个管道。为了让管道自动运行(也就是说，不需要自己打开脚本并运行它)，您必须使用 cron 之类的作业调度器，或者 AWS Glue/Lambda 之类的服务。但是考虑到“自己运行它”仅仅意味着按下一个按钮，Python 仍然让您大部分时间都在那里。

# 转换

## 数据清理

即使您在整个数据分析职业生涯中从未正式做过任何端到端 ETL，您也一定会至少做 T 部分:转换。因为如果你是数据分析师，你也是数据保管员。

数据清理有多种形式。它可以像重命名字段一样简单，也可以像重命名数百个字段一样困难。(诅咒你，宽幅数据。)它也可能像定位前导和滞后空格，或者试图解析单个信息的深度嵌套的键值对一样令人疲惫。

换句话说，数据在很多不同的方面都是混乱的。总的来说，随着公司数据的增长，混乱也会随之增加。这是一只雨后泥里的狗。不要指望它能找到可以接受的状态。

说到数据清理(以及大多数表格数据操作)，pandas 是首选的 Python 库。如果作为一名数据分析师，您只能安装一个库，那么就不会有其他竞争者了。

Pandas 建立在 NumPy 的基础上，NumPy 是一个 Python 库，它以其数值计算能力而闻名。它允许您执行几乎任何类型的清理，您可以在 SQL 或 Excel 中做，然后一些，只有在一个更可重复的方式。例如，pandas 有几个内置函数来处理字段中的嵌套列表和字典，并且可以在不到一秒的时间内有条件地更改所有列的名称。它还可以从几种不同的文件类型导入和导出数据，包括 CSV、JSON 和 Parquet。

Pandas 并不局限于数字操作，正如其基本库的名称所暗示的那样，它还可以用于转换字符串、日期时间和布尔数据类型。当与 [Jupyter Notebooks](https://realpython.com/jupyter-notebook-introduction/) (允许你在单独的步骤中运行你的代码)一起使用时，它也给了你分阶段监控转换过程的能力，而不是仅仅运行脚本并期待最好的结果。

## 自然语言处理

NLP 代表自然语言处理。这基本上意味着弄清楚自由格式文本中发生了什么。

并非所有的数据都是结构化的，语言更是如此。例如，假设这篇文章中的每一段都被加载到一个数据库中(每一段只有一条记录)。现在想象一下，我残酷地要求您编写一个 SQL 查询，以确定每个单独的段落是否有任何好处。

首先，什么是好的？也许您可以从编写一系列复杂的嵌套 CASE WHEN 语句开始，这些语句最终评估为真或假(或者在本例中，好或坏)。你可以这样开始:好吧，理想的段落是 *n* 句数或更少，所以如果它超过了这个阈值，那就不好了；如果通过，我们可以根据使用了多少高音节单词来评估可读性，等等…

但这不仅是疯狂的，也可能过于简单化。例如，一个单词的意思高度依赖于上下文。即使是语法，随着时间的不断变化，也不能独立于其他变量而产生精确的结果。我当然校对过这篇文章，但可以肯定的是，在一个看似无辜的句子的黑暗角落里，隐藏着一两个错别字。这些应该如何评价？

换句话说，就语言而言，很难充分考虑到所有的因素。如果你在没有任何帮助的情况下设法做到了，恭喜你，*你疯了。愿历史书在未来的几个世纪里崇敬你的才华。*

虽然 NLP 还有很长的路要走，但它已经走了很远。最近，谷歌[开发的一个人工智能聊天机器人让它的一名工程师相信它已经变得有知觉。](https://www.washingtonpost.com/technology/2022/06/11/google-ai-lamda-blake-lemoine/) Python NLP 库也可以非常强大——不是让你相信它是有感知能力的，而是为了数据分析的目的，足够强大。

NLTK、spaCY 和 Gensim 等库可以用来实现 NLP 技术，有时只需不到十行代码。数据分析师使用的这些技术中比较常见的一种是情感分析，它试图确定一段文本是在表达积极、消极还是更中性的东西。情感分析经常被用来辨别顾客反馈等。

## 机器学习

机器学习是:

*   一种人工智能
*   在利用历史数据预测新结果的行业中
*   不得随意应用

这也是 Python 非常适合做的事情。

机器学习通常与数据科学联系在一起——据称是本世纪最性感的工作领域，尽管如果你的家人或身边的人都不知道这一点，也不要感到惊讶。虽然与分析相关，但数据科学是一项独特的工作，面临着独特的挑战。

然而，当涉及到现实世界的工作职责时，经常会有重叠。例如，根据行业、职位资历和公司所处的阶段，数据分析师有时可能会从事通过机器学习方法实现的预测建模工作。

那么为什么 Python 非常适合机器学习呢？如果你猜是图书馆，你猜对了。(继续猜库——你会一直猜对的。)常见的用于 ML 的 Python 库包括 Scikit-learn 和 TensorFlow。Scikit-learn 是一个更高级的机器学习框架，以回归、聚类和分类算法为特色，而 TensorFlow 则专注于深度学习。

用 Python 构建机器学习模型的另一个好处是平台独立性，这意味着你的代码可以在不同的操作系统上运行。用 Python 开发的机器学习模型可以在不同类型的本地机器上运行，也可以通过云服务运行。

机器学习可以与其他编程语言一起部署，但除了 R，这些其他语言在数据分析中不常使用，因此不太可能在分析师的工具包中。除了提到的其他优势，Python 使您的机器学习模型更具可重复性，并更开放地与其他数据分析师和科学家合作，这是所有良好的(人类)学习发生的地方。

# 形象化

数据和讲故事的交汇点是良好的可视化。如果这听起来有点俗气，我提供一些更实际的东西:你也可以在分析团队和上层管理的交叉点上找到可视化。没有人——即使是分析师自己——像管理层一样喜欢好的图表。

强大的可视化功能改变了数据，因此可以在很短的时间内理解数据。它以原始数据通常无法提供的方式提供了背景和内容。想象一下时间序列图和按天汇总去年销售额的电子表格——一个你可以立即理解，另一个会让你眼花缭乱。

从表面上看，Python 似乎更适合数据准备，而不是数据表示。这是有一定道理的。你很少会向利益相关者展示你的代码。但是 Python 实际上可以生成一些令人难以置信的可定制的视觉效果。有些库，像 [Dash](https://pypi.org/project/dash/) ，甚至允许你创建交互式仪表盘。

Python 很难成为比 Tableau 或 Power BI 等工具更简单的商业智能解决方案。但它有时会更加灵活。像 [seaborn](https://seaborn.pydata.org/) 这样的库允许数据分析师快速生成图表，这些图表可以以 Excel 中可能很棘手的方式定制。当数据存在于您的 BI 工具当前没有集成的某个地方时，它也会有所帮助。

一开始，您可能会花很多时间研究可视化库的文档，特别是当您需要它做一些非常特殊的事情时。但在某种程度上，这就是编码的本质。这也是乐趣的一部分，可以说——你可能会去寻找如何给你的 x 轴添加标签，顺便也学习[如何把你的散点图中的点变成星星](https://matplotlib.org/stable/api/markers_api.html)。星星！我们生活在一个激动人心的世界。

或者你偶然发现了公认简单但风格独特的可视化软件包[可爱图表](https://github.com/cutecharts/cutecharts.py)。这个名字是不言自明的，但是用它创建的这个饼图可能更是如此:

![](img/b6c86732cbdab71207d949046fcc2ab0.png)

我的意思是，是的，这是一个可爱的图表。你期待有什么不同吗？

# 结论

读到这里，你可能会想:为什么要为 BI 工具、自动化 ETL 解决方案或第三方分析平台而烦恼呢？Python 可以做到这一切！

在大多数情况下，它可以。但这并不意味着它应该永远如此。不是每个人都建自己的房子是有原因的。学习如何做需要很多时间，计划需要很多时间，执行愿景需要很多时间。(建造一栋房子也需要金钱、资源，可能还需要相当大的体力——但你会明白的)。

我遇到过一些数据分析师，他们有点不情愿地认为 Python 是他们“应该”学习的东西，特别是因为它在高薪职位描述中经常被提及。但对我来说，这真的只是让你的生活变得更容易。Python 是一个工具。显然，我认为这是值得学习的，但这是我个人的经验。对于其他人来说，这是否值得取决于很多因素——他们工作的行业、他们团队喜欢的技术组合、他们必须学习的空闲时间。等等。

好消息是，在数据分析领域，Python 不会很快走向任何地方。事实上，熊猫的创造者韦斯·麦金尼(Wes McKinney)刚刚出版了他的书的第三版， *Python for Data Analysis，*你可以在网上免费阅读[这里](https://wesmckinney.com/book/)。(请注意，我与这本书或韦斯·麦金尼没有任何个人或专业上的联系。我向你保证，他不知道我的存在。)

所以，如果你想知道现在开始学习是否为时已晚:其实并不晚。

如果你有任何你认为 Python 做得好的地方，1)与数据分析相关，以及 2)我在这里没有覆盖或覆盖得足够广泛或令人信服，我很乐意在评论中听到它！一如既往，请随时在 LinkedIn 上与我联系。