<html>
<head>
<title>Vector Assets: Powerful way to create icons and menu items in Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向量资产:在Android中创建图标和菜单项的强大方法</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/vector-assets-powerful-way-to-create-icons-and-menu-items-in-android-c28b469a7c9b?source=collection_archive---------8-----------------------#2020-04-06">https://levelup.gitconnected.com/vector-assets-powerful-way-to-create-icons-and-menu-items-in-android-c28b469a7c9b?source=collection_archive---------8-----------------------#2020-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1918" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">几乎所有的android应用程序中都有图标和菜单项。最有效的方法是使用矢量资产。这是因为android有各种各样的设备(手机、平板电脑或可穿戴设备)，不同的屏幕尺寸和不同的屏幕密度。在android中，大多数资源都是位图格式，就像图像一样，有一个固有的范围，这使得我们的资源在屏幕密度不同的相同大小的设备上看起来不同。现在，人们可以通过对不同密度的同一资产使用不同版本来解决这个问题。另一方面，仅仅通过使用矢量格式，你只需要做一次。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/21fff904e21baba144abb48fbb0a4661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ay7XoW0MiRM1BjjVYtkPiA.png"/></div></div></figure><p id="1f40" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">以下是使用android矢量资产的显著优势:</p><ol class=""><li id="e7aa" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated"><strong class="jp ir">更清晰的图像</strong> —由于它们被分配了编程定义的尺寸，因此图标在不同的屏幕尺寸下都很清晰。</li><li id="0e47" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated"><strong class="jp ir">更小的尺寸</strong> —矢量资产是文本的，这使得它们易于压缩。此外，我们只需要一个版本，而不是每个屏幕大小多个版本，这有助于我们使我们的应用程序更小。</li><li id="19dc" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated"><strong class="jp ir">可制作动画的</strong> —因为矢量资产描述资产而不是保存实际的图像，所以它提供了做多种事情的机会，如添加动画或在运行时动态地进行更改。</li></ol><h1 id="3f0b" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">我们如何制作矢量资产？</h1><p id="e43f" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">谈到可缩放图像，SVG(可缩放矢量图形)是web的标准，它使用任意JavaScript来添加动画。但是SVG不适合受限制的移动设备。但是android确实支持SVG的矢量绘制形式的路径规范。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="38a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它被写在具有如下属性的向量标签中:</p><ul class=""><li id="7be3" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk mq ld le lf bi translated"><strong class="jp ir">安卓:宽度</strong> —固有宽度。</li><li id="7ae7" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk mq ld le lf bi translated"><strong class="jp ir">安卓:身高</strong> —内在身高。</li><li id="1655" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk mq ld le lf bi translated"><strong class="jp ir">Android:viewport width</strong>—画布宽度</li><li id="1034" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk mq ld le lf bi translated"><strong class="jp ir">Android:viewport height</strong>—画布高度</li></ul><p id="514e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通常，宽度和高度以及viewportWidth和viewportHeight具有相同的纵横比。向量中可以有一个或多个<strong class="jp ir"> path </strong>元素，pathData是负责绘制路径的属性。让我们来看看它是如何工作的。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mr"><img src="../Images/0ebb7c0a3169e0f4cda86a297e3d3f4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uKrXHRUdix4WNnQNFtuGdQ.gif"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">android:pathData</figcaption></figure><p id="29ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很像PC Logo您可以使用不同的命令来控制移动和动作。在这里，画布中某个点前的“M”代表“移动”“L”代表画一条线。下面列出了其他命令，您可以使用它们来绘制几乎任何形状:</p><ul class=""><li id="56aa" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk mq ld le lf bi translated"><strong class="jp ir">男</strong>男</li><li id="adc5" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk mq ld le lf bi translated"><strong class="jp ir">行到</strong></li><li id="399c" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk mq ld le lf bi translated"><strong class="jp ir"> C </strong> urve to</li><li id="177f" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk mq ld le lf bi translated"><strong class="jp ir">一</strong>区局来了</li><li id="07d4" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk mq ld le lf bi translated"><strong class="jp ir"> Z </strong>关闭</li></ul><p id="4207" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在path元素中，我们有其他属性，如定义边界颜色的strokeColor和定义填充颜色的fillColor。(注。我们还可以添加android:alpha属性，该属性采用0–1之间的值来改变颜色的不透明度。)</p><pre class="km kn ko kp gt mw mx my mz aw na bi"><span id="0e55" class="nb lm iq mx b gy nc nd l ne nf">&lt;vector ... /&gt;<br/>    &lt;path .../&gt;<br/>    &lt;group<br/>        android:name="egg"<br/>        android:pivotX="8"<br/>        android:pivotY="0"<br/>        android:rotation="180"<br/>        android:scaleX="1"<br/>        android:translateY="-5" /&gt;<br/>        &lt;path .../&gt;<br/>    &lt;/group&gt;<br/>&lt;/vector&gt;</span></pre><p id="dc0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">矢量绘图也支持不同组路径之间的转换。像旋转、缩放、平移这样的变换，非常类似于CSS。这里的pivotX和pivotY类似于CSS的transform-origin属性，它们定义了动画发生的原点。旋转属性用于根据用户给定的角度旋转图标。缩放用于改变图标的大小，平移用于相对于当前位置移动图标。这些对于动画来说是有益的，但是对于静态图标来说就不那么有用了。</p><p id="b1f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我们也可以使用clip-path，它屏蔽了要显示的区域。但是它不支持抗锯齿，这就是为什么它不被广泛使用的原因。</p><p id="5816" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们如何在应用程序中使用向量呢？现在，SDK版本21 (Lollipop)中增加了vector drawable。我们通过静态版本的VectorDrawable类和动画版本的AnimatedVectorDrawable来使用它。但是它们也被反向移植到jetpack库，所以VectorDrawableCompat和AnimatedVectorDrawableCompat也是可用的。建议使用VectorDrawableCompat，因为它允许android支持添加到后续版本的新功能，并提供新的错误修复。</p><h1 id="99f9" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">如何使用矢量资产？</h1><p id="cd5d" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">要在我们的应用程序中使用它，我们可以使用带有srcCompat属性的ImageView或带有drawableCompat属性的TextView，例如</p><pre class="km kn ko kp gt mw mx my mz aw na bi"><span id="1a40" class="nb lm iq mx b gy nc nd l ne nf">&lt;!-- With ImageView --&gt;<br/>&lt;ImageView<br/>    app:srcCompat="@drawable/my_vector" /&gt;</span><span id="3185" class="nb lm iq mx b gy ng nd l ne nf">&lt;!-- With TextView --&gt;</span><span id="4ad1" class="nb lm iq mx b gy ng nd l ne nf">&lt;TextView<br/>    app:drawableLeftCompat="@drawable/my_vector"<br/>    app:drawableTint="@colot/vector_tint"<br/>    app:drawableTintMode="src_in" /&gt;</span></pre><p id="03c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者，在java代码中使用它，</p><pre class="km kn ko kp gt mw mx my mz aw na bi"><span id="d746" class="nb lm iq mx b gy nc nd l ne nf">Drawable d = AppCompatResources.getDrawable(context,<br/>       R.drawable.my_vector)</span></pre><h1 id="f6d0" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">向量资产如何加载到我们的应用程序中？</h1><p id="bf81" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">矢量资产分两步加载到我们的应用程序中，首先，我们编写的XML文件被编译成二进制表示，并膨胀模型对象。其次，执行canvas操作来绘制这些二进制数据，这可能需要时间。但是对于静态矢量资源，我们可以将结果缓存到位图中，以避免后续的绘制。但是我们不能对动画向量做同样的事情。与android只需解码和绘制的位图相比，这是一个小小的缺点。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mr"><img src="../Images/1a8e6aeca8b761443f785530dc28e0f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ubNtdE73_AvOl3yEL3tNuQ.png"/></div></div></figure><h1 id="d2fd" class="ll lm iq bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">想要更多吗？</h1><p id="4722" class="pw-post-body-paragraph jn jo iq jp b jq mj js jt ju mk jw jx jy ml ka kb kc mm ke kf kg mn ki kj kk ij bi translated">我将添加更多关于矢量资产的内容，包括转换过程、路径变形等等。</p></div></div>    
</body>
</html>