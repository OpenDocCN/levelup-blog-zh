<html>
<head>
<title>How to Automate Your To-Do List With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python自动化你的待办事项列表</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-automate-your-to-do-list-with-python-2da26b0ffc8f?source=collection_archive---------9-----------------------#2021-01-26">https://levelup.gitconnected.com/how-to-automate-your-to-do-list-with-python-2da26b0ffc8f?source=collection_archive---------9-----------------------#2021-01-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f834" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">花几分钟写代码，再也不会忘记任务</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7dd14e49dca58e84694fa04944b91d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r6BnLxXjZcNWNqpG"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@cathrynlavery?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">凯瑟琳·拉威利</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="11b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很容易忘记日常生活中的小事。当生活变得忙碌时，像给室内植物浇水、倒垃圾、清理电脑这样的小责任经常被遗忘。</p><p id="2d98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使作为一个以研究人类记忆为生的人，我仍然不擅长记录这样的事情。背景中有一个全球疫情对我的智力也没有帮助。</p><p id="1521" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你像我一样，谢天谢地你可以用一点基本代码来解决这个问题。通过使用一个公共的在线待办事项列表和一个Python脚本，可以很容易地根据大量不同的条件设置自定义的重复提醒。只要你定期运行这个脚本，每天早上醒来就会看到一个为你量身定制的任务列表。没问题。</p><p id="d12f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么你需要做什么呢？</p><h1 id="08d8" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.设置Todoist</h1><p id="c55f" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Todoist是一个非常简洁的数字待办事项列表。它做了你想让待办事项清单做的一切:你可以分配任务优先级，按项目分组任务，设定截止日期，等等。虽然我不再使用Todoist作为我的主要组织工具，但它仍然是我最喜欢的独立待办事项应用程序。</p><p id="09f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，你要做一个Todoist账户。这很简单，不会花你太多时间。</p><p id="35df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你这样做了，你就会想去访问<a class="ae ky" href="https://developer.todoist.com/sync/v8/?python" rel="noopener ugc nofollow" target="_blank"> Todoist API文档站点</a>。在这里，您将看到使用API对您的帐户执行操作所需的所有说明。您可以使用shell命令<code class="fe ms mt mu mv b">$ pip install todoist-python</code>通过pip安装API。</p><p id="cda4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您需要找到您的Todoist帐户的API令牌。这是一个独特的字符串，API使用它来识别您的帐户。你可以登录Todoist web应用程序，点击右上角的个人资料图片，然后选择“整合”来找到它；您的API令牌在此屏幕上有清晰的标记。</p><p id="9554" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，如果您是新手，我建议您尝试一下Todoist。了解核心特性是如何工作的，可能有助于您了解以后要自动化什么样的任务。至少，创建一个新项目来存储您的自动化任务，并记下它的ID。</p><p id="d140" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了这个设置，就该编码了。</p><h1 id="35f4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.在新脚本中设置API</h1><p id="a6d4" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">要在新脚本中设置Todoist API，请打开新的Python脚本并输入以下代码:</p><pre class="kj kk kl km gt mw mv mx bn my mz bi"><span id="f2c0" class="na lw it mv b be nb nc l nd ne">from todoist.api import TodoistAPI<br/>from datetime import datetime<br/><br/>api = TodoistAPI("XXXXXX")<br/>api.sync()<br/><br/>print(api.state['projects'])</span></pre><p id="e624" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，您需要导入Todoist API。您还需要导入<code class="fe ms mt mu mv b">datetime</code>库，因为在为任务调度创建条件时，这很方便。</p><p id="ed17" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，第三和第四行将创建Python脚本和Todoist帐户之间的连接。这里需要用上一步中惟一的API令牌替换字符串“X”。</p><p id="5935" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦API与您的帐户同步，最后一行的代码将打印一些关于您的项目的信息。对于您的Todoist帐户中的每个项目，将在控制台中打印各种属性。在这些信息中，您需要知道的是您想要关联添加自动化任务的项目的<code class="fe ms mt mu mv b">id</code>属性。在进行下一步之前，请务必记下这一点。</p><h1 id="9b01" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.添加并提交任务</h1><p id="c705" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在您已经设置了API，您可以进入项目的核心:添加任务！</p><p id="7953" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以编程方式添加待办事项列表项的目的是自动跟踪某些任务。在许多不同的情况下，您可能希望自动执行任务提醒，但是添加每隔几天重复一次的任务是一个简单的开始。下面，我列举了一个例子，告诉你如何设置每30天清理一次电脑的提醒。</p><pre class="kj kk kl km gt mw mv mx bn my mz bi"><span id="98be" class="na lw it mv b be nb nc l nd ne">todaysdate = int(datetime.now().timestamp() / 86400)<br/><br/>if (todaysdate) % 30 == 0:<br/>    cleanpc = api.items.add("Clean your PC", project_id="1234567890", due={"string": "today"})<br/><br/>api.commit()</span></pre><p id="f78d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，首先在<a class="ae ky" href="https://en.wikipedia.org/wiki/Unix_time" rel="noopener ugc nofollow" target="_blank"> Unix时间</a>中定义当前日期。这意味着您可以使用模数运算符(<code class="fe ms mt mu mv b">%</code>)定义每三十天评估一次为真的条件。如果当前日期能被30整除，则条件的计算结果为true。</p><p id="92c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在if语句中，您可以使用<code class="fe ms mt mu mv b">api.items.add</code>向您选择的项目添加一个新任务。定义任务的名称(“Clean your PC”)，指定要将任务添加到的项目的id，这样就完成了。在这个例子中，我还添加了一个截止日期。添加任务时，您还可以自定义其他一些功能；请看一下<a class="ae ky" href="https://developer.todoist.com/sync/v8/#add-two-new-tasks" rel="noopener ugc nofollow" target="_blank"> API文档</a>以获得关于这些的更多信息。</p><p id="42c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，使用<code class="fe ms mt mu mv b">api.commit()</code>提交您的更改，您的任务应该会每三十天成功添加一次。您也可以在提交更改之前添加尽可能多的新任务，因此对于您经常忘记的自动化任务没有限制。</p><h1 id="b053" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.每天运行Python脚本</h1><p id="e1aa" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">所以你已经有了一个Python脚本来自动化待办事项列表项。现在你需要做的就是经常运行它(最好是每天)，让它不断地创建新任务。您可以每天手动执行此操作，也可以让脚本在启动时自动运行。</p><p id="8f31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">启动时运行脚本的过程将取决于您的操作系统，但是有大量的资源描述了这个过程。<a class="ae ky" href="https://www.tutorialspoint.com/autorun-a-python-script-on-windows-startup" rel="noopener ugc nofollow" target="_blank">这里有一个Windows的</a>。</p><p id="a3b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你每天运行这个脚本，就差不多了。如果你愿意，你可以用新任务更新它，但是除此之外，它会继续在后台为你安排任务。</p><h1 id="a0f5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">让您的自动化更进一步</strong></h1><p id="bf40" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我在本文中展示了一个非常简单的例子，但是您可以通过这个自动化工作流做更多的事情。考虑到除了TodoistAPI之外还可以使用其他API和Python特性，这种可能性是无穷无尽的。</p><p id="d45b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，您可以使用<a class="ae ky" href="https://pythonhowtoprogram.com/how-to-use-weather-api-to-get-weather-data-in-python-3/" rel="noopener ugc nofollow" target="_blank">Python Open Weather Map</a>(py owm)添加基于天气的任务。步骤很简单。安装pyowm，注册一个帐户，然后使用当前或预报天气数据为要添加到Todoist的任务创建条件。</p><p id="b8c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些自动化任务可以防止你在雨中不穿外套，防止你的植物在炎热的天气里干燥，或者确保你在霜冻的早晨给你的汽车除冰。</p><p id="3b8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使你永远不会忘记做这些事情(如果是的话，你就是机器)，它至少可以为你节省一些时间和精力去思考它们。</p><p id="7bad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我喜欢这个项目，因为它简单、有用，而且还有扩展的空间。如果您对Python很熟悉，或者心中有特定的用例，可以尝试扩展我在这里介绍的内容。</p><p id="0d16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">至少，你干渴的植物可能会感谢你。</p></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><p id="4873" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想阅读我所有关于编程、数据科学等方面的文章吗？在<a class="ae ky" href="https://medium.com/@roryspanton/membership" rel="noopener">这个链接</a>注册一个媒体会员，就可以完全访问我所有的作品和媒体上的所有其他故事。这也直接帮助了我，因为我从你的会员费中得到一小部分，而不需要你额外付费。</p><p id="8196" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">只要我在这里订阅<a class="ae ky" href="https://roryspanton.medium.com/subscribe" rel="noopener">，你就可以将我所有的新文章直接发送到你的收件箱。感谢阅读！</a></p></div></div>    
</body>
</html>