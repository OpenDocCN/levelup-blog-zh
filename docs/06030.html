<html>
<head>
<title>AWS and their Billions in IPv4 addresses</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS及其数十亿的IPv4地址</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/aws-and-their-billions-in-ipv4-addresses-8b1820fb24c1?source=collection_archive---------5-----------------------#2020-10-20">https://levelup.gitconnected.com/aws-and-their-billions-in-ipv4-addresses-8b1820fb24c1?source=collection_archive---------5-----------------------#2020-10-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9b88615aac6890d1a0d4ff2455e45d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2NV6sLckKVYDtZ-i"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">希曼舒·查南在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="b8ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">本文原载于我的个人博客</strong> <a class="ae kc" href="https://toonk.io/aws-and-their-billions-in-ipv4-addresses/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Toonk.io </strong> </a></p><p id="0ac4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本周早些时候，我在AWS上做了一些工作，想知道正在使用哪些IP地址。对我来说幸运的是，AWS在这里发表了这一切<a class="ae kc" href="https://ip-ranges.amazonaws.com/ip-ranges.json" rel="noopener ugc nofollow" target="_blank">https://ip-ranges.amazonaws.com/ip-ranges.json</a>。当您浏览这个列表时，您会很快看到AWS拥有大量的IPv4分配资产。只是快速数了数，我注意到了很多大前缀！</p><figure class="lb lc ld le gt jr"><div class="bz fp l di"><div class="lf lg l"/></div></figure><p id="5fab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，该列表上的IPv4范围只是AWS目前正在使用和分配的范围。是时候深入挖掘一下了。</p><h1 id="87b2" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">AWS获取IPv4地址</h1><p id="0ef0" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">多年来，AWS获得了大量的IPv4地址空间。大多数收购都没有引起太多关注，但是有一些值得注意的收购，我将在下面快速总结一下。</p><h2 id="09c7" class="mk li iq bd lj ml mm dn ln mn mo dp lr ko mp mq lv ks mr ms lz kw mt mu md mv bi translated">2017年:麻省理工学院向AWS出售800万个IPv4地址</h2><p id="bf3d" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">2017年<a class="ae kc" href="https://www.internetsociety.org/blog/2017/05/mit-goes-on-ipv4-selling-spree/" rel="noopener ugc nofollow" target="_blank">麻省理工学院向AWS出售了其18.0.0.0/8 </a>配额的一半。这个18.128.0.0/9范围包含大约800万个IPv4地址。</p><h2 id="1b46" class="mk li iq bd lj ml mm dn ln mn mo dp lr ko mp mq lv ks mr ms lz kw mt mu md mv bi translated">2018:通用电气向AWS出售3.0.0.0/8</h2><p id="d82c" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">2018年，IPv4前缀3.0.0.0/8从GE转移到AWS。凭借这一点，AWS成为其首台/8的自豪拥有者！这相当于1600万个新的IPv4地址来满足我们饥渴的AWS客户。<a class="ae kc" href="https://news.ycombinator.com/item?id=18407173" rel="noopener ugc nofollow" target="_blank">https://news.ycombinator.com/item?id=18407173</a></p><h2 id="6a46" class="mk li iq bd lj ml mm dn ln mn mo dp lr ko mp mq lv ks mr ms lz kw mt mu md mv bi translated">2019: AWS收购AMPRnet <a class="ae kc" href="http://44.192.0.0/10" rel="noopener ugc nofollow" target="_blank"> 44.192.0.0/10 </a></h2><p id="7ff3" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">2019年，AWS从AMPR.org业余无线电数字通信公司(ARDC)购买了a /10。IPv4范围44.0.0.0/8是1981年分配给业余无线电组织的，称为AMPRNet。这次出售引起了相当多的讨论，查看这里的<a class="ae kc" href="https://mailman.nanog.org/pipermail/nanog/2019-July/thread.html#102103" rel="noopener ugc nofollow" target="_blank"> nanog讨论。</a></p><p id="8721" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">就在这个月，它<a class="ae kc" href="http://www.southgatearc.org/news/2020/october/sale-of-amateur-radio-amprnet-tcp-ip-addresses.htm" rel="noopener ugc nofollow" target="_blank">成为众所周知的</a> AWS为此/10支付了1.08亿美元。每个IP地址25.74美元。</p><p id="b28b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些只是几个例子。显然，AWS的IP地址比我在这里列出的三个例子多得多。IPv4传输市场非常活跃。看看这个网站，了解一下所有的转会:<a class="ae kc" href="https://account.arin.net/public/transfer-log#NRPM-8.3IPv4" rel="noopener ugc nofollow" target="_blank">https://account.arin.net/public/transfer-log</a></p><h1 id="a0f1" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">所有AWS IPv4地址</h1><p id="f5e8" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">有了上面的信息，很明显不是所有AWS拥有的范围都在AWS发布的JSON中。例如，缺少3.0.0.0/8范围的部分内容。可能是因为其中一些是留作将来使用的。</p><p id="c7ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我做了一些调查，试图找出AWS真正拥有多少IPv4地址。AWS发布的Json是一个很好的开始。然后，我将它与我能找到的所有ARIN、APNIC和成熟的亚马逊条目结合起来。一些例子包括:</p><p id="67b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">https://rdap.arin.net/registry/entity/AMAZON-4<a class="ae kc" href="https://rdap.arin.net/registry/entity/AMAZON-4" rel="noopener ugc nofollow" target="_blank">https://rdap.arin.net/registry/entity/AMAZO-4</a><a class="ae kc" href="https://rdap.arin.net/registry/entity/AT-88-Z" rel="noopener ugc nofollow" target="_blank">https://rdap.arin.net/registry/entity/AT-88-Z</a>T4</p><p id="2e3e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">组合所有这些IPv4前缀，通过聚合它们来移除重复和重叠，从而产生AWS拥有的唯一IPv4地址的以下列表:<a class="ae kc" href="https://gist.github.com/atoonk/b749305012ae5b86bacba9b01160df9f#all-prefixes" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/ATO oonk/b 749305012 AE 5b 86 BAC ba 9 b 01160 df9 f # all-prefixes</a></p><p id="e611" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该列表中的IPv4地址总数刚刚超过1亿(100，750，168)。那是<strong class="kf ir">相当于刚过6/8的，</strong>不错！</p><p id="4b11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们按分配大小细分，我们会看到以下内容:</p><pre class="lb lc ld le gt mw mx my mz aw na bi"><span id="c7fb" class="mk li iq mx b gy nb nc l nd ne">1x /8     =&gt; 16,777,216 IPv4 addresses<br/>1x /9     =&gt; 8,388,608 IPv4 addresses<br/>4x /10    =&gt; 16,777,216 IPv4 addresses<br/>5x /11    =&gt; 10,485,760 IPv4 addresses<br/>11x /12   =&gt; 11,534,336 IPv4 addresses<br/>13x /13   =&gt; 6,815,744 IPv4 addresses<br/>34x /14   =&gt; 8,912,896 IPv4 addresses<br/>53x /15   =&gt; 6,946,816 IPv4 addresses<br/>182x /16  =&gt; 11,927,552 IPv4 addresses<br/>&lt;and more&gt;</span></pre><p id="19d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">完整的细分可以在这里找到:<a class="ae kc" href="https://gist.github.com/atoonk/b749305012ae5b86bacba9b01160df9f#breakdown-by-ipv4-prefix-size" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/ATO oonk/b 749305012 ae5b 86 BAC ba 9 b 01160 df9 f # break-by-IP v4-prefix-size</a></p><h1 id="1f3b" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">对AWS的IPv4资产进行估值</h1><blockquote class="nf ng nh"><p id="2d37" class="kd ke ni kf b kg kh ki kj kk kl km kn nj kp kq kr nk kt ku kv nl kx ky kz la ij bi translated">没问题的..这只是为了好玩…</p></blockquote><p id="9040" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于AWS是IPv4地址的最大买家之一，他们已经花费了大量资金来积累IPv4资源。作为一个局外人，不可能知道AWS为每笔交易支付了多少钱。然而，为了好玩，我们可以试着给AWS当前的IPv4资产标上一个美元数字。</p><p id="0dc2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些年来，IPv4地址的平均价格一直在上涨。从几年前的10美元一个IP回到现在的25美元一个IP。<br/>请注意，这些是市场价格，因此如果AWS突然决定出售其IPv4地址，并以供应淹没市场，价格将会下降。但这不会发生，因为我们仍然沉迷于IPv4)</p><p id="3866" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">无论如何，让我们坚持25美元，做数学只是为了好玩。</p><pre class="lb lc ld le gt mw mx my mz aw na bi"><span id="228d" class="mk li iq mx b gy nb nc l nd ne">100,750,168 ipv4 addresses x $25 per IP = $2,518,754,200</span></pre><p id="2025" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">仅仅是<strong class="kf ir">价值超过25亿美元的IPv4地址，</strong>还不错！</p><h1 id="7496" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">窥视未来</h1><p id="c7ea" class="pw-post-body-paragraph kd ke iq kf b kg mf ki kj kk mg km kn ko mh kq kr ks mi ku kv kw mj ky kz la ij bi translated">很明显，AWS正在幕后努力工作，以确保我们能够继续在AWS上做更多的工作。我们可以考虑的最后一个问题是:<em class="ni">AWS有多少缓冲？</em> ie。他们的IPv4储备状况如何？</p><p id="0877" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据他们<a class="ae kc" href="https://ip-ranges.amazonaws.com/ip-ranges.json" rel="noopener ugc nofollow" target="_blank">公布的数据</a>，他们已经为现有的AWS服务分配了大约5300万个IPv4地址。我们发现他们所有的IPv4地址加起来相当于大约1亿个IPv4地址。这意味着他们仍有约4700万个IPv4地址，或47%可用于未来分配。那是相当健康的！最重要的是，我相信他们会继续获取更多的IPv4地址。IPv4市场依然火爆！</p></div></div>    
</body>
</html>