<html>
<head>
<title>Tips for Coding with Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Flutter编码的技巧</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/tips-for-coding-with-flutter-57c2a9b63f6e?source=collection_archive---------8-----------------------#2020-10-21">https://levelup.gitconnected.com/tips-for-coding-with-flutter-57c2a9b63f6e?source=collection_archive---------8-----------------------#2020-10-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="fb11" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Flutter是Google创建的开源UI软件开发工具包。它用于从单一代码库为Android、iOS、Linux、Mac、Windows、Google Fuchsia和web开发应用程序。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/8b189a68ac86b71932d139aa34836a3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qNrhsw4VfHx5yTz1MRjBNg.png"/></div></div></figure><h1 id="272e" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">命名约定</h1><p id="0fc4" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">库、包、目录和源文件应该是小写的，单词之间有下划线，如下所示:</p><p id="4b57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">library dart_dynamic_links;<br/>import 'socket/socket_manager.art';</code></p><p id="eca6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">类、枚举、扩展名和类型定义应以大写字母开头，如下所示:</p><p id="cd12" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">class MainSection {...}<br/>enum ItemSelectionTemp {...}<br/>extension MyList&lt;F&gt; on List&lt;F&gt; {...}<br/>typedef Definition&lt;D&gt; = bool function(D value);</code></p><p id="47ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">常量、变量、参数和命名参数应以小写字母开头，其他单词则以大写字母开头，如下例所示:</p><p id="6405" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">const magazinePrice = 4.20;<br/>var itemsOfSchools;<br/>final urlPlacement = RegExp(‘^([a-z]+):');<br/>void magSum(int magazinePrice) {...}</code></p><h1 id="7c8f" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">指定类成员的类型</h1><p id="3731" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">当值已知时，总是指定成员的类型是很重要的。您应该尽可能避免使用var。</p><p id="551e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">int days = 22;<br/>final vehichle car = vehichle();<br/>String name = 'Kevin';<br/>const int timeUntilEnd = 120;</code></p><h1 id="c642" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">用户相对导入</h1><p id="a17f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">为了避免混乱和问题，最好使用相对方法在lib/ folder中导入库。</p><p id="12bd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">不要这样做:</strong></p><p id="48fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">import 'package:demo/src/utilis/firebase_utilis.dart';</code></p><p id="72d5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相反，<strong class="js iu">这样做</strong>:</p><p id="8e17" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">import '../../../utilis/firebase_utilis.dart';</code></p><h1 id="c923" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用？？还有呢？经营者</h1><p id="644f" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">你应该用？？(如果为空)和？。(空值感知)运算符，而不是条件表达式中的空值检查。</p><p id="f213" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">不要</strong>做这些:</p><p id="1ec3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">v = x == null ? y : x;<br/>v = x == null ? null :x.y;</code></p><p id="934f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相反<strong class="js iu">做</strong>这些:</p><p id="d1df" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">v = x ?? y;<br/>v = x?.y;</code></p><h1 id="0b84" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">避免使用“as”运算符</h1><p id="c2b1" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">通常，如果无法进行强制转换，则“as”运算符会引发异常，以避免您使用“is”运算符。</p><p id="070a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">不要这样做:</strong></p><p id="8b4f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">(item as Vehichle).name = 'BMW';</code></p><p id="218f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相反，<strong class="js iu">做</strong>这个:</p><p id="2285" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe md me mf mg b">if (item is Vehichle)<br/>item.name = 'BMW';</code></p><h1 id="d8ee" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用'<code class="fe md me mf mg b">if’</code>'条件代替条件表达式</h1><p id="b948" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">很多时候，我们需要根据行和列中的某些条件来呈现一个小部件。如果<strong class="js iu">条件表达式</strong>在任何情况下都返回null，那么我们应该只使用If条件。</p><p id="cf1f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">不要这样做:</strong></p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="0650" class="ml lb it mg b gy mm mn l mo mp">Widget getText(BuildContext context) {<br/> return Row(<br/> children: [<br/> Text(“Hi”),<br/> Platform.isAndroid ? Text(“MediumAndroidReader”) : null,<br/> Platform.isAndroid ? Text(“MediumAndroidReader”) : SizeBox(),<br/> Platform.isAndroid ? Text(“MediumAndroidReader”) : Container(),<br/> ]<br/> );</span></pre><p id="810b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相反，<strong class="js iu">做</strong>这个:</p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="8301" class="ml lb it mg b gy mm mn l mo mp">Widget getText(BuildContext context) { <br/>return Row(<br/>children: <br/>[<br/>Text(“Hi”), if (Platform.isAndroid) Text(“MediumAndroidReader”) <br/>] <br/>);<br/>}</span></pre><h1 id="c48d" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用级联运算符</h1><p id="75e0" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">如果您不打算在同一个对象上执行一系列操作，那么您应该使用级联(..)运算符。</p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="cb8e" class="ml lb it mg b gy mm mn l mo mp">var street = Street()<br/>..lineTo(0, size.height)<br/>..lineTo(size.width, size.height)<br/>..lineTo(size.width, 0)<br/>..close();</span></pre><h1 id="e799" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用原始字符串</h1><p id="426b" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">你应该使用原始字符串来避免反斜杠和美元符号。</p><p id="2184" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">不要</strong>这样做:</p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="cf8a" class="ml lb it mg b gy mm mn l mo mp">var text = ‘This is a demo string \\ and \$ is not raw’;</span></pre><p id="1d43" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相反，<strong class="js iu">做</strong>这个:</p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="e67b" class="ml lb it mg b gy mm mn l mo mp">var text = r'This is a demo string \\ and \$ is raw';</span></pre><h1 id="e4e7" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用跨页收藏</h1><p id="660c" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">当现有项已经存储在另一个集合中时，使用扩展集合将简化代码。</p><p id="d613" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">不要这样做:</strong></p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="fb6b" class="ml lb it mg b gy mm mn l mo mp">var a= [4,5,6];<br/>var b= [1,2];<br/>a.addAll(b);</span></pre><p id="5db6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相反，<strong class="js iu">做</strong>这个:</p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="ae7b" class="ml lb it mg b gy mm mn l mo mp">var a= [4,5,6];<br/>var b= [1,2,...y];</span></pre><h1 id="527b" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">不要将变量初始化为空</h1><p id="16d8" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">Dart中的变量在其值未定义时会自动初始化为null，因此您不需要这样做。</p><p id="7e5e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">不要这样做:</strong></p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="67d3" class="ml lb it mg b gy mm mn l mo mp">int maxPage = null;</span></pre><p id="4d65" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相反，<strong class="js iu">做</strong>这个:</p><pre class="kp kq kr ks gt mh mg mi mj aw mk bi"><span id="1846" class="ml lb it mg b gy mm mn l mo mp">int maxPage;</span></pre><h1 id="f05b" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">避免“print()”调用</h1><p id="e604" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">当你使用' print()'并且日志输出过长时，有时Android会丢弃一些日志行。要避免这种情况，请始终使用“debugPrint()”。</p><h1 id="421e" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">使用“ListView.builder”获得长列表</h1><p id="1d6d" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">如果您正在处理大型或无限列表，通常建议您使用ListView builder来提高性能。默认的ListView构造函数一次构建整个列表，这可能会很耗时。这就是为什么我们使用ListView.builder创建一个惰性列表，当用户向下滚动时加载，Flutter按需构建小部件。</p><h1 id="e71b" class="la lb it bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结束语</h1><p id="66df" class="pw-post-body-paragraph jq jr it js b jt ly jv jw jx lz jz ka kb ma kd ke kf mb kh ki kj mc kl km kn im bi translated">我希望其中的一些技巧能帮助你写出更简洁的代码，并改进你的应用程序。如果你有任何建议或其他事情要补充，请在下面留下评论。</p></div></div>    
</body>
</html>