<html>
<head>
<title>Job hunting without social media</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">没有社交媒体的求职</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/job-hunting-without-social-media-152ada0639db?source=collection_archive---------7-----------------------#2020-05-23">https://levelup.gitconnected.com/job-hunting-without-social-media-152ada0639db?source=collection_archive---------7-----------------------#2020-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="854c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用python、selenium、smtplib和对脸书的健康厌恶匿名挖掘数据</h2></div><p id="e8b5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">自从我的言论自由教授说服我删除所有社交媒体账户以来，已经过去了将近三年。为我的毕业论文做研究，探索脸书、Twitter和Youtube等公司的历史和实践，我对基于注意力的数字平台对个人和社会的影响产生了持久的偏执感。</p><p id="9252" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我正在慢慢克服对社交媒体的悲观看法，回到那些我可以花时间主要消费他人内容的网站。但我仍然坚决“关闭”一些平台，包括脸书。</p><p id="0358" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以我目前找工作的经验来看，把脸书排除在外会让在线就业市场看起来像瑞士奶酪。</p><p id="2dfd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今年早些时候，我加入了LinkedIn，这是我3月份在波士顿大会上完成的数据科学“训练营”的毕业要求。学校的职业成果计划可能很严格，但该组织声称工作安置率在90%左右，我发现这很有帮助。</p><p id="f429" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">尽管LinkedIn有很多好处，但它对可用的工作列表和潜在的联系提供了一个有限的视角。</p><p id="3b39" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的女朋友是一个社区组织者和熟练的研究员，经常分享找工作的独特资源。但他们中的许多人在脸书以群体的形式存在，所以我被困在就业市场的黑暗中，或者在一个可疑的社交媒体平台上花费不必要的时间。</p><p id="2133" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在她向我展示了一个特别有趣的社区<a class="ae le" href="https://m.facebook.com/groups/685966442236354/?ref=group_header&amp;view=group" rel="noopener ugc nofollow" target="_blank"> Justice Jobs 2.0 </a>之后，我开始着手弥补我的知识缺口。我使用python、一个名为selenium的网络抓取库和一个自动发送电子邮件的脚本，创建了一个工具，从脸书的一个群组中匿名收集帖子数据，删除脸书的链接跟踪系统，并将结果以Excel电子表格的形式通过电子邮件发送给自己。</p><h2 id="ccbf" class="lf lg it bd lh li lj dn lk ll lm dp ln kr lo lp lq kv lr ls lt kz lu lv lw lx bi translated">之前:</h2><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi ly"><img src="../Images/74f4a0f305526b6a35a48fcb3df85497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IsTCF6JwS-XKnKqR4HfDjA.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">从桌面访问“公共”脸书群组页面时看到</figcaption></figure><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi mo"><img src="../Images/fb55945e62e94e9d1caeef251d3bd03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q4KSkmrfts6AVHXEk6Z1Rw.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">挖掘和解析后的最终数据</figcaption></figure></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="d2a2" class="mw lg it bd lh mx my mz lk na nb nc ln jz nd ka lq kc ne kd lt kf nf kg lw ng bi translated">该过程</h1><p id="51ea" class="pw-post-body-paragraph ki kj it kk b kl nh ju kn ko ni jx kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">最初的计划是使用python和Selenium从我女朋友的帐户中收集脸书集团的数据，在她的Z shell上创建一个别名，这样她就可以使用一行代码从自己的计算机上触发脚本。</p><p id="868f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但进一步的修补显示，虽然脸书屏蔽了没有账户的桌面用户，但在手机上却不是这样。撇开脸书在“公共”定义上的不一致不谈，我有一个出发点:在URL的开头添加<code class="fe nn no np nq b">m.</code>。因此，该脚本可以在任何机器上运行，不需要脸书帐户。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="5564" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">运行上面两行代码启动一个Selenium驱动的Web驱动程序，这是一个虚拟浏览器，允许从我选择的python环境Jupyter Notebook与目标页面进行交互。加载了移动版的群组页面后，现在是棘手的部分:解析脸书迷宫般的HTML代码。不是一个漂亮的景象(没有双关语):</p><figure class="lz ma mb mc gt md gh gi paragraph-image"><div role="button" tabindex="0" class="me mf di mg bf mh"><div class="gh gi nt"><img src="../Images/cbe8fd818672fb09102734ea572ff0d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVT79IZyfIer0YZXeHZ64Q.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">脸书集团网页。可解释性:4/10</figcaption></figure><p id="9385" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">尽管代码非常混乱，但我发现脸书手机页面上的元素表现出一些一致性。因此，虽然这不像告诉Selenium用“post”类(它不存在)找到所有元素那么简单，但一点猜测和检查有助于在页面代码中建立元素类型及其相应属性的词汇表。</p><h2 id="f17a" class="lf lg it bd lh li lj dn lk ll lm dp ln kr lo lp lq kv lr ls lt kz lu lv lw lx bi translated">擦</h2><p id="fde8" class="pw-post-body-paragraph ki kj it kk b kl nh ju kn ko ni jx kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">首先，我找到了post容器，并创建了一个可迭代的selenium对象，用下面的代码覆盖了每个帖子。我还创建了一个空列表，在脚本遍历<code class="fe nn no np nq b">articles</code>时存储post数据。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="abcb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我确定了所有帖子中对应于特定元素类型的类，包括消息的内容(<code class="fe nn no np nq b">post_text</code>)和附加链接的缩略图的内容，将这些细节存储在一个名为<code class="fe nn no np nq b">a_data</code>的临时字典中。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="3f3a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">没有<code class="fe nn no np nq b">link_box</code>的帖子通常代表小组讨论或投票——有趣，但不是我的目的所需要的——所以我用<code class="fe nn no np nq b">try</code> / <code class="fe nn no np nq b">except continue</code>块从集合中省略了这些帖子。</p><p id="54f3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">时间戳需要稍微不同的方法，使用Selenium的<code class="fe nn no np nq b">find_element_by_css_selector</code>函数和<code class="fe nn no np nq b">data-sigil</code>属性，但是同样的原理也适用于上面。该脚本还会抓取每个帖子中的第一个外部链接(大概是职位列表):</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="9c94" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">脸书通过在URL的开头和结尾附加组件来操作外部链接，将脸书标识为推荐人并分配一个客户端ID，因此为了最大限度地减少我将来与平台的交互，我使用了以下代码来删除这些元素并返回原始链接。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="aa7b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如<code class="fe nn no np nq b">https://lm.facebook.com/l.php?u=https%3A%2F%2Fgoogle.com&amp;h={<em class="nm">lengthy alphanumeric client ID</em>}</code>变成了→ <code class="fe nn no np nq b">google.com</code></p><p id="78af" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了结束这个循环，我调用了<code class="fe nn no np nq b"><strong class="kk iu">posts</strong>.append(a_data)</code>，为页面上每个帖子的数据建立了一个字典列表。一旦所有的帖子都被删除，调用<code class="fe nn no np nq b">pd.DataFrame(<strong class="kk iu">posts</strong>)</code>将数据投射成电子表格格式。</p><h2 id="8afa" class="lf lg it bd lh li lj dn lk ll lm dp ln kr lo lp lq kv lr ls lt kz lu lv lw lx bi translated">附加解析</h2><p id="7bb1" class="pw-post-body-paragraph ki kj it kk b kl nh ju kn ko ni jx kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">通过进一步解析每个帖子的内容，由于大多数群组帖子的结构一致，我们可以从链接附带的消息中推断出位置和描述。</p><p id="679d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有时脸书上的时间戳会显示“3小时前”或“昨天”，所以我还创建了一个函数来标准化日期。</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="6327" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将别名添加到我的。zshrc文件，包括几个<code class="fe nn no np nq b">print</code>语句，使从终端观察这个过程更有趣，我自己有一个单行命令来运行整个脚本:</p><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h2 id="3b52" class="lf lg it bd lh li lj dn lk ll lm dp ln kr lo lp lq kv lr ls lt kz lu lv lw lx bi translated">将结果发送到我的收件箱</h2><p id="0911" class="pw-post-body-paragraph ki kj it kk b kl nh ju kn ko ni jx kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">考虑到我最初的计划是在别人的电脑上运行这个脚本，我从geeksforgeeks.org的<a class="ae le" href="https://www.geeksforgeeks.org/send-mail-attachment-gmail-account-using-python/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>中借用了代码，自动将结果以电子邮件的形式发送给我自己。刮擦和清洁后的xls附件。</p><h1 id="ae28" class="mw lg it bd lh mx nu mz lk na nv nc ln jz nw ka lq kc nx kd lt kf ny kg lw ng bi translated">演示</h1><figure class="lz ma mb mc gt md"><div class="bz fp l di"><div class="nz ns l"/></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk translated">成功！</figcaption></figure><h2 id="1264" class="lf lg it bd lh li lj dn lk ll lm dp ln kr lo lp lq kv lr ls lt kz lu lv lw lx bi translated">让它成为你自己的</h2><p id="59c7" class="pw-post-body-paragraph ki kj it kk b kl nh ju kn ko ni jx kq kr nj kt ku kv nk kx ky kz nl lb lc ld im bi translated">要创建您自己的脚本实现，请随意从GitHub上的项目报告中借用我的代码:</p><div class="oa ob gp gr oc od"><a href="https://github.com/js-fitz/Facebook-scraper" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">js-菲茨/脸书-刮刀</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">没有脸书，找工作会很难。因此，使用python、selenium和一个自动化的电子邮件脚本，我创建了一个…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">github.com</p></div></div><div class="om l"><div class="on l oo op oq om or mi od"/></div></div></a></div><p id="7be0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">刮的开心！</p></div></div>    
</body>
</html>