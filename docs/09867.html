<html>
<head>
<title>UICollectionView: An error that often occurs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">UICollectionView:经常发生的错误</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/uicollectionview-an-error-that-often-occurs-a494ca70fc4b?source=collection_archive---------3-----------------------#2021-09-25">https://levelup.gitconnected.com/uicollectionview-an-error-that-often-occurs-a494ca70fc4b?source=collection_archive---------3-----------------------#2021-09-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/40c4525ba9d6f5ed693a87601f6f399b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BJmcE7Lsl0_WrQIH"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">妮可·沃尔夫在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="3dbd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嗨，继上一个故事[ <a class="ae kf" href="https://medium.com/@zhuyp/12-tips-to-make-swift-more-concise-4f4ed63f3063" rel="noopener"> <em class="le">让Swift更简洁的12个小技巧</em> </a> ]之后，我又来了。这次我要告诉你我遇到的一个错误。</p><p id="3ea8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我的日常开发中，很少用到<strong class="ki iu"> UICollectionView </strong>。再用的时候经常Google一些如何使用<strong class="ki iu"> UICollectionView </strong>的文章。即便如此，我还是像往常一样遇到一个错误。下面，我详细阐述这个过程。</p><p id="3ba2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">答:我做了以下编码</strong></p><ul class=""><li id="b049" class="lf lg it ki b kj kk kn ko kr lh kv li kz lj ld lk ll lm ln bi translated">初始化集合视图</li><li id="ed1f" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">为CollectionView设置委托和数据源</li><li id="e958" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated">实现数据源的方法</li></ul><p id="a0b9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">特别是有这样一个代码:</em></p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="3140" class="mc md it ly b gy me mf l mg mh">let layout = UICollectionViewLayout()<br/>let collectionView = UICollectionView(frame: .zero, collectionViewLayout: layout)</span></pre><p id="7cdd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> B .观察到的现象</strong></p><p id="f0c0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下方法可以正常回调:</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="bbcb" class="mc md it ly b gy me mf l mg mh">func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int</span></pre><p id="6b36" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以下方法无法正常回调:</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="0b1a" class="mc md it ly b gy me mf l mg mh">func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell</span></pre><p id="4b4b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> C .原因:</strong></p><p id="7081" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我错误地使用<strong class="ki iu"> UICollectionViewLayout </strong>来实例化，我应该使用它的子类，比如:<strong class="ki iu">UICollectionViewFlowLayout</strong></p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="78ff" class="mc md it ly b gy me mf l mg mh">let layout = UICollectionViewFlowLayout()<br/>let collectionView = UICollectionView(frame: .zero, collectionViewLayout: layout)</span></pre><p id="f2fa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个错误虽然简单，但是浪费了我太多的时间去思考到底哪里错了。</p><p id="fb4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">希望各位开发者能够避免。</p><h1 id="d17d" class="mi md it bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">如果你喜欢，请跟我来。让我们在接下来的帖子中见面。</h1><p id="d468" class="pw-post-body-paragraph kg kh it ki b kj nf kl km kn ng kp kq kr nh kt ku kv ni kx ky kz nj lb lc ld im bi translated">你可能也会感兴趣:</p><ul class=""><li id="7283" class="lf lg it ki b kj kk kn ko kr lh kv li kz lj ld lk ll lm ln bi translated"><a class="ae kf" href="https://medium.com/@zhuyp/ios-or-ios-7c7d23905c35" rel="noopener"> <em class="le"> IOS还是IOS？</em>T29】</a></li><li id="e5f7" class="lf lg it ki b kj lo kn lp kr lq kv lr kz ls ld lk ll lm ln bi translated"><a class="ae kf" href="https://medium.com/@zhuyp/12-tips-to-make-swift-more-concise-4f4ed63f3063" rel="noopener"> <em class="le">让Swift更简洁的12个技巧</em> </a></li></ul><blockquote class="nk nl nm"><p id="9cf7" class="kg kh le ki b kj kk kl km kn ko kp kq nn ks kt ku no kw kx ky np la lb lc ld im bi translated"><strong class="ki iu"> <em class="it">关于我:</em> </strong> <em class="it"> <br/>我是一名iOS的开发者，曾经为XAG工作。现在我想在medium上分享故事，总结自己的经验来帮助别人。如果你有任何问题，请给我反馈，我会积极给你我的答复。目前，我的期望是获得100个关注者。需要你的善意支持，谢谢。</em></p></blockquote></div></div>    
</body>
</html>