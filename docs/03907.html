<html>
<head>
<title>How To List Slack Users With Node</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何列出有节点的时差用户</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-list-slack-users-with-node-7121a55efde8?source=collection_archive---------20-----------------------#2020-06-01">https://levelup.gitconnected.com/how-to-list-slack-users-with-node-7121a55efde8?source=collection_archive---------20-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/7207c3f834d1119811bad1e06d7fd335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yhyF9cPQ_rDnTaTYn1zbAQ.png"/></div></div></figure><div class=""/><div class=""><h2 id="e220" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">这篇文章假设你已经安装了一个Slack应用程序，并且掌握了Slack和Node的工作知识。</h2></div><p id="633f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这里的目标是能够列出特定Slack工作空间的所有用户。这将提供对每个用户的id和其他有用信息的访问。</p><p id="5dbc" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">在<a class="ae lp" href="https://slack.com" rel="noopener ugc nofollow" target="_blank"> Slack </a>上打开你的应用。在页面左侧找到<em class="lq">功能</em>=&gt;T5】OAuth&amp;权限。</p><p id="4e3f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">在范围下，启用<strong class="kv jf">用户:读取</strong>。</p><figure class="ls lt lu lv gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lr"><img src="../Images/8f7be8541d519c14dec2deea7aaeaa8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tNeSazaGc0TICRqD04XjLw.png"/></div></div></figure><p id="d2e0" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">保存，然后滚动到页面顶部。按下<em class="lq">重新安装App </em>。重新安装应用程序后，复制您的<strong class="kv jf"> OAuth令牌</strong>。</p><figure class="ls lt lu lv gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lw"><img src="../Images/676b53e889d75b1ecd844513acaac39a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uK199-nD4QgMPdLFh2RgFQ.png"/></div></div></figure><p id="9e25" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">最后，我们需要<strong class="kv jf">客户端签名密码</strong>，它可以在您的应用程序基本信息页面上找到。</p><figure class="ls lt lu lv gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lx"><img src="../Images/ebf57507f7a3fd33b38f631ad75b7e31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KHptMN8kyLRJTknMTIIJew.png"/></div></div></figure><p id="ab2e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">将这段代码插入到您选择的编辑器中，点击run，将会列出与附加到<code class="fe ly lz ma mb b">OAUTH TOKEN</code>的工作空间相关联的用户。</p><pre class="ls lt lu lv gt mc mb md me aw mf bi"><span id="9528" class="mg mh je mb b gy mi mj l mk ml">const { App } = require('<strong class="mb jf">@slack/bolt</strong>')<em class="lq"><br/></em><br/>const app = new App({<br/>  token: <strong class="mb jf"><em class="lq">OAUTH TOKEN</em></strong>,<br/>  signingSecret: <strong class="mb jf"><em class="lq">CLIENT SIGNING SECRET</em></strong><br/>});<br/><br/>(async () =&gt; {<em class="lq"><br/></em>  const result = await <strong class="mb jf">app.client.users.list</strong>({<br/><em class="lq">    </em>token: <strong class="mb jf"><em class="lq">OAUTH TOKEN</em></strong><br/>  });<br/>  console.log(result)<br/>})();</span></pre><p id="ee5e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">只要您拥有与工作区相关联的用户，结果将如下所示:</p><pre class="ls lt lu lv gt mc mb md me aw mf bi"><span id="951f" class="mg mh je mb b gy mi mj l mk ml">{<br/>  ok: true,<br/>  members: [<br/>    {<br/>      id: '0928309LSKJFL',<br/>      team_id: 'LKSJDFL8769878',<br/>      name: 'phil',<br/>      deleted: false,<br/>      color: '9f69e7',<br/>      real_name: 'sam',<br/>      tz: 'America/Indiana/Indianapolis',<br/>      tz_label: 'Eastern Daylight Time',<br/>      tz_offset: -14400,<br/>      profile: [Object],<br/>      is_admin: true,<br/>      is_owner: true,<br/>      is_primary_owner: true,<br/>      is_restricted: false,<br/>      is_ultra_restricted: false,<br/>      is_bot: false,<br/>      is_app_user: false,<br/>      updated: 1504338871<br/>    }<br/>  ],<br/>  cache_ts: 1590876212,<br/>  response_metadata: {<br/>    next_cursor: '',<br/>    scopes: [<br/>      'incoming-webhook',<br/>      'chat:write',<br/>      'files:write',<br/>      'im:write',<br/>      'im:read',<br/>      'files:read',<br/>      'users:read'<br/>    ],<br/>    acceptedScopes: [ 'users:read' ]<br/>  }<br/>}</span></pre><p id="08b5" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">完全松弛文档:<a class="ae lp" href="https://api.slack.com/methods/users.list" rel="noopener ugc nofollow" target="_blank">列出用户</a></p></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><h1 id="9848" class="mt mh je bd mu mv mw mx my mz na nb nc kk nd kl ne kn nf ko ng kq nh kr ni nj bi translated">开发无服务器时，希望恢复您的控制台日志吗？签出树枝…</h1><figure class="ls lt lu lv gt iv gh gi paragraph-image"><a href="https://www.twig.im/"><div class="gh gi nk"><img src="../Images/36a4b9f9e789e19a238bbaa9a45b7975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zOVO7JmICUotRiX95LCOKA.jpeg"/></div></a></figure></div></div>    
</body>
</html>