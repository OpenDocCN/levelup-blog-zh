<html>
<head>
<title>Testing Beyond Infinity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">超越无限的测试</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/testing-beyond-infinity-86f320e04cac?source=collection_archive---------13-----------------------#2021-01-29">https://levelup.gitconnected.com/testing-beyond-infinity-86f320e04cac?source=collection_archive---------13-----------------------#2021-01-29</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><h1 id="ea3e" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">等等……什么？</h1><p id="bd0c" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">你生活在这样一个世界里:</p><ul class=""><li id="2b6f" class="ln lo iu kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">您需要关闭每夜构建中的回归测试，因为它永远不会完成</li><li id="ce72" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">您签入一段代码，在将它部署到生产环境之前，需要花费几天甚至几周的时间来进行测试</li></ul><p id="cb5f" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated">本文将讨论一种方法，它可以帮助客户更快更便宜地运行集成和回归测试，以改进CI/CD过程。</p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div class="gi gj mg"><img src="../Images/a18e6dd774c641bc8343c80ebaaae2cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*1pIN0NoprM_ko8KHnUkZnw.jpeg"/></div><figcaption class="mo mp gk gi gj mq mr bd b be z dk translated">文章兴趣</figcaption></figure><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ms"><img src="../Images/9bc2ac450fdb575e18f103973eff37a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2_OfCKn6CfQkQ5PBUVwYg.png"/></div></div></figure><h1 id="2271" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">典型的发布周期</h1><p id="a889" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">让我们考虑一个场景，其中开发人员添加了一个新特性，或者对现有产品进行了bug修复，并签入了更改。作为<a class="ae mx" href="https://medium.com/javarevisited/7-best-courses-to-learn-jenkins-and-ci-cd-for-devops-engineers-and-software-developers-df2de8fe38f3?source=---------15------------------" rel="noopener"> CI/CD管道</a>的一部分，新代码被构建，单元测试用例被运行并部署在QA或阶段环境中。一旦部署成功，QA团队将运行集成和回归测试用例来验证构建。在一个典型的案例中，测试用例的数量可能在数百到数千之间变化，所以执行这些测试用例将花费时间，最终减慢特性在生产中部署的阶段。加速这个测试用例执行的传统方法如下:</p><ul class=""><li id="961a" class="ln lo iu kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">向QA团队添加更多的资源，这样他们就可以从多台机器上并行地开始执行这些测试用例，监控它们，并收集结果</li><li id="395d" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">添加更多的物理机或虚拟机，这样我们就有足够的浏览器代理来运行这些测试，而不是依赖本地机器</li></ul><p id="7af3" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated">这种方法不可扩展，既费时又费钱。这里解释的方法集中在这个特定的问题上，并介绍了我们如何在不花费大量金钱和时间的情况下更快地运行这些测试用例。</p><blockquote class="my mz na"><p id="b5b6" class="kp kq nb kr b ks lp ku kv kw lq ky kz nc md lc ld nd me lg lh ne mf lk ll lm in bi translated"><em class="iu">注意:这里强调的方法只适用于使用selenium框架执行的测试用例</em></p></blockquote><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ms"><img src="../Images/9bc2ac450fdb575e18f103973eff37a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2_OfCKn6CfQkQ5PBUVwYg.png"/></div></div></figure><h1 id="a3e9" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">体系结构</h1><p id="45aa" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">这是所有组件的高级视图</p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><a href="https://javarevisited.blogspot.com/2018/09/top-5-jenkins-courses-for-java-and-DevOps-Programmers.html#axzz6cRYpiwdu"><div class="gi gj nf"><img src="../Images/ecffd339ce9e44873ecd39679d7f8d18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EQSQTKHVVNSUFkzbTgHAQw.png"/></div></a><figcaption class="mo mp gk gi gj mq mr bd b be z dk translated">整体架构</figcaption></figure><h1 id="5f9c" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">笔记</h1><ul class=""><li id="15a7" class="ln lo iu kr b ks kt kw kx la ng le nh li ni lm lu lv lw lx bi translated"><code class="fe nj nk nl nm b">Selenium Hub</code>用于在浏览器代理之间并行化和分配负载，以执行测试用例。</li><li id="ec06" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">整个基础架构部署在ECS群集中，默认容量提供商采用以下策略:</li><li id="5f7d" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">FARGATE -&gt;基础:4，重量:1</li><li id="b29d" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">FARGATE_SPOT -&gt;权重:4</li></ul><blockquote class="my mz na"><p id="b4d4" class="kp kq nb kr b ks lp ku kv kw lq ky kz nc md lc ld nd me lg lh ne mf lk ll lm in bi translated"><em class="iu">注意:在5个实例中，其中4个将被配置为SPOT，其中一个将被配置为ON_DEMAND </em></p></blockquote><ul class=""><li id="ec1f" class="ln lo iu kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated"><code class="fe nj nk nl nm b">Selenium Hub</code>、<code class="fe nj nk nl nm b"> "Chrome Node (selenium docker image with headless chrome)</code>和<code class="fe nj nk nl nm b">Firefox Node (selenium docker image with headless firefox)</code>被部署为ECS服务</li><li id="5708" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">所有ECS服务都启用了自动扩展，并具有以下扩展和横向扩展策略:</li><li id="5f86" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">如果<code class="fe nj nk nl nm b">max(CPUUtilization) &gt;= 70</code>在最后1分钟内，则添加一个实例</li><li id="2a86" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">如果<code class="fe nj nk nl nm b">max(CPUUtilization) &lt;= 30</code>在最后1分钟内，则删除一个实例</li><li id="2371" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><code class="fe nj nk nl nm b">Selenium Hub</code>由一个“应用负载平衡器”提供支持，web驱动客户端连接到该平衡器来运行CloudWatch日志启用的测试——可观察性。</li></ul><p id="1721" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated">该库中可用的代码被公开为CDK构造，要了解更多关于CDK构造的信息，请点击<a class="ae mx" href="https://docs.aws.amazon.com/cdk/latest/guide/constructs.html" rel="noopener ugc nofollow" target="_blank">此处</a></p><h1 id="219f" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">利益</h1><p id="7fab" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">以下是使用这种方法的一些主要好处:</p><ul class=""><li id="2572" class="ln lo iu kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">根据并发执行的数量，<code class="fe nj nk nl nm b">ChromeNode</code> &amp; <code class="fe nj nk nl nm b">FirefoxNode</code>将自动伸缩(因为它会影响CPU利用率指标)，因此客户只需为他们使用的持续时间付费(没有固定成本)</li><li id="b0df" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">客户可以根据业务需求部署不同的浏览器或同一浏览器的不同版本，而无需考虑基础架构或成本</li><li id="887c" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">基于容量提供商策略，大多数实例被配置为<code class="fe nj nk nl nm b">FARGATE_SPOT,</code>，这花费更少的钱，因此为了促进更快的执行，用更多的节点更快地扩展</li><li id="ac27" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated">使用这种方法，客户现在可以运行他们每夜构建中的回归和集成测试用例，这将使每日发布周期能够支持不断增长的业务需求。</li></ul><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ms"><img src="../Images/9bc2ac450fdb575e18f103973eff37a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2_OfCKn6CfQkQ5PBUVwYg.png"/></div></div></figure><h1 id="126e" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">测试用例执行</h1><p id="2839" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">下面是当我们使用这个架构执行一个测试用例时发生的一系列事件</p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj nn"><img src="../Images/6e1b38037773f8c3f8342f94062df40a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MWs3Kt7cnvrKdsm8B0L68A.png"/></div></div><figcaption class="mo mp gk gi gj mq mr bd b be z dk translated">程序表</figcaption></figure><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ms"><img src="../Images/9bc2ac450fdb575e18f103973eff37a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2_OfCKn6CfQkQ5PBUVwYg.png"/></div></div></figure><h1 id="023a" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">构建和部署</h1><h1 id="4fde" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">先决条件</h1><ul class=""><li id="3398" class="ln lo iu kr b ks kt kw kx la ng le nh li ni lm lu lv lw lx bi translated">AWS CDK应该安装在本地笔记本电脑上。你可以在这里阅读更多信息<a class="ae mx" href="https://docs.aws.amazon.com/cdk/latest/guide/getting_started.html" rel="noopener ugc nofollow" target="_blank"/></li><li id="0dd1" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><code class="fe nj nk nl nm b">Yarn</code>需要安装，您可以通过运行该命令来检查安装状态</li></ul><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="9174" class="ns js iu nm b gz nt nu l nv nw">yarn version</span></pre><p id="52e0" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated"><strong class="kr iv">输出</strong> 1.22.10</p><ul class=""><li id="68e2" class="ln lo iu kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">如果没有安装<code class="fe nj nk nl nm b">Yarn</code>,运行以下命令</li></ul><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="bd96" class="ns js iu nm b gz nt nu l nv nw">npm install -g yarn</span></pre><ul class=""><li id="6033" class="ln lo iu kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">AWS帐户和控制台访问</li></ul><h1 id="6da3" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">部署</h1><ul class=""><li id="d0d7" class="ln lo iu kr b ks kt kw kx la ng le nh li ni lm lu lv lw lx bi translated">使用以下命令从该库中签出代码:</li></ul><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="d4ea" class="ns js iu nm b gz nt nu l nv nw">mkdir scaling-test-execution &amp;&amp; cd scaling-test-execution<br/>git clone <a class="ae mx" href="https://github.com/hariohmprasath/scaled-test-execution.git" rel="noopener ugc nofollow" target="_blank">https://github.com/hariohmprasath/scaled-test-execution.git</a> .</span></pre><ul class=""><li id="125c" class="ln lo iu kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">由于代码是作为CDK构造创建的，因此以下参数可以作为部署的一部分进行定制</li></ul><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj nx"><img src="../Images/6028e001dde26f343fcf796df306a8fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jhIUO5i2JjoDiUqwvlbajg.png"/></div></div></figure><ul class=""><li id="ec84" class="ln lo iu kr b ks lp kw lq la lr le ls li lt lm lu lv lw lx bi translated">运行以下命令启动部署</li></ul><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="e066" class="ns js iu nm b gz nt nu l nv nw">cdk deploy --require-approval never</span></pre><blockquote class="my mz na"><p id="bbb0" class="kp kq nb kr b ks lp ku kv kw lq ky kz nc md lc ld nd me lg lh ne mf lk ll lm in bi translated"><em class="iu">一旦部署成功，您应该会在CfnOutput中看到“Selenium-Hub-DNS”。</em></p></blockquote><p id="3afc" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated">完整的selenium hub负载平衡器URL将如下所示。</p><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="f667" class="ns js iu nm b gz nt nu l nv nw">http://&lt;&lt;Selenium-Hub-DNS&gt;&gt;:4444/wb/hub</span></pre><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ms"><img src="../Images/9bc2ac450fdb575e18f103973eff37a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2_OfCKn6CfQkQ5PBUVwYg.png"/></div></div></figure><h1 id="4fd6" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">测试</h1><h2 id="a3e0" class="ns js iu bd jt ny nz dn jx oa ob dp kb la oc od kf le oe of kj li og oh kn oi bi translated">单元测试</h2><p id="a659" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">可以通过从根目录运行以下命令来执行单元测试用例</p><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="22c8" class="ns js iu nm b gz nt nu l nv nw">yarn test</span></pre><p id="2cd5" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated"><strong class="kr iv">输出</strong></p><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="d253" class="ns js iu nm b gz nt nu l nv nw">$ npx projen test<br/>🤖 test | rm -fr lib/<br/>🤖 test » test:compile | tsc --noEmit --project tsconfig.jest.json<br/>🤖 test | jest --passWithNoTests --all --updateSnapshot<br/>PASS  test/hello.test.ts<br/>✓ create app (730 ms)</span><span id="3dae" class="ns js iu nm b gz oj nu l nv nw">----------|---------|----------|---------|---------|-------------------<br/>File      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s<br/>----------|---------|----------|---------|---------|-------------------<br/>All files |     100 |       72 |     100 |     100 |<br/> index.ts |     100 |       72 |     100 |     100 | 61-70<br/>----------|---------|----------|---------|---------|-------------------<br/>Test Suites: 1 passed, 1 total<br/>Tests:       1 passed, 1 total<br/>Snapshots:   0 total<br/>Time:        5.163 s<br/>Ran all test suites.<br/>🤖 test » eslint | eslint --ext .ts,.tsx --fix --no-error-on-unmatched-pattern src test build-tools .projenrc.js<br/>✨  Done in 17.45s.</span></pre><h2 id="20d4" class="ns js iu bd jt ny nz dn jx oa ob dp kb la oc od kf le oe of kj li og oh kn oi bi translated">集成测试(使用web驱动程序)</h2><p id="da83" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">您可以在<code class="fe nj nk nl nm b">sample-test-function</code>文件夹下找到一个示例测试用例，您可以运行以下命令来构建和执行针对selenium hub负载平衡器URL的测试</p><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="a4c6" class="ns js iu nm b gz nt nu l nv nw">cd sample-test-function &amp;&amp; npm install<br/>npx wdio --hostname &lt;&lt;Selenium-Hub-DNS&gt;&gt;</span></pre><p id="2a3e" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated"><strong class="kr iv">输出</strong></p><p id="c70c" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated">所有的测试用例都应该成功通过，下面是它的样子</p><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="3c58" class="ns js iu nm b gz nt nu l nv nw">[chrome 87.0.4280.88 linux #0-0] Running: chrome (v87.0.4280.88) on linux<br/>[chrome 87.0.4280.88 linux #0-0] Session ID: 80329f4643463a93a4628a35de4aaab4<br/>[chrome 87.0.4280.88 linux #0-0]<br/>[chrome 87.0.4280.88 linux #0-0] Play with google<br/>[chrome 87.0.4280.88 linux #0-0]    ✓ navigate to the site<br/>[chrome 87.0.4280.88 linux #0-0]    ✓ start a search<br/>[chrome 87.0.4280.88 linux #0-0]<br/>[chrome 87.0.4280.88 linux #0-0] 2 passing (8.2s)</span><span id="9c9e" class="ns js iu nm b gz oj nu l nv nw">Spec Files:	 1 passed, 1 total (100% completed) in 00:00:10</span></pre><h2 id="197b" class="ns js iu bd jt ny nz dn jx oa ob dp kb la oc od kf le oe of kj li og oh kn oi bi translated">负载测试(使用webdriver)</h2><h2 id="0088" class="ns js iu bd jt ny nz dn jx oa ob dp kb la oc od kf le oe of kj li og oh kn oi bi translated">按比例增加</h2><p id="9e3c" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">为了模拟负载测试，我们并行运行了上面提到的测试用例(接近10个并发会话)，这使得<code class="fe nj nk nl nm b">CPUUtilization</code>超过70%，导致自动伸缩。</p><p id="c030" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated">下面是使用Container Insights和AWS ECS控制台捕获的几个屏幕截图</p><h2 id="6b96" class="ns js iu bd jt ny nz dn jx oa ob dp kb la oc od kf le oe of kj li og oh kn oi bi translated">AWS ECS控制台</h2><p id="62f6" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated"><strong class="kr iv"> ECS任务</strong></p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ok"><img src="../Images/9ff0b2ddf0661f9de92ce98af4e43d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ozOQw47O_E_1ldM2XI2dw.png"/></div></div></figure><p id="39df" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated"><strong class="kr iv"> ECS服务</strong></p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ol"><img src="../Images/4e2d2dbbccd34de53b22a29d40803520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e2fUKQNCnZnTMB5VMVbmqw.png"/></div></div></figure><h2 id="56d2" class="ns js iu bd jt ny nz dn jx oa ob dp kb la oc od kf le oe of kj li og oh kn oi bi translated">使用容器洞察力的图表</h2><p id="8062" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated"><strong class="kr iv"> ECS集群</strong></p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj om"><img src="../Images/aa1ce26d7bc48cd5e2794fdbe39fe754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gndnBVuAHOmhSXL4mHTQQQ.png"/></div></div></figure><p id="7c48" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated"><strong class="kr iv"> ECS任务</strong></p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj on"><img src="../Images/b76c091aa39b93bb0d00d07094e2d607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dshZTJMuAYL5QqUeDuY6cA.png"/></div></div></figure><p id="0622" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated"><strong class="kr iv">地图视图</strong></p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj oo"><img src="../Images/a5151f6762eb721ecf6911adb359fb67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hh_ZFvNebt9fRuutcMILFg.png"/></div></div></figure><h2 id="d0ac" class="ns js iu bd jt ny nz dn jx oa ob dp kb la oc od kf le oe of kj li og oh kn oi bi translated">按比例减少</h2><p id="1efe" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">成功执行测试用例后，当<code class="fe nj nk nl nm b">CPUUtilization</code>下降到30%以下，冷却时间间隔为180秒时，集群将自动缩小</p><p id="1ff0" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated">这是缩减到所需容量后，仅使用一个实例运行的ECS服务的预览</p><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj op"><img src="../Images/5be88c84d56b79cdefe03d4eaf330b63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nd4et51VlyXoSDeIwPskSQ.png"/></div></div></figure><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ms"><img src="../Images/9bc2ac450fdb575e18f103973eff37a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2_OfCKn6CfQkQ5PBUVwYg.png"/></div></div></figure><h1 id="36aa" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">清除</h1><p id="773a" class="pw-post-body-paragraph kp kq iu kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm in bi translated">从根目录运行以下命令删除堆栈</p><pre class="mh mi mj mk gu no nm np nq aw nr bi"><span id="3824" class="ns js iu nm b gz nt nu l nv nw">cdk destroy</span></pre><figure class="mh mi mj mk gu ml gi gj paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gi gj ms"><img src="../Images/9bc2ac450fdb575e18f103973eff37a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W2_OfCKn6CfQkQ5PBUVwYg.png"/></div></div></figure><h1 id="9dee" class="jr js iu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">资源</h1><ul class=""><li id="4cb6" class="ln lo iu kr b ks kt kw kx la ng le nh li ni lm lu lv lw lx bi translated"><a class="ae mx" href="https://medium.com/@amartanwar93/selenium-grid-using-docker-ab66f15c657b" rel="noopener">硒栅使用Docker </a></li><li id="8bc6" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><a class="ae mx" href="https://github.com/SeleniumHQ/docker-selenium" rel="noopener ugc nofollow" target="_blank"> Docker硒</a></li><li id="c338" class="ln lo iu kr b ks ly kw lz la ma le mb li mc lm lu lv lw lx bi translated"><a class="ae mx" href="https://code.mendhak.com/selenium-grid-ecs/" rel="noopener ugc nofollow" target="_blank">在Fargate中运行硒</a></li></ul><p id="bf27" class="pw-post-body-paragraph kp kq iu kr b ks lp ku kv kw lq ky kz la md lc ld le me lg lh li mf lk ll lm in bi translated">如果你喜欢这篇文章，并认为它很有帮助，请鼓掌👏或者在文章里留言评论。呆在家里，保持安全😷</p></div></div>    
</body>
</html>