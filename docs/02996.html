<html>
<head>
<title>Enhance Your React Developer Experience with Visual Studio Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Visual Studio代码增强React开发人员的体验</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/enhance-your-react-developer-experience-with-visual-studio-code-43ce139a724?source=collection_archive---------12-----------------------#2020-04-14">https://levelup.gitconnected.com/enhance-your-react-developer-experience-with-visual-studio-code-43ce139a724?source=collection_archive---------12-----------------------#2020-04-14</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="012b" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">享受更好的林挺、测试和调试</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/bf2dd8a812ec400ef3d74d279f7d9c0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YY3od9l9m-rHhYt-"/></div></div><figcaption class="kv kw gk gi gj kx ky bd b be z dk translated">诺亚·西利曼在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="27b2" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">介绍</h1><p id="3355" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">我在这里向您展示如何破解Visual Studio代码，并让您的React开发者体验一路达到最棒的<em class="mo"/>。</p><p id="1b81" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated"><strong class="lu iv">剧透预警！</strong>通过回顾<a class="ae kz" href="https://github.com/bacongravy/create-react-app-vscode-dx/commit/53bd9bf6c548156db7efed37f0eafc6c092b9a80" rel="noopener ugc nofollow" target="_blank">这个提交</a>，你可以看到本教程中所做的修改。</p><h2 id="250f" class="mu lb iu bd lc mv mw dn lg mx my dp lk mb mz na lm mf nb nc lo mj nd ne lq nf bi translated">Visual Studio代码</h2><p id="acc2" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">我喜欢Visual Studio代码编辑器。它对JavaScript和TypeScript有很好的支持。从表面上看，它可能看起来像一个简单的文本编辑器，但是通过正确的扩展和配置，它的功能可以与专业ide相媲美:智能代码完成、连续林挺、连续样式化、连续测试和交互式调试。</p><h2 id="8066" class="mu lb iu bd lc mv mw dn lg mx my dp lk mb mz na lm mf nb nc lo mj nd ne lq nf bi translated">反应</h2><p id="dc9e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">React库是构建前端web应用程序的一种流行而有趣的方式。<a class="ae kz" href="https://create-react-app.dev" rel="noopener ugc nofollow" target="_blank"> Create React App </a>项目是快速上手React的一个神奇方式。Create React App生成的项目包括现代林挺、编译、捆绑和测试，所有这些都已配置就绪，但具有以命令行为中心的开发人员体验。我将向您展示如何在Visual Studio代码中释放项目的潜力。</p><h2 id="a37e" class="mu lb iu bd lc mv mw dn lg mx my dp lk mb mz na lm mf nb nc lo mj nd ne lq nf bi translated">入门指南</h2><p id="5518" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">您可以将以下技术应用于Create React App生成的现有项目，但如果您想在阅读时有一种简单的方法，您可以生成一个新的项目。</p><p id="1b59" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated"><strong class="lu iv">用随机生成的名字新建一个项目，进入项目目录</strong>:</p><pre class="kk kl km kn gu ng nh ni nj aw nk bi"><span id="35de" class="mu lb iu nh b gz nl nm l nn no">PROJECT=$(npx project-name-generator -o dashed)<br/>npx create-react-app $PROJECT<br/>cd $PROJECT</span></pre><p id="1ac1" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated"><strong class="lu iv">亲提示！</strong>这些技术中的许多可能适用于React项目<em class="mo">而不是由Create React App生成的</em>。</p><h1 id="3baa" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">智能代码完成</h1><p id="721e" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Visual Studio代码包括一个称为IntelliSense的智能代码完成功能。如果你在你的项目中使用TypeScript，那么你已经达到了最棒的水平。恭喜你！如果您在项目中使用JavaScript，那么您仍然可以通过在所有JavaScript文件中启用类型脚本检查来进入下一个级别，如Visual Studio代码文档中关于<a class="ae kz" href="https://code.visualstudio.com/docs/nodejs/working-with-javascript#_type-checking-javascript" rel="noopener ugc nofollow" target="_blank">类型检查JavaScript </a>的描述。但是您不需要阅读文档，因为我将向您展示如何操作！</p><p id="4553" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated"><strong class="lu iv">如果需要，在您的工作区中创建一个</strong> <code class="fe np nq nr nh b"><strong class="lu iv">.vscode</strong></code> <strong class="lu iv">目录，然后在该目录中创建或更新一个</strong> <code class="fe np nq nr nh b"><strong class="lu iv">settings.json</strong></code> <strong class="lu iv">文件，内容如下:</strong></p><pre class="kk kl km kn gu ng nh ni nj aw nk bi"><span id="0d6f" class="mu lb iu nh b gz nl nm l nn no">{<br/>  "javascript.implicitProjectConfig.checkJs": true<br/>}</span></pre><p id="9804" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated"><strong class="lu iv">亲提示</strong>！如果您的项目中已经有一个<code class="fe np nq nr nh b">jsconfig.json</code>文件或一个<code class="fe np nq nr nh b">tsconfig.json</code>文件，那么您应该在那里设置<code class="fe np nq nr nh b">"checkJs": true</code>。</p><p id="7993" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">除了增强智能感知之外，<code class="fe np nq nr nh b">checkJs</code>设置还为JavaScript文件启用了TypeScript linter。如果您在使用Create React App生成项目时没有指定TypeScript模板，那么在启用此功能后，您可能会注意到Visual Studio代码抱怨在您的测试中使用了全局变量。这是因为我们还没有为Jest安装TypeScript类型，TypeScript语言服务不知道这些全局变量是允许的。TypeScript模板中还缺少其他类型。</p><p id="d394" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">为Jest和其他依赖项安装缺少的类型脚本类型:</p><pre class="kk kl km kn gu ng nh ni nj aw nk bi"><span id="449a" class="mu lb iu nh b gz nl nm l nn no">npm install @types/jest @types/node @types/react @types/react-dom</span></pre><p id="9de0" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated"><strong class="lu iv">注意！</strong>直到<a class="ae kz" href="https://github.com/facebook/create-react-app/pull/8406" rel="noopener ugc nofollow" target="_blank">这个pull请求</a>被合并并释放，Create React App模板安装的版本<code class="fe np nq nr nh b">@testing-library/jest-dom</code>在Visual Studio代码期望找到的位置不包含TypeScript类型信息。如果在您阅读本教程时Create React App模板尚未更新，或者您正在使用一个较旧的项目，则您必须自己升级该包，以使类型信息可用于Visual Studio代码。<strong class="lu iv">升级至</strong>的最新版本<code class="fe np nq nr nh b"><strong class="lu iv">@testing-library/jest-dom</strong></code>:</p><pre class="kk kl km kn gu ng nh ni nj aw nk bi"><span id="8f46" class="mu lb iu nh b gz nl nm l nn no">npm install @testing-library/jest-dom@latest</span></pre><h1 id="3eb7" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">连续林挺</h1><p id="1046" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">使用Create React App创建的项目具有<a class="ae kz" href="https://github.com/facebook/create-react-app/tree/master/packages/eslint-config-react-app" rel="noopener ugc nofollow" target="_blank">内置的林挺规则</a>，当您运行开发服务器或构建项目时会自动检查这些规则。通过在Visual Studio代码中启用连续林挺，您可以将开发提升到下一个级别。连续林挺让您在键入时看到应用于代码的林挺规则。要启用此功能，您需要为Visual Studio代码安装<a class="ae kz" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" rel="noopener ugc nofollow" target="_blank"> ESLint </a>扩展。</p><p id="686e" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">如果你想让你的林挺达到最棒的状态，我建议你也启用保存时修复行为，每次你保存时，每个可修复的林挺问题都会自动修复。<strong class="lu iv">用以下内容创建或更新</strong><code class="fe np nq nr nh b"><strong class="lu iv">.vscode/settings.json</strong></code><strong class="lu iv">:</strong></p><pre class="kk kl km kn gu ng nh ni nj aw nk bi"><span id="08b6" class="mu lb iu nh b gz nl nm l nn no">{<br/>  "editor.codeActionsOnSave": { "source.fixAll.eslint": true }<br/>}</span></pre><h1 id="238b" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">连续造型</h1><p id="f5b2" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Create React App提供的ESLint的<code class="fe np nq nr nh b">react-app</code>配置相对来说是不独立的。有许多可能的ESLint规则它并没有表明立场，尤其是那些风格上的规则。虽然您可以尝试在您的配置中启用单独的ESLint规则来强制实施特定的样式，但是将您的代码格式化提升到下一个级别的更简单的方法是使用<a class="ae kz" href="https://prettier.io" rel="noopener ugc nofollow" target="_blank">appellister</a>，这是一个固执己见的代码格式化程序。</p><p id="8804" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">更漂亮的不仅仅是配置规则，它还扩展了ESLint的功能。更漂亮地删除所有原始样式，并确保所有输出的代码符合一致的风格。它获取你的代码并从头开始重新打印，同时考虑到代码行的长度。为了将pretty与我们项目的ESLint配置集成，以使样式违规显示为林挺错误，首先<strong class="lu iv">安装pretty并集成</strong>:</p><pre class="kk kl km kn gu ng nh ni nj aw nk bi"><span id="1388" class="mu lb iu nh b gz nl nm l nn no">npm install -D prettier<br/>npm install -D eslint-config-prettier<br/>npm install -D eslint-plugin-prettier</span></pre><p id="9f0b" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">然后<strong class="lu iv">用以下内容</strong>创建一个 <code class="fe np nq nr nh b"><strong class="lu iv">.prettierrc</strong></code> <strong class="lu iv">文件:</strong></p><pre class="kk kl km kn gu ng nh ni nj aw nk bi"><span id="95b0" class="mu lb iu nh b gz nl nm l nn no">{<br/>  "singleQuote": true<br/>}</span></pre><p id="75ad" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">这是与使用Create React App生成的项目中的现有样式相匹配所需的最低配置。更多可能性请查看关于选项的<a class="ae kz" href="https://prettier.io/docs/en/options.html" rel="noopener ugc nofollow" target="_blank">更漂亮的文档。</a></p><p id="19a1" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">最后，<strong class="lu iv">在</strong> <code class="fe np nq nr nh b"><strong class="lu iv">package.json</strong></code>中更新您的ESLint配置:</p><pre class="kk kl km kn gu ng nh ni nj aw nk bi"><span id="6189" class="mu lb iu nh b gz nl nm l nn no">"eslintConfig": {<br/>  "extends": [<br/>    "react-app",<br/>    "plugin:prettier/recommended",<br/>    "prettier/flowtype",<br/>    "prettier/react"<br/>  ]<br/>},</span></pre><p id="e29f" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated"><strong class="lu iv">普罗提普！</strong>在一些项目中，ESLint配置可能存在于<code class="fe np nq nr nh b">.eslintrc</code>而不是<code class="fe np nq nr nh b">package.json</code>中。</p><p id="0e7a" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">这是允许Prettier扩展ESLint的最小配置，并适当地覆盖所有需要改变的来自<code class="fe np nq nr nh b">react-app</code>的规则。</p><p id="9a83" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">beauty添加的格式规则都可以被ESLint修复，所以为了达到最大的效果，请确保<strong class="lu iv">启用ESLint的保存时修复行为，如上面</strong>的连续林挺部分所述。现在你的代码将会在每次保存时被自动样式化。</p><h1 id="fa73" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">连续测试</h1><p id="6f0a" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">Create React App生成的项目包括Jest测试运行程序，并被配置为在运行<code class="fe np nq nr nh b">npm test</code>时以观察模式运行Jest。每当您的代码发生变化时，您的测试都会自动重新运行。Jest已经是下一个级别了，但是您可以通过将它与Visual Studio代码集成来将这种体验提升到最棒的水平。</p><p id="e029" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">Visual Studio代码有一个扩展，每当您的工作区打开时，它会自动在监视模式下为您运行Jest。该扩展在编辑器中与测试代码一起显示结果，并在问题查看器中收集测试失败。该扩展还支持使用Visual Studio代码中内置的NodeJS调试器来调试测试。</p><p id="86cb" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated"><strong class="lu iv">安装</strong><a class="ae kz" href="https://marketplace.visualstudio.com/items?itemName=Orta.vscode-jest" rel="noopener ugc nofollow" target="_blank"><strong class="lu iv">Jest</strong></a><strong class="lu iv">扩展</strong>将持续测试集成到Visual Studio代码中。该扩展自动识别用Create React App创建的项目，不需要任何配置。</p><h1 id="5f1b" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">交互调试</h1><p id="9fa2" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">调试web应用程序的传统方式是使用<a class="ae kz" href="https://developers.google.com/web/tools/chrome-devtools" rel="noopener ugc nofollow" target="_blank"> Chrome DevTools </a>，它是作为<a class="ae kz" href="https://www.google.com/chrome/" rel="noopener ugc nofollow" target="_blank"> Chrome </a> web浏览器的一部分提供的，包括一个交互式调试器和控制台。DevTools很棒，但是如果你想在调试的时候修改代码，使用它们需要在浏览器和编辑器之间切换。为了让调试更上一层楼，您可以将Visual Studio代码的内置调试器连接到在web浏览器中运行的代码，并直接从Visual Studio代码中调试您的应用程序。在<a class="ae kz" href="https://code.visualstudio.com/docs/nodejs/reactjs-tutorial#_debugging-react" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码文档</a>和<a class="ae kz" href="https://create-react-app.dev/docs/setting-up-your-editor#visual-studio-code" rel="noopener ugc nofollow" target="_blank"> Create React App文档</a>中有简单的例子。</p><p id="19f3" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">这些例子不错，但是你可以做得更好——好得多。以下有关介质的教程演示如何启用调试工作流，该工作流将在开始调试会话时自动启动项目的开发服务器并启动web浏览器，并在结束调试会话时停止开发服务器。<strong class="lu iv">查看并跟随:</strong></p><div class="ns nt gq gs nu nv"><a href="https://medium.com/better-programming/take-your-create-react-app-debugging-workflow-to-the-next-level-9c40cd1904bd" rel="noopener follow" target="_blank"><div class="nw ab fp"><div class="nx ab ny cl cj nz"><h2 class="bd iv gz z fq oa fs ft ob fv fx it bi translated">让您的Create React应用程序调试工作流程更上一层楼</h2><div class="oc l"><h3 class="bd b gz z fq oa fs ft ob fv fx dk translated">像专家一样调试VS代码</h3></div><div class="od l"><p class="bd b dl z fq oa fs ft ob fv fx dk translated">medium.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj kt nv"/></div></div></a></div><p id="8f9c" class="pw-post-body-paragraph ls lt iu lu b lv mp jv lx ly mq jy ma mb mr md me mf ms mh mi mj mt ml mm mn in bi translated">在本教程的最后，你会发现一个调试配置文件，它为<em class="mo"> maximum awesome </em>设置了Edge、Chrome和Jest。</p><h1 id="89f0" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">结论</h1><p id="9bb0" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">我希望您学到了一些关于如何使用Visual Studio代码增强React开发体验的新知识。编码快乐！</p></div></div>    
</body>
</html>