<html>
<head>
<title>The CSS Parent Selector, :has()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS父选择器:具有()</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/the-css-parent-selector-has-e0848d3644fc?source=collection_archive---------33-----------------------#2022-07-03">https://levelup.gitconnected.com/the-css-parent-selector-has-e0848d3644fc?source=collection_archive---------33-----------------------#2022-07-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/53da15063a084363d882d4ea32050025.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZoK4TpdjkRE_8wVZvykowQ.png"/></div></div></figure><p id="ccd3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">CSS代表<strong class="ka ir">级联样式表</strong>，这基本上意味着页面中后面的内容优先于前面的内容(有一些主要的注意事项<a class="ae kw" href="https://fjolt.com/article/css-selectors-guide%5D" rel="noopener ugc nofollow" target="_blank">)。这也适用于我们如何选择元素——从父元素到子元素，没有办法选择父元素，<strong class="ka ir">直到现在</strong>。</a></p><p id="90bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在<a class="ae kw" href="https://fjolt.com/article/css-selectors-level-4" rel="noopener ugc nofollow" target="_blank"> CSS选择器4 </a>规范中，CSS引入了一个名为<code class="fe kx ky kz la b">:has()</code>的新选择器，最终让我们选择父母。这意味着我们将能够定位一个CSS元素，这个元素中有特定的子元素。这在<strong class="ka ir"> Safari </strong>中已经支持，在<strong class="ka ir"> Chrome 105 </strong>中也有。完整的支持表如下所示:</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lb"><img src="../Images/4fdb9307250c3d4e5c3991a59987e40a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jmTfKItZ7AS60Ob_.png"/></div></div></figure><p id="f6ff" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">随着支持的增加，在这篇文章中，我将重点介绍CSS父选择是如何工作的，以及在支持可用的情况下，您可以如何做。与此同时，如果你需要在所有浏览器中得到完全支持，你也可以<a class="ae kw" href="https://www.npmjs.com/package/css-has-pseudo" rel="noopener ugc nofollow" target="_blank">实现这个polyfill </a>直到本地CSS支持可用。</p><h1 id="2472" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">CSS中父选择器的工作方式</h1><p id="4680" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">在CSS中，如果我们想要选择一些东西，我们使用选择器来降低DOM。例如，在<code class="fe kx ky kz la b">div</code>标签中选择一个<code class="fe kx ky kz la b">p</code>标签，如下所示:</p><pre class="lc ld le lf gt mj la mk ml aw mm bi"><span id="25ad" class="mn lh iq la b gy mo mp l mq mr">div p {<br/>    color: red;<br/>}</span></pre><p id="8ac5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">直到现在，我们还不能真正选择包含<code class="fe kx ky kz la b">p</code>标签的<code class="fe kx ky kz la b">div</code>标签，这意味着我们必须求助于Javascript。这没有在CSS中实现的主要原因是因为这是一个相当昂贵的操作。CSS解析起来相对较快，但是选择父标签需要相对大量的处理。</p><p id="f415" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用<code class="fe kx ky kz la b">:has</code>选择器，我们现在可以选择有<code class="fe kx ky kz la b">p</code>子元素的<code class="fe kx ky kz la b">div</code>元素，或者选择器的任何正常组合。例如，选择一个带有子节点<code class="fe kx ky kz la b">p</code>的<code class="fe kx ky kz la b">div</code>现在看起来像这样:</p><pre class="lc ld le lf gt mj la mk ml aw mm bi"><span id="0a50" class="mn lh iq la b gy mo mp l mq mr">/* Makes the div color: red; */<br/>div:has(p) {<br/>    color: red;<br/>}</span></pre><p id="6174" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将使任何带有子<code class="fe kx ky kz la b">p</code>的<code class="fe kx ky kz la b">div</code>变红。</p><h1 id="4fb4" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">将父选择与其他选择器相结合</h1><p id="b89e" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">就像任何其他CSS选择器一样，我们可以在特定的情况下组合使用它。例如，如果您只想选择有直接<code class="fe kx ky kz la b">span</code>子标签的<code class="fe kx ky kz la b">div</code>标签:</p><pre class="lc ld le lf gt mj la mk ml aw mm bi"><span id="d33c" class="mn lh iq la b gy mo mp l mq mr">div:has(&gt; span) {<br/>    color: red;<br/>}</span></pre><p id="3016" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">正如<code class="fe kx ky kz la b">:has</code>的词汇所暗示的，它不仅仅局限于父母选择。例如，下面我们可以选择一个<code class="fe kx ky kz la b">span</code>它与<code class="fe kx ky kz la b">:has</code>的一个兄弟<code class="fe kx ky kz la b">div</code>:</p><pre class="lc ld le lf gt mj la mk ml aw mm bi"><span id="c00b" class="mn lh iq la b gy mo mp l mq mr">span:has(+ div) {<br/>    color: red;<br/>}</span></pre><p id="8186" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">甚至，通过使用<code class="fe kx ky kz la b">:not()</code>选择器选择<strong class="ka ir">没有</strong>子元素的元素。例如，下面将选择任何一个<strong class="ka ir">没有</strong>子节点的div:</p><pre class="lc ld le lf gt mj la mk ml aw mm bi"><span id="be01" class="mn lh iq la b gy mo mp l mq mr">div:not(:has(p)) {<br/>    color: red;<br/>}</span></pre><h1 id="e823" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">选择CSS中只包含文本的元素</h1><p id="ede5" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">CSS中一个很常见的问题是<code class="fe kx ky kz la b">:empty</code>标签不选择包含任何文本的元素——所以有时一个元素可以包含一个空格，而<code class="fe kx ky kz la b">:empty</code>将不适用。<code class="fe kx ky kz la b">:has</code>选择器让我们能够选择只包含文本节点的元素，而不包含其他子元素。</p><p id="0aa1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然这对于简单的带有空格的<code class="fe kx ky kz la b">:empty</code>元素来说并不是完美的解决方案(因为这将选择任何只有文本而没有额外的HTML DOM元素的元素)，但是它确实给了我们选择只有文本节点的DOM元素的能力，这在以前是不可能的。我们可以通过下面的代码实现这一点:</p><pre class="lc ld le lf gt mj la mk ml aw mm bi"><span id="d9a2" class="mn lh iq la b gy mo mp l mq mr">div:not(:has(*)) {<br/>    background: green;<br/>}</span></pre><h1 id="a0aa" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">结论</h1><p id="103f" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">随着Chrome 105中添加了<code class="fe kx ky kz la b">:has()</code>选择器支持，父母选择很快成为现实，我们很快就可以在现实生活项目中使用。到目前为止，有了Safari的支持，很容易测试并了解它在未来的工作情况。这有一个额外的好处，那就是让我们减少在很多应用程序和产品中很常见的Javascript父母选择解决方案。</p><p id="9fda" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你甚至可以今天就开始使用<code class="fe kx ky kz la b">:has</code>，如果你也实现了<a class="ae kw" href="https://www.npmjs.com/package/css-has-pseudo" rel="noopener ugc nofollow" target="_blank">这个polyfill </a>，然后一旦Chrome和其他浏览器有了原生支持就移除这个polyfill。</p><p id="5e50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我希望你喜欢这篇文章。<a class="ae kw" href="https://fjolt.com/category/css" rel="noopener ugc nofollow" target="_blank">要了解关于CSS的更多信息，请点击此处</a>。</p></div><div class="ab cl ms mt hu mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="ij ik il im in"><h1 id="2a40" class="lg lh iq bd li lj mz ll lm ln na lp lq lr nb lt lu lv nc lx ly lz nd mb mc md bi translated">分级编码</h1><p id="8aa4" class="pw-post-body-paragraph jy jz iq ka b kb me kd ke kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv ij bi translated">感谢您成为我们社区的一员！更多内容见<a class="ae kw" href="https://levelup.gitconnected.com/" rel="noopener ugc nofollow" target="_blank">级编码出版物</a>。<br/>跟随:<a class="ae kw" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">推特</a>，<a class="ae kw" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank">领英</a>，<a class="ae kw" href="https://newsletter.levelup.dev/" rel="noopener ugc nofollow" target="_blank">通迅</a> <br/> <strong class="ka ir">升一级正在改造理工大招聘➡️ </strong> <a class="ae kw" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir">加入我们的人才集体</strong> </a></p></div></div>    
</body>
</html>