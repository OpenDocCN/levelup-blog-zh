<html>
<head>
<title>That 5-Minute Refresher on Regression and Predictive Modeling Every Business Stakeholder Needs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个业务利益相关者都需要的回归和预测建模的5分钟复习</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/that-5-minute-refresher-on-regression-and-predictive-modeling-every-business-stakeholder-needs-b7cd1ba767fb?source=collection_archive---------22-----------------------#2022-07-11">https://levelup.gitconnected.com/that-5-minute-refresher-on-regression-and-predictive-modeling-every-business-stakeholder-needs-b7cd1ba767fb?source=collection_archive---------22-----------------------#2022-07-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3314" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用Python代码进行线性方程建模也行！</h2></div><blockquote class="kf kg kh"><p id="f155" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">“你看起来不知道我在说什么。”</p><p id="00b5" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">-我14岁的孩子，每天</p></blockquote><p id="4763" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">对我来说，迷失在充满青少年行话的对话中是每天都会发生的事情。我完全忘记了某些单词的意思，即使我记得，我的九年级学生也可能会提到一个朋友，我已经无数次听说过这个朋友，但我发誓我从未听说过。最后，我的目光变得呆滞，就像商业领袖不理解预测建模时看我的眼神一样。大多数利益相关者对预测建模的理解很模糊，但是由于某些术语是随意使用的，所以对步骤和术语进行简单的复习可以获得更多的适用性。</p><p id="9ad1" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">让我们花几分钟时间来回顾一下构建和测量模型准确性的一些关键概念。</p><h2 id="f38a" class="li lj iq bd lk ll lm dn ln lo lp dp lq lf lr ls lt lg lu lv lw lh lx ly lz ma bi translated"><strong class="ak">建立线性方程</strong></h2><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="06ca" class="li lj iq mg b gy mk ml l mm mn"><strong class="mg ir">                              y=ax+b</strong></span></pre><p id="4021" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">在每个线性方程中，我们开始根据预测变量<em class="kk"> x </em>确定结果<em class="kk">y</em>。我们需要首先找到数据来建立斜率<em class="kk"> a </em>和截距<em class="kk"> b. </em>让我们以一个12人的销售团队为例。从那里，我们可以平均他们的薪酬，并为每个销售团队成员的薪酬与平均值之间的差异创建单独的数据点。从这里我们有12个值:</p><figure class="mb mc md me gt mp gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/26e7b86df0d3f2e754a12b9d86fd9069.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*wr5xUzJ8F2FGFnsm0y48hQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">作为预测值的支付(x)值</figcaption></figure><p id="3055" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">您可以看到高于或低于每个销售人员平均工资的金额。接下来，我们有12个销售结果，以及它们与团队目标的不同之处。通过这一预测模型，我们预计薪酬的<em class="kk"> x预测值</em>变量会影响<em class="kk"> y </em>销售的结果。</p><figure class="mb mc md me gt mp gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/0bf06b3402fd33c57ef498275a9ec83d.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*Hf54-kfJ6HSXNNwtH_PrFg.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">销售(y)观察预测</figcaption></figure><p id="e0db" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">如果我们创建一个散点图来可视化x和y之间的关系，我们可以看到</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="3fa1" class="li lj iq mg b gy mk ml l mm mn">plt.scatter(Pay_x,Sales_y, color="blue")<br/>model=np.polyfit(Pay_x,Sales_y,1)<br/>plt.title("Pay As a Determinant of Sales")<br/>plt.grid()</span></pre><figure class="mb mc md me gt mp gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/c84ce03a2aa51868ad20b7dbdd508ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*Om5VKhPpyEAaep25uoxdow.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">可以看出，报酬越大(x)销售额越大(y)之间存在线性关系</figcaption></figure><p id="72e1" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">从上面的散点图中，我们可以看到销售人员的工资(x)越高，销售额(y)就越高。我们现在希望建立一个线性方程。这个等式将决定如果我们知道一个特定个人的工资，这个销售人员将会比平均销售额多实现多少。</p><h2 id="a34d" class="li lj iq bd lk ll lm dn ln lo lp dp lq lf lr ls lt lg lu lv lw lh lx ly lz ma bi translated"><strong class="ak">建立模型</strong></h2><p id="bcd6" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lf na ku kv lg nb ky kz lh nc lc ld le ij bi translated">用Python构建模型只需要几行代码。测量模型的拟合优度需要一些额外的理解。</p><p id="f9ab" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">首先我们需要找到我们模型的系数，或者初始方程的<em class="kk"> a </em>和<em class="kk"> b </em>。Numpy的polyfit提供了导出这些计算的工具:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="29f6" class="li lj iq mg b gy mk ml l mm mn">model=np.polyfit(Pay_x,Sales_y,1)<br/>model</span></pre><figure class="mb mc md me gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nd"><img src="../Images/97007d148fdf301f4db88ebcca8daea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*8dK0osNgzI87d9ef9LiQWA.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">模型输出</figcaption></figure><p id="30c4" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">这意味着对于<strong class="kl ir"><em class="kk">y = ax+b</em></strong><em class="kk"/>我们推断<strong class="kl ir">销售额=(付出)*2.1791+-2.1397 </strong></p><p id="0379" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">例如，使用上面的等式，我们可以看到我们的工资是否比我们可以求解的平均值高出2美元:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="8b62" class="li lj iq mg b gy mk ml l mm mn"><strong class="mg ir">y=2(2.17491862)+-2.13977<br/>y=2.21</strong></span></pre><p id="d523" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">也就是说，在这种模式下，如果我们支付给员工的工资比团队的平均工资高2美元，我们可以在观察到的时间段内预期多2.21美元的销售额。</p><p id="a3d3" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">一个模型只有在符合数据的情况下才有用。在进行任何计算来衡量模型的有用性之前，让我们首先将线性回归与我们用来创建它的x和y值进行比较:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="dc50" class="li lj iq mg b gy mk ml l mm mn">x_lin_reg = range(-7, 11)<br/>y_lin_reg = predict(x_lin_reg)<br/>plt.scatter(Actual_X, Expected_y)<br/>plt.plot(x_lin_reg, y_lin_reg, c = 'r')<br/>plt.grid()</span></pre><figure class="mb mc md me gt mp gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/cf72b2d6bad03b00d0ba32ba51fb581d.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*1hcvFTZAycWF8myJsz9uoA.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">线性方程的观测值</figcaption></figure><p id="f755" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">虽然我们可以看到观察值围绕着线性方程，但是没有一个观察值看起来与线性回归完全一致。这就引出了一个问题:我们用这种线性模型做出的预测有多准确？</p><h2 id="d015" class="li lj iq bd lk ll lm dn ln lo lp dp lq lf lr ls lt lg lu lv lw lh lx ly lz ma bi translated">评估模型</h2><p id="5709" class="pw-post-body-paragraph ki kj iq kl b km my jr ko kp mz ju kr lf na ku kv lg nb ky kz lh nc lc ld le ij bi translated">答案是用R的平方。这是一种对创建的预测进行预期的计算，即我们可以预期观察值与我们的模型创建的期望值相匹配的频率。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="bc3d" class="li lj iq mg b gy mk ml l mm mn">from sklearn.metrics import r2_score<br/>r2_score(Expected_y, predict(Actual_X))</span></pre><figure class="mb mc md me gt mp gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/5b2e96282a9f37a253302cac34cc813f.png" data-original-src="https://miro.medium.com/v2/resize:fit:240/format:webp/1*WyOlzixY0puKxeiC3xdAsQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">r平方计算输出</figcaption></figure><p id="8154" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">该值可以解释为，如果我们使用所创建的线性模型，我们可以预期该模型的期望值在75%的情况下与实际观察值相匹配。</p><p id="202a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">了解到75%的预期结果是一致的，在回顾这个等式时，我们还想回答另一个问题。也就是说，在那些预期结果中，线性方程测量的是与实际观察值<em class="kk">的偏差，我们可以预期它们与实际观察值</em>的偏差有多远？这是一个关于均方误差的问题，它创建了一个值，该值给出了预期观察值与观察到的观察值的差异程度。</p><p id="c540" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">为了进行计算，首先我们使用线性模型的系数创建预期的观测值:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="364f" class="li lj iq mg b gy mk ml l mm mn">y_2 = predict(Pay_x)<br/>y_2</span></pre><figure class="mb mc md me gt mp gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/b729de50ad001d392b83b8a94ba5002f.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*FQkRwEuz_ut9SL3VmzG7MA.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">使用线性方程的预期销售额</figcaption></figure><p id="8c9f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">然后，我们测量观察结果的差异，并使用sklearn包中的mse工具对其进行平方。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="eef1" class="li lj iq mg b gy mk ml l mm mn">from sklearn.metrics import mean_squared_error<br/>mse = mean_squared_error(Sales_y, y_2)<br/>mse</span></pre><figure class="mb mc md me gt mp gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/23e976e346d75fe9c62ea169d3b3179b.png" data-original-src="https://miro.medium.com/v2/resize:fit:230/format:webp/1*7K87DA3JOrIxLSaEs94GMw.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated">均方误差</figcaption></figure><p id="f1d1" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">我们可以把这个结果解释为，如果我们在预期结果和观察结果之间有差异，我们可以预期这种差异超过34。在查看实际结果时，我们可以观察到销售结果的大部分差异在0到20之间。这意味着，如果我们有这么宽的读数34，我们可能不想接受这个模型作为一个很好的预测器，因为那些不一致的值将是非常严重扭曲的预测。</p><figure class="mb mc md me gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nl"><img src="../Images/9b9e9764dcdda81574ed011d1248c4b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tK1vh06mWqOAjP-M"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk translated"><a class="ae nm" href="https://unsplash.com/@cowomen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">女同胞</a>在<a class="ae nm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="1828" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">即使对我来说，预测方法似乎也经常可以互换。但是当我花时间去理解关键差异时，我发现我能够在会议结束时支持或拒绝使用某个模型。</p><p id="dbf1" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">当我和我的九年级学生谈论他感兴趣的新“零食”时，我不能说我对预测建模的理解有所帮助。我可以说，当我想在商务会议中支持或拒绝一种新的预测技术时，它确实派上了用场。</p></div></div>    
</body>
</html>