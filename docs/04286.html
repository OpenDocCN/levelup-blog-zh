<html>
<head>
<title>How To Deploy Your Phoenix 1.5 App to Heroku!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将你的凤凰1.5 App部署到Heroku！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-to-deploy-your-phoenix-1-5-app-to-heroku-28b77ca11694?source=collection_archive---------10-----------------------#2020-06-18">https://levelup.gitconnected.com/how-to-deploy-your-phoenix-1-5-app-to-heroku-28b77ca11694?source=collection_archive---------10-----------------------#2020-06-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4f65" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">照我说的做，不要照我做的做！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/fbec6519e87d4d5ee9a8ebc099cfc221.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*mfS5rLtBNUJ8yihi1vdFDw.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">成功！</figcaption></figure><p id="c186" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，如果你们中的一些人一直在关注我以前的文章，那么你们已经看到，我一直在使用<a class="ae lq" href="https://elixir-lang.org/" rel="noopener ugc nofollow" target="_blank"> Elixir </a>和<a class="ae lq" href="http://hexdocs.pm/phoenix" rel="noopener ugc nofollow" target="_blank"> Phoenix </a>，它们分别是一种快速、容错、功能性的编程语言，具有类似Ruby的语法，并且是这种语言的快速、容错、功能性的web框架，类似于<a class="ae lq" href="https://rubyonrails.org/" rel="noopener ugc nofollow" target="_blank"> Rails </a>，但是更快！</p><p id="f7c4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在过去的一周里，我终于完成了<a class="ae lq" href="https://click.linksynergy.com/deeplink?id=q15T/SfRF14&amp;mid=39197&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Fthe-complete-elixir-and-phoenix-bootcamp-and-tutorial%2F" rel="noopener ugc nofollow" target="_blank">我正在进行的关于Elixir/Phoenix </a>的课程，这个课程很棒，是由<a class="lr ls ep" href="https://medium.com/u/d058882d8cd2?source=post_page-----28b77ca11694--------------------------------" rel="noopener" target="_blank"> Stephen Grider </a>教授的，我认为他是一个很棒的老师，但是当我参加这个课程时(这是我能很容易找到的关于这个话题的唯一一个课程),这个课程有些过时了，因为Phoenix和Elixir的发展很快，因为自从课程发布以来，它们已经发展了好几个版本。</p><p id="eabf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尽管Stephen的课程很棒，但它并没有提供如何部署应用程序的信息。现在，<a class="ae lq" rel="noopener ugc nofollow" target="_blank" href="/how-to-deploy-your-site-with-amazon-the-quick-and-dirty-way-29104281a65?source=your_stories_page---------------------------">我实际上已经提供了一个部署Phoenix应用程序的选项，我在以前的文章</a>中列出了这个选项，但它并没有特别优化，主要是为了学习AWS而创建的。</p><p id="d26f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">此外，我有一个OAuth的bug，我无法解决，与其调试它，我想为什么不学习如何在其他地方部署它，这是一个非常懒惰的方法，在本文的后面会困扰我。</p><p id="0dbc" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以我决定探索部署到Heroku，这是一个非常容易使用的虚拟主机应用程序，有一个很棒的免费层。我个人更喜欢Netlify来托管前端React/Vue/Gatsby应用程序，但是Heroku对于任何需要管理的后端数据库来说都很棒。</p><p id="2a9d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，我对阅读文档非常懒惰和不负责任，更喜欢酷的指南和中等的文章，但这是我的败笔。所以，我现在向你展示，如何将你的Phoenix应用程序部署到Heroku。</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="b3e6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">所以，首先，我会说，TLDR，读一下<a class="ae lq" href="https://hexdocs.pm/phoenix/heroku.html" rel="noopener ugc nofollow" target="_blank">文件</a>。</p><p id="8ae2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我知道，我知道这听起来很蠢。</p><p id="8403" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你为什么写这篇文章，尼克？你只是告诉人们去读文件！</p><p id="e917" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">嗯，还有一些事情医生没有明确提到，我们可以通过。但是我失败了很多很多次，因为我就是不愿意看文件。所以去看看吧。</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h2 id="3204" class="ma mb it bd mc md me dn mf mg mh dp mi ld mj mk ml lh mm mn mo ll mp mq mr ms bi translated">步骤1-确保你的ENV变量是安全的！</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi mt"><img src="../Images/e0e822821e1ebea1c52e3310f4f86cac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ai4IjwQD0wzQ9C3ae9ws1Q.png"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">环境是你的朋友。</figcaption></figure><p id="812b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于那些刚接触web开发或者像我一样偶尔犯傻的人来说，任何API密匙，比如用于OAuth的Github凭证、你的个人Postgres登录/帐户甚至Phoenix的<code class="fe my mz na nb b">SECRET_KEY_BASE</code>变量都应该是安全的。Heroku在你的站点的<code class="fe my mz na nb b">Settings/Reveal Config Vars</code>下有一个选项，允许你以后设置这些变量为类似于<code class="fe my mz na nb b">SECRET_KEY_BASE</code>的键和<code class="fe my mz na nb b">WHATEVER_WEIRD_STRING_PHOENIX_MAKES_FROM_YOUR_COMMAND_LINE_USING</code>命令<code class="fe my mz na nb b">mix phx.gen.secret</code>的值。</p><p id="d46f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你代码中的任何变量都应该用那些<code class="fe my mz na nb b">System.get_env</code>调用来替换，如果你像我多次做的那样不小心把它们推到GitHub上，请把你的回购设为私有，并仍然改变那些值。</p><h2 id="ba1d" class="ma mb it bd mc md me dn mf mg mh dp mi ld mj mk ml lh mm mn mo ll mp mq mr ms bi translated"><strong class="ak">步骤2-使用Heroku CLI和Buildpacks创建Heroku应用</strong></h2><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="0e18" class="ma mb it nb b gy ng nh l ni nj">$ heroku create --buildpack hashnuke/elixir <br/>Creating app... done, ⬢ mysterious-meadow-6277 <br/>Setting buildpack to hashnuke/elixir... done <br/>https://mysterious-meadow-6277.herokuapp.com/ | https://git.heroku.com/mysterious-meadow-6277.git</span></pre><p id="5d65" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是从文档中抄袭的代码，所以请不要执行它，这只是一个例子。</p><p id="1042" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你在读这篇文章，我会假设你的项目在GitHub上，但也许你以前没有使用过Heroku，所以如果你没有在他们的网站上注册。</p><p id="3bf2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后你会想要安装<code class="fe my mz na nb b">heroku-cli</code>，它允许你使用他们的命令行工具包。这就像</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="bfc3" class="ma mb it nb b gy ng nh l ni nj"># on a mac</span><span id="da03" class="ma mb it nb b gy nk nh l ni nj">$ brew install heroku</span><span id="fd4a" class="ma mb it nb b gy nk nh l ni nj"># on linux</span><span id="873b" class="ma mb it nb b gy nk nh l ni nj">$ sudo apt-get install heroku</span><span id="c832" class="ma mb it nb b gy nk nh l ni nj"># on windows</span><span id="fffd" class="ma mb it nb b gy nk nh l ni nj">$ print "why are you coding on windows bra"</span></pre><p id="523a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一旦安装完毕，你会想要使用我们上面的版本，它利用了一个<strong class="kw iu"> buildpack </strong>，这是一套关于Heroku如何与特定项目和语言集一起工作的指令和工具。</p><p id="8edf" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">因此，您将从项目的命令行运行:</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="0b12" class="ma mb it nb b gy ng nh l ni nj">$ heroku create &lt;your-project-name&gt; --buildpack hashnuke/elixir</span></pre><p id="fbf8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将创建您的项目并正确使用buildpack，甚至为您的站点提供一个漂亮的<strong class="kw iu">二级域名</strong>或非随机名称。</p><p id="97b2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Phoenix还有一个buildpack可以帮助我们直接编译我们的web项目，所以让我们把它添加到这里。</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="3557" class="ma mb it nb b gy ng nh l ni nj">$ heroku buildpacks:add https://github.com/gjaldon/heroku-buildpack-phoenix-static.git</span></pre><p id="0f98" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，对于这一部分，让我们添加一个<strong class="kw iu">插件</strong>，它就像一个构建包，但不仅仅是特定于特定的语言或框架。这将假设您使用<strong class="kw iu"> PostgreSQL </strong>作为您的数据库，因为它很容易添加并且对项目来说也是免费的。所以要添加的只是类型:</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="8ca6" class="ma mb it nb b gy ng nh l ni nj">$ heroku addons:create heroku-postgresql:hobby-dev</span></pre><p id="f9f2" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这将创建生产所需的<code class="fe my mz na nb b">DATABASE_URL</code> ENV变量，并为您进行设置。整洁！</p><h2 id="000e" class="ma mb it bd mc md me dn mf mg mh dp mi ld mj mk ml lh mm mn mo ll mp mq mr ms bi translated"><strong class="ak">第三步——创建三个文件，修改三个！</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/9ef3b2d4d1f51ba8da51ee58ef29bf55.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*W4zrBxQelDrV1dNjf9rp6w.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">制造他们！</figcaption></figure><p id="e696" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在我已经习惯了在Netlify上部署和在Heroku上部署Ruby on Rails应用，这让我变得相当懒惰和自满，因为这些过程基本上不需要做任何工作。</p><p id="681d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是由于Elixir/Phoenix是快速开发中的一个较新的框架，我们需要创建三个非常小的文件。首先，让我们在项目目录的根目录下创建我们的<code class="fe my mz na nb b">elixir_buildpack.config</code>文件。这让我们根据我们添加的第一个构建包来选择我们的Elxir版本。如果您使用截至2020年6月的最新版本的Elixir，它将包含以下代码行。</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="32f6" class="ma mb it nb b gy ng nh l ni nj"># elixir_buildpack.config</span><span id="591c" class="ma mb it nb b gy nk nh l ni nj">erlang_version=21.2.5</span><span id="cdd9" class="ma mb it nb b gy nk nh l ni nj">elixir_version=1.8.1</span><span id="3f45" class="ma mb it nb b gy nk nh l ni nj">always_rebuild=false</span><span id="cabd" class="ma mb it nb b gy nk nh l ni nj">runtime_path=/app</span></pre><p id="3a7e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">太好了。现在让我们用一个<code class="fe my mz na nb b">phoenix_static_buildpack.config</code>文件来配置我们添加的Phoenix buildpack。</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="ded3" class="ma mb it nb b gy ng nh l ni nj"># phoenix_static_buildpack.config</span><span id="84ea" class="ma mb it nb b gy nk nh l ni nj">node_version=10.20.1</span></pre><p id="03c8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在，我们为什么要配置我们的节点版本呢？这是因为Phoenix使用<a class="ae lq" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> Webpack </a>来“捆绑”我们拥有的用于WebSockets和Webpack使用<a class="ae lq" href="http://nodejs.org" rel="noopener ugc nofollow" target="_blank"> Node.js </a>的小JavaScript资产！所以我们需要确保我们使用的是Node的最新版本！</p><p id="ad75" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们需要制作的最后一个文件是一个<code class="fe my mz na nb b">Procfile</code>，也在我们的根目录下，这个文件只是让Heroku知道一些命令来启动我们的服务器。这个文件只需要一行！</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="3647" class="ma mb it nb b gy ng nh l ni nj"># Procfile</span><span id="3be9" class="ma mb it nb b gy nk nh l ni nj">web: MIX_ENV=prod mix phx.server</span></pre><p id="f605" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这只是给出了启动我们的服务器和生产环境的基本命令！</p><p id="d94a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">说到这我们还得修改三个文件！</p><p id="07a6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">第一个在<code class="fe my mz na nb b">config/prod.exs</code>，这不是巧合，因为我们刚刚提到过。找到以<code class="fe my mz na nb b">url</code>开头的行，替换为:</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="6b32" class="ma mb it nb b gy ng nh l ni nj">http: [<br/>  port: {:system, "PORT"}], <br/>  url: [scheme: "https", host: "yourappname.herokuapp.com", <br/>  port: 443<br/> ], </span><span id="719f" class="ma mb it nb b gy nk nh l ni nj">force_ssl: [rewrite_on: [:x_forwarded_proto]],</span></pre><p id="d65a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">将“yourappname”替换为你的应用的名称，我们就可以了！这只会让制作方知道你的Heroku网站的地址，同时也能很好地使用它的标准。</p><p id="7b57" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来在<code class="fe my mz na nb b">prod.secret.exs</code>中，让我们找到<code class="fe my mz na nb b">Repo</code>部分并改变它！</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="10df" class="ma mb it nb b gy ng nh l ni nj">config :yourapp, YourApp.Repo,   <br/> ssl: true,   <br/> url: database_url,   <br/> pool_size: String.to_integer(System.get_env("POOL_SIZE") || "10")</span></pre><p id="0b7f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">同样，请用你的应用程序替换你的应用程序。这将告诉你的数据库从我们之前添加的Postgres插件中提取数据。</p><p id="293c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，如果你像我之前提到的那样使用WebSockets，Heroku为它们制定了特定的规则，所以我们必须在<code class="fe my mz na nb b">lib/yourapp_web/endpoint.ex</code>文件中设置它们。它应该是这样的:</p><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="7619" class="ma mb it nb b gy ng nh l ni nj">defmodule YourAppWeb.Endpoint do   <br/> <br/> use Phoenix.Endpoint, otp_app: :your_app    <br/> <br/> socket "/socket", YourAppWeb.UserSocket,     <br/> websocket: <br/>  [timeout: 45_000],     <br/>  longpoll: false    </span><span id="b122" class="ma mb it nb b gy nk nh l ni nj"># whatever other contents of your file can stay here!</span><span id="3d21" class="ma mb it nb b gy nk nh l ni nj">end</span></pre><p id="92d8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就这样吧！</p><h2 id="cc2c" class="ma mb it bd mc md me dn mf mg mh dp mi ld mj mk ml lh mm mn mo ll mp mq mr ms bi translated">第四步:设置你的变量，包括外部变量！</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi nm"><img src="../Images/4b98e80ca6539380dc59ab07a5041ff7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BzOuyvshmIQ0wne1QCwBDA.png"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">哦，是的，配置变量。</figcaption></figure><p id="2d36" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">还记得我在第一步中谈到的隐藏ENV变量吗？现在是时候设置它们了！</p><p id="71d5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在Heroku站点的设置中，你可以进入仪表盘，点击你的应用，点击“设置”，然后点击“显示配置变量”。这将允许你设置像<code class="fe my mz na nb b">SECRET_KEY_BASE</code>，你可能有的任何API键和<a class="ae lq" rel="noopener ugc nofollow" target="_blank" href="/how-to-do-oauth-with-github-in-elixir-phoenix-1-5-c2bd5dc05cb1?source=your_stories_page---------------------------">，如果你像我一样使用OAuth的话</a>，我之前谈到的GITHUB键。</p><p id="86fa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这里的最后一件事，一个我在AWS部署中找不到的bug，我的OAuth失败了，我找不到问题出在代码的什么地方。</p><p id="7ea6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是因为<strong class="kw iu">不是我的代码</strong>！我在睡梦中发现了这一点。这是我在OAuth外部应用程序上设置的一个变量！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/9bb826d431a1f2df4df1df9ff9a33ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*IXWenz4U3mFeUN4wOcqIJw.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">这是我需要更新的地方！</figcaption></figure><p id="30e1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了让Ueberauth工作，你的OAuth应用上的回调URL需要完全匹配，而我的回调URL在<code class="fe my mz na nb b">localhost:4000</code>仍然指向我的旧应用！所以不要犯我的错误，必须在你的梦里调试！也设置这个！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/19b57e770886620d99314d957ae8bcc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/0*0ZE3h3dgQz_t50uY.jpg"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">从一个伟大的，瑞普欧内斯特·博格宁</figcaption></figure><h2 id="f1f6" class="ma mb it bd mc md me dn mf mg mh dp mi ld mj mk ml lh mm mn mo ll mp mq mr ms bi translated">第五步:把所有东西都加进去，开始行动吧！</h2><pre class="kj kk kl km gt nc nb nd ne aw nf bi"><span id="28c5" class="ma mb it nb b gy ng nh l ni nj">$ git add .</span><span id="724b" class="ma mb it nb b gy nk nh l ni nj">$ git commit -m "ready for heroku"</span><span id="03bb" class="ma mb it nb b gy nk nh l ni nj">$ git push heroku master</span><span id="3447" class="ma mb it nb b gy nk nh l ni nj"># a lot of things will happen here including maybe bugs! I believe in you! You can solve them!</span><span id="be8e" class="ma mb it nb b gy nk nh l ni nj"># if this process ends with "deployed successfully" then there's one more line to set up our database</span><span id="d63c" class="ma mb it nb b gy nk nh l ni nj">$ heroku run "POOL_SIZE=2 mix ecto.migrate"</span></pre><p id="fe60" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就是这样！您应该能够导航到您的网站，并看到它在那里辉煌的色彩！如果没有，这里是我在这个过程中经常使用的<a class="ae lq" href="https://join.slack.com/t/elixir-lang/shared_invite/zt-eivteker-k_nArD59XHjjN_r8qeH6dw" rel="noopener ugc nofollow" target="_blank">灵药</a>的剩余部分，我会提醒你不要像我一样<a class="ae lq" href="https://hexdocs.pm/phoenix/heroku.html" rel="noopener ugc nofollow" target="_blank">检查那些文件</a>，然后向世界展示你的网站！</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="85c0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">汪汪。太多了。</p><p id="cbdb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你知道还有什么是“汪汪”和“很多”吗？熊猫。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi np"><img src="../Images/ad702496081f8ffa151df681c4b5977d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cRthBIQB7dnRVtz7eKGluA.png"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk translated">熊猫！</figcaption></figure><p id="d4b5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">熊猫昨天在我的鞋子上撒尿，我仍然爱他，因为他是一个毛绒绒的傻瓜。它是布鲁克林肖恩·卡西动物救助中心准备收养的狗之一，我今天晚些时候要去那里。散步收容所男孩是一个伟大的方式来社交距离，得到一些爱，从一天辛苦的代码中放松下来，并在动物的生活和你的生活中产生影响。</p><p id="d0fe" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我的鞋子有味道，熊猫。但是我仍然爱你。</p><p id="a971" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">再见了，</p><p id="5f78" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">网络信息中心(Network Information Center)ˌ网路界面卡(Network Interface Card)ˌ全国工业理事会(National Industrial Council)ˌ航行情报中心(Navigation Information Center)</p></div></div>    
</body>
</html>