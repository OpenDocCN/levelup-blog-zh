<html>
<head>
<title>Enable File Attachment with CodeIgniter 4 form helper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CodeIgniter 4表单助手启用文件附件</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/enable-file-attachment-with-codeigniter-4-form-helper-9ad6e368e103?source=collection_archive---------5-----------------------#2021-10-27">https://levelup.gitconnected.com/enable-file-attachment-with-codeigniter-4-form-helper-9ad6e368e103?source=collection_archive---------5-----------------------#2021-10-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="f25d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">CodeIgniter 4 PHP框架有许多内置的助手库。其中一个我经常使用的是<a class="ae ko" href="https://codeigniter.com/user_guide/helpers/form_helper.html" rel="noopener ugc nofollow" target="_blank">表单助手</a>。在这篇文章中，我将介绍使用特定的表单助手库方法上传文件附件…</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/35835103edbe3417b00fc224ef056743.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*xjFix8Fmn1OayOiT"/></div></figure><p id="8099" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">自我推销:</p><p id="28a6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你喜欢这里写的内容，尽一切办法，把这个博客和你最喜欢的帖子分享给其他可能从中受益或喜欢它的人。<a class="ae ko" href="http://ko-fi.com/joshlovescoffee" rel="noopener ugc nofollow" target="_blank">因为咖啡是我最喜欢的饮料，如果你愿意，你甚至可以给我买一杯！</a></p></div><div class="ab cl kx ky hx kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="im in io ip iq"><p id="d99b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通常在HTML表单中，为了上传文件附件，您需要在<strong class="js iu"> &lt;表单&gt; </strong>标签中包含<strong class="js iu"> enctype </strong>属性:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="0411" class="lj lk it lf b gy ll lm l ln lo">enctype="multipart/form-data"</span></pre><p id="88fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，在<em class="lp"> raw </em> HTML中，PHP项目中的代码如下所示:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="8f0a" class="lj lk it lf b gy ll lm l ln lo">&lt;form action="some_file.php" method="post" enctype="multipart/form-data"&gt;</span></pre><p id="5958" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于实际的文件附件字段，我们使用<strong class="js iu"> &lt;输入&gt; </strong>元素与文件类型:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="78fe" class="lj lk it lf b gy ll lm l ln lo">&lt;input type="file" name="my_file"&gt;</span></pre><p id="1664" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，这并不是太多的HTML代码。</p><p id="76e6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，如果您在CodeIgniter 4中构建项目，为什么不利用“表单”帮助程序库的一些内置功能呢？</p><p id="63b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">事实上，你只需要三种方法:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="dc4b" class="lj lk it lf b gy ll lm l ln lo">&lt;?=form_open_multipart('some_file.php');?&gt;<br/>&lt;?=form_upload('my_file');?&gt;<br/>&lt;?=form_close();?&gt;</span></pre></div><div class="ab cl kx ky hx kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="im in io ip iq"><p id="2b15" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我每周写一封关于我正在研究、学习和感兴趣的SQL/PHP的电子邮件。如果这听起来像是你想参与的事情，<a class="ae ko" href="https://digitalowlsprose.ck.page/1b35a06295" rel="noopener ugc nofollow" target="_blank">点击这里</a>了解更多信息。谢谢大家！</p></div><div class="ab cl kx ky hx kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="im in io ip iq"><h2 id="c761" class="lj lk it bd lq lr ls dn lt lu lv dp lw kb lx ly lz kf ma mb mc kj md me mf mg bi translated">CodeIgniter 4表单助手:form_open_multipart()</h2><p id="87a6" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated"><strong class="js iu"> form_open_multipart() </strong>方法使用以下语法接受最多3个参数:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="3ac4" class="lj lk it lf b gy ll lm l ln lo">form_open_multipart(action, attributes, hidden)</span></pre><ul class=""><li id="451b" class="mm mn it js b jt ju jx jy kb mo kf mp kj mq kn mr ms mt mu bi translated">操作-操作目标URI字符串。</li><li id="c041" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">属性HTML属性的数组或字符串。</li><li id="38e8" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">隐藏—隐藏字段的数组。</li></ul><h2 id="8a25" class="lj lk it bd lq lr ls dn lt lu lv dp lw kb lx ly lz kf ma mb mc kj md me mf mg bi translated">CodeIgniter 4表单助手:form_upload()</h2><p id="eed5" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated"><strong class="js iu"> form_upload() </strong>方法使用以下语法接受最多3个参数:</p><pre class="kq kr ks kt gt le lf lg lh aw li bi"><span id="bedd" class="lj lk it lf b gy ll lm l ln lo">form_upload(field, value, extra)</span></pre><ul class=""><li id="7f80" class="mm mn it js b jt ju jx jy kb mo kf mp kj mq kn mr ms mt mu bi translated">数据-字段属性数据</li><li id="4ca9" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">值-字段值</li><li id="5974" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">额外-额外属性</li></ul><p id="b510" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">(<strong class="js iu">注意:</strong>我通常使用一个<a class="ae ko" href="https://www.php.net/manual/en/language.types.array.php" rel="noopener ugc nofollow" target="_blank">数组</a>，将我需要的所有属性数据作为单个参数。)</p></div><div class="ab cl kx ky hx kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="im in io ip iq"><h2 id="7d3e" class="lj lk it bd lq lr ls dn lt lu lv dp lw kb lx ly lz kf ma mb mc kj md me mf mg bi translated">CodeIgniter 4表单助手:文件上传结构示例</h2><p id="666b" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">下面是一个<em class="lp">学习示例，在我的本地Linux <a class="ae ko" href="https://www.apachefriends.org/index.html" rel="noopener ugc nofollow" target="_blank"> XAMPP </a>开发环境下，如何使用CodeIgniter 4 form helper在HTML表单中包含文件附件上传。</em></p><p id="919f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在默认的Home控制器中，我创建了一个<strong class="js iu"> forms() </strong>方法，该方法返回视图文件<strong class="js iu"> form_view.php </strong>:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="782d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">相关</strong>:您可以通过使用<a class="ae ko" href="https://codeigniter.com/user_guide/general/common_functions.html#helper" rel="noopener ugc nofollow" target="_blank">全局助手()函数</a>来加载表单助手(或CodeIgniter 4中的任何其他助手)。</p><p id="20fc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<strong class="js iu"> form_view.php </strong>视图文件中，我们使用以下表单帮助器方法对表单进行了编码:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="na nb l"/></div></figure><ul class=""><li id="9c24" class="mm mn it js b jt ju jx jy kb mo kf mp kj mq kn mr ms mt mu bi translated"><strong class="js iu"> form_open_multipart() </strong></li><li id="4154" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated"><strong class="js iu"> form_label() </strong> —可选</li><li id="4288" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated"><strong class="js iu">表单_上传()</strong></li><li id="b2f3" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated"><strong class="js iu"> form_close() </strong></li></ul><p id="b98f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">注意</strong>:在<strong class="js iu"> form_open_multipart() </strong>方法中用作参数的<strong class="js iu"> base_url() </strong>方法是“url”帮助器库的一部分，不在本文讨论范围内。关于“url”帮助器的更多信息，请访问在线文档。</p><p id="2928" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> form_view.php </strong>文件中的表单帮助器方法在浏览器中呈现这个HTML:</p><figure class="kq kr ks kt gt ku"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="7e4d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这产生了这个简单(且粗糙)的基本表单，包括文件附件字段:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/8050a1a9b464de37a0f584aeb98f83f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*VAioG06ixZkqrEU2"/></div></figure></div><div class="ab cl kx ky hx kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="im in io ip iq"><p id="39cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你是<a class="ae ko" href="http://medium.com/" rel="noopener">中</a>成员吗？如果是这样的话，<a class="ae ko" href="https://parabollus.medium.com/subscribe" rel="noopener">每次我发表博客文章的时候都会收到一封电子邮件通知</a>如果你更喜欢中型平台的话。不是会员？别担心！使用<a class="ae ko" href="https://parabollus.medium.com/membership" rel="noopener">我的注册链接</a>(我会向你收取佣金，无需额外费用)并加入。我真的很喜欢阅读所有伟大的内容，我知道你也会！！！</p></div><div class="ab cl kx ky hx kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="im in io ip iq"><p id="ce35" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我已经在CodeIgniter 4项目中大量使用了form helper库，并且发现它非常有用和方便。如果你以前没用过，就试试吧。</p><p id="e50a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一如既往，如果你有任何问题或看到代码中的任何错误，请通过评论让我知道。建设性的意见有助于我提供准确的博客帖子，我非常感激。感谢您的阅读！</p><h2 id="05b9" class="lj lk it bd lq lr ls dn lt lu lv dp lw kb lx ly lz kf ma mb mc kj md me mf mg bi translated">CodeIgniter 4类似读数</h2><p id="4f26" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">我在下面列出了我在CodeIgniter 4上写的几篇帖子。你可以随意参观任何你感兴趣的地方。也请与他人分享！</p><ul class=""><li id="68d9" class="mm mn it js b jt ju jx jy kb mo kf mp kj mq kn mr ms mt mu bi translated"><a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/codeigniter-4-crud-series-with-mysql-create-f2533edbd5e8">使用MySQL的CodeIgniter 4 CRUD系列:创建</a></li><li id="4ef7" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated"><a class="ae ko" href="https://joshuaotwell.com/mysql-aggregate-query-using-codeigniters-query-builder/" rel="noopener ugc nofollow" target="_blank">使用CodeIgniter的查询构建器进行MySQL聚合查询</a></li><li id="744a" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated"><a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/codeigniter-4-crud-series-with-mysql-read-96c994e33e4e">带MySQL的CodeIgniter 4 CRUD系列:阅读</a></li><li id="e400" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated"><a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/codeigniter-4-crud-series-with-mysql-update-876a6d20335a">带MySQL的CodeIgniter 4 CRUD系列:更新</a></li><li id="678f" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated"><a class="ae ko" rel="noopener ugc nofollow" target="_blank" href="/codeigniter-4-crud-series-with-mysql-delete-97d81274ea80">带MySQL的CodeIgniter 4 CRUD系列:删除</a></li></ul><p id="1b56" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">喜欢你读过的？看到什么不正确的吗？请在下面评论，感谢阅读！！！</p><h1 id="d7a6" class="nd lk it bd lq ne nf ng lt nh ni nj lw nk nl nm lz nn no np mc nq nr ns mf nt bi translated">行动的号召！</h1><p id="9d95" class="pw-post-body-paragraph jq jr it js b jt mh jv jw jx mi jz ka kb mj kd ke kf mk kh ki kj ml kl km kn im bi translated">感谢你花时间阅读这篇文章。我真心希望你发现了一些有趣和有启发性的东西。请在这里与你认识的其他人分享你的发现，他们也会从中获得同样的价值。</p><p id="fa4a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">访问<a class="ae ko" href="https://wp.me/P28ctb-3KD" rel="noopener ugc nofollow" target="_blank">投资组合-项目页面</a>，查看我为客户完成的博客帖子/技术写作。</p><p id="b809" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae ko" href="https://ko-fi.com/joshlovescoffee" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">咖啡是我最喜欢的饮料！</strong>T9】</a></p><p id="1b44" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要在最新的博客文章发表时收到来自本博客(“数字猫头鹰散文”)的电子邮件通知(绝不是垃圾邮件)，请点击“点击订阅！”按钮在首页的侧边栏！(如有任何问题，请随时查看<a class="ae ko" href="https://wp.me/P28ctb-3gI" rel="noopener ugc nofollow" target="_blank"> Digital Owl的散文隐私政策页面</a>:电子邮件更新、选择加入、选择退出、联系表格等……)</p><p id="d2c7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请务必访问<a class="ae ko" href="https://joshuaotwell.com/where-blog_post-in-digital-owls-prose-best-of/" rel="noopener ugc nofollow" target="_blank">“最佳”</a>页面，收集我的最佳博文。</p></div><div class="ab cl kx ky hx kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="im in io ip iq"><p id="ae57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae ko" href="https://joshuaotwell.com/about/" rel="noopener ugc nofollow" target="_blank"> Josh Otwell </a>作为一名SQL开发人员和博客作者，他热衷于学习和成长。其他最喜欢的活动是让他埋头于一本好书、一篇文章或Linux命令行。其中，他喜欢桌面RPG游戏，阅读奇幻小说，并与妻子和两个女儿共度时光。</p><p id="a4b3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">免责声明:本文中的例子是关于如何实现类似结果的假设。它们不是最好的解决方案。所提供的大多数(如果不是全部)示例都是在个人发展/学习工作站环境中执行的，不应被视为生产质量或就绪。您的特定目标和需求可能会有所不同。使用那些最有利于你的需求和目标的实践。观点是我自己的。</p></div><div class="ab cl kx ky hx kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="im in io ip iq"><p id="c726" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="lp">原载于2021年10月27日</em><a class="ae ko" href="https://joshuaotwell.com/enable-file-attachment-with-codeigniter-4-form-helper/" rel="noopener ugc nofollow" target="_blank"><em class="lp">https://joshuaotwell.com</em></a>T22。</p></div></div>    
</body>
</html>