# 如何用 6 个字符写 JavaScript

> 原文：<https://levelup.gitconnected.com/how-to-write-javascript-with-6-characters-1c941c0e728e>

我在维基百科上读到的一篇关于 JavaScript APIs 的文章中发现了 JSF·里克(JSF)。看到名字后，我只好点开了。文章说 JSF 是 Javascript 的一个深奥的子集，其中只有字符'['，']'，'('，')'，'+'和'！'被使用。任何可以用普通 JavaScript 编写的代码都可以用 JSF 编写。说真的，什么都行。只有 6 个字符。

我认为它最好的应用是教像我这样的初学者一些关于 JavaScript 评估代码的方法。它在对易贝的一次攻击中颇有名气，该攻击诱骗易贝应用的用户在他们的设备上下载恶意软件。JSF 允许攻击者在易贝应用程序打开时运行未经授权的脚本，从而使这成为可能。易贝通常通过寻找任何脚本标签来保护自己免受此类攻击，并且不允许运行除自己之外的任何脚本。

不幸的是，对于他们和他们的一些用户来说，没有针对 JSF 的保护措施。黑客们能够运行他们的脚本是因为易贝没有留意简单的括号和圆括号。除了易贝的攻击，我找不到任何明显的恶意使用 JSF 的例子。显然，这种类型的攻击相对容易防范，易贝只是把球丢了。虽然 JSF 可能不是最先进的黑客工具，但它是学习 JavaScript 的好工具。如果你想尝试一下，有很多网站可以让你立刻将普通的 JavaScript 转换成 JSF。

![](img/806d41e46f1623e92da5c0ec34996343.png)

下面，你会发现一步一步的指导我们如何从我们开始的六个字符中得到我们需要的任何字符，伴随着一些来自我的开发者工具控制台的截图。请注意，当我们接触到字符时，我有时会正常地书写它们，而不是在 JSF。这是为了节省时间，也是为了更容易说明正在发生的事情。在 JSF，大多数字符，尤其是表达方式，往往会变得很长。根据维基百科，“alert(“Hello World！”)'在 JSF 书写时有 22948 个字符长。我希望你能原谅我想让这些截图比那个小一点。

我们从[，]，{，}，！、和+。访问其余字符的关键之一是 bang 操作符。如下图所示,`！[]`为 false，因为 bang 运算符是在空数组上调用的，这是真的。反之，`！！[]`是真的，因为它不是不真的。一会儿这将对我们非常有用。

![](img/b393009e936e677b21a06d418ecba5db.png)

幸运的是，'+'可以有多种用法。我们在 JavaScript 中最常用的一种方法是将数字相加并连接字符串。然而，还有另一种使用“+”的方法，称为一元加号。一元加号试图把它后面的任何东西变成一个数。如果我们在控制台中运行与上面相同的操作，在它们前面加上一个“+”，我们会看到一元加号将 false 计算为 0，将 true 计算为 1。现在，我们可以访问前两个数字了！

![](img/81aa89a3d2c3c04c748fe5a59e1a007e.png)

拥有数字 1 和“+”意味着我们现在可以得到任何我们想要的整数，因为我们也可以像小时候一样使用“+”。

![](img/ec0325d694c328652797aeb68183effc.png)

既然我们可以接触到任何数字，我们就有理由尝试找到一种使用字母的方法。谢天谢地，JavaScript 处理字符串的方式给了我们一些帮助。在 JavaScript 中，字符串被认为是类似数组的对象。这意味着我们能够访问字符串中的不同字母，就像我们访问数组中不同索引处的值一样。

![](img/c86db715474107cf74850bfc7806d5fc.png)

现在我们要做的就是找到一种不使用引号创建字符串的方法。我们目前能够在控制台中打印 true、false 和 undefined，但它们还不是字符串。“+”的力量是我们最好的朋友。如果我们有！[]'，这是假的，我们可以给它添加一个空数组。Javascript 将尝试在这里进行一些字符串连接，并将 false 转换为字符串，不添加任何内容(因为数组是空的)。从这里开始，如果我们想要访问特定的字母，我们不能像通常那样在末尾加上[0]。这是因为 javascript 会混淆操作的顺序，因为所有内容都在括号中。这是括号第一次发挥作用。将我们的 false 字符串括在括号中，为我们理清了运算的顺序。

![](img/7c9b4116a7537dd2b7fc2ba2c7809bfe.png)

所以，我们可以访问所有的布尔值，数字，和一些字母。多亏了这些字母，我们现在有了在数组上调用方法的方法。因为我们不能访问点，所以我们可以实现一个不常用的语法来调用我们的数组方法。下面，我将演示如何调用。填充一个空数组。一旦它返回 fill 方法的本机代码，我们就可以像以前一样从这里获取特定的字符。

![](img/67b843791ac8b93f9aef57653f75de50.png)

我们现在有足够的字符来调用构造函数方法。这将允许我们返回布尔型、数字型、字符串型和数组型的本机代码，这将为我们提供更多的字符。最重要的是，我们现在可以用大写字母“S”了。这将允许我们调用 toString 方法，并最终解锁字母表中剩余的字母。

![](img/60e69cec681f939d2d243ac43f93a343.png)

尽管我们已经可以创建字符串，但 toString 如此重要的原因是 radix 参数。这个参数允许我们将输出的基数改为 32，这将返回字母！

![](img/550ec5bc27cea25d6bdecd24cdd565a0.png)

现在我们已经可以访问所有这些字符和数字，最后一个障碍是获得评估我们写入代码的内容的能力。现在，我们基本上只是控制台记录一切。本质上，我们需要从我们可以访问的字符串中创建一个函数，以便能够让我们的代码真正做一些事情。谢天谢地，比我更有见识的人意识到我们可以在函数对象上使用构造函数来创建新函数。我们可以访问 fill 函数的构造函数，并使用该构造函数创建我们自己的函数，然后调用它们。

![](img/26880e535c77c5a8c2e88c6555e34ec2.png)

就是这样！一开始是阅读，然后点击维基百科上一个看起来很有趣的链接，最后变成了我觉得很有意思并且很喜欢写的东西。我还发现了一些关于 JavaScript 运行方式的真正有用的东西。我希望你喜欢和 JSF 一起玩！

我发现对撰写本文有帮助的资源:

1.  [JSF 维基百科文章](https://en.wikipedia.org/wiki/JSFuck)
2.  [JSF 的转换器](https://jscrew.it/)