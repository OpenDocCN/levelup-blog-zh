# 你的宠物的名字如何成为一个安全(或不那么安全)的密码

> 原文：<https://levelup.gitconnected.com/how-your-pets-name-becomes-a-secure-or-not-so-secure-password-95ceb27eb3ce>

![](img/55c38403745279dbf83ea926e50cc597.png)

由[阿林·威斯](https://unsplash.com/@krummel?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/safe-lock?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

你有没有想过*为什么*密码中包含 1 个大写字母、1 个小写字母、1 个符号、1 个数字和至少 8 个字符如此重要？`MyDogZuma1!`真的比`mydogzuma`更安全吗？

事实上，它是——基于密码中要求的最少 8 个字符，并且全部使用小写字母，黑客使用暴力最多需要 5.6383307e+12 次尝试才能破解 *mydogzuma* 。这听起来可能很多，但“很多”是相对的。当然，当计算机的功能只有现在的一小部分时，这可能已经足够了。但在当今世界，这不是拥有强大技术的坚定黑客的对手。

相比之下，同一个黑客最多需要 2.7335788e+20 次尝试才能破解出 *MyDogZuma1！*作为密码。基于这些数字(有些近似一些假设)， **MyDogZuma1！大约是 mydogzuma 的 48，482，057 倍。**

# 我们是怎么得出 48，482，057 的？

我们通过一些简单的数学计算得出了这个数字。如果你回想你高中/大学一年级时学过的数学，你可能记得学过概率和组合。你还记得那些问题:“如果我有一个装有 5 颗白色弹珠、10 颗蓝色弹珠和 20 颗黑色弹珠的袋子，通过选择 3 颗弹珠，我会选择每一颗的概率是多少？”

嗯，总共有 35 * 34 * 33 种组合，或者说，总共有 39270 种组合。有 5 * 10 * 20 种组合，或 1000 种组合，符合我们每种颜色选择一种的标准。因此，我们有 1，000 / 39，270 或 2.546%的概率选择精确的颜色组合。

> **组合总数**:35 * 34 * 33 = 39270
> 
> **满足要求的组合**:5 * 10 * 20 = 1000 个
> 
> **选择满足要求的概率**:1000/39270 = 2.546%

这和我们使用密码的原理是一样的。mydogzuma 是 9 个字符，字母表中有 26 个字符，最少需要 8 个字符。黑客首先尝试 8 个小写字符的所有组合:

> 总组合数:26⁸= 208827064576

但是他们最接近的是 mydogzum。然后他们会尝试 9 个小写字母的所有组合:

> 总组合数 : 26⁹ = 5.4295037e+12

你明白了。这些数字让我们有点难以理解，但我们可以从上面应用于 *MyDogZuma1 的等式中得到启示！*，26 变成 72 (26 个大写字符，26 个小写字符，10 个数字，根据允许的情况，大约 10 个符号)。

> **(26⁸+26⁹)**vs**(72⁸+72⁹+72⁰+72)**

上面比较的前半部分等于 5.6383307e+12，后半部分等于 2.7335788e+20。

> 2.7335788 e+20/5.6383307 e+12≈**48482058**

现在我们有了。给定暴力破解技术，对于那些不熟悉的人来说，这仅仅意味着黑客正在尝试密码或使用软件随机尝试密码，直到一个是正确的，这将需要(给定最坏的情况)48，482，058 次尝试来破解 *MyDogZuma1！*比破解 *mydogzuma 还要难。*

# 但是，如果我的密码泄露了怎么办？

如前所述，以上内容保护您免受暴力攻击，但是在选择密码时的所有预防措施在您的纯文本密码被泄露的情况下显然没有帮助。你可能听说过数据泄露和公司因明文存储密码而陷入麻烦的故事。这是一个大禁忌，因为一旦您的*大写+小写+符号+数字*密码组合被提交存储和登录参考，它需要在数据库持久化之前被散列，以便真正安全。

## 哈希是什么？

在软件工程中，一种叫做**散列**算法的东西被用来进一步保护密码。杂碎这个词来自烹饪术语，杂碎食物的意思是将食物切片并混合。哈希算法的作用与此类似，它们获取实际的密码，将其分割并混合。结果是用户的密码作为一个不可理解的十六进制值字符串返回。

虽然返回值看起来是随机的，但事实并非如此。将 *mydogzuma* 传递给同一个哈希算法**将总是返回相同的哈希字符串。**为了避免密码相同的两个用户以相同的哈希密码结束，在哈希之前，将 **salt** 添加到每个密码中。Salt 是一个随机字符串，对于一个用户来说是唯一的，添加它是为了将其与另一个用户的相同密码区分开来。得到的散列看起来一点都不像。

当用户登录时，找到与用户名输入相匹配的记录，将唯一的 salt 添加到密码输入中，密码+salt 通过相同的哈希算法传递，哈希后的密码输入+salt 与哈希后的存储密码+salt 进行比较，以检查身份验证。

一个强大的哈希算法实际上是不可能在这个时候逆向工程。这意味着，即使黑客得到了完整的散列密码数据库，它也是毫无用处的。哈希算法有一个**成本，**是运行它所需要的计算机能力。这一成本考虑到了可伸缩性——随着计算机变得更快，散列可能会变得更慢。成本越高，有人黑的密码就越贵。

## 泄露的哈希密码有多安全？

因此，如果密码无论如何都是散列的，并且散列不能被反向工程，那么我的密码是什么又有什么关系呢？首先，可悲的是，太多的公司没有妥善保护他们的数据和密码。但更重要的是，一种暴力破解可以被用于泄露的散列密码列表。最常见的密码列表可以通过哈希算法，然后将哈希值与存储的密码进行比较。如果每个密码都添加了独特的 salt，那么这种努力仍然是徒劳的。如果不是，在你的密码中加入一些随机的大写字母或符号可以证明是一道坚固的防线。

# 关于散列与加密的快速说明

我只想花点时间澄清一下**加密和哈希不是一回事**。加密是数据安全的一种形式，它将数据转换成无法识别的东西，除非你有密钥。密钥必须存放在某个地方以备将来使用。如果加密用于密码安全，所有密钥都必须存储在服务器上，如果任何人获得了密钥，整个密码数据库都将受到威胁。