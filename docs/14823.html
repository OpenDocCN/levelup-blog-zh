<html>
<head>
<title>2. Almost Non-Decreasing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2.几乎不递减</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/almost-non-decreasing-1670d1bac6b0?source=collection_archive---------24-----------------------#2022-12-26">https://levelup.gitconnected.com/almost-non-decreasing-1670d1bac6b0?source=collection_archive---------24-----------------------#2022-12-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="201a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">问题:写一个函数检查一个数组是否几乎非减，最多允许一个减元素。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/dbe1e4c57cd6f94299c72bc0fce51419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*Y4Ux42nF-wfpEA4AZ-LGaA.png"/></div></figure><p id="19dc" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">-比如[12，6，8]，你可以把12改成6 -&gt; [6，6，8]，它就变成非减了，你应该返回true，</p><p id="9f6a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">-比如[8，6，3]，你需要改变两个数使其非减，应该返回false。</p><h2 id="9c71" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated">提示:</h2><p id="cec6" class="pw-post-body-paragraph kq kr it ks b kt mf ju kv kw mg jx ky kz mh lb lc ld mi lf lg lh mj lj lk ll im bi translated">-您可以遍历数组并进行冒泡比较，</p><p id="0c40" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">-有2种情况，您应该替换前一个元素或提升当前元素。</p><h2 id="7422" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated">解决方案:</h2><pre class="kj kk kl km gt mk ml mm bn mn mo bi"><span id="bd38" class="mp ln it ml b be mq mr l ms mt">func almostNonDecreasing(array: [Int]) -&gt; Bool {<br/>  // 1.<br/>  guard array.count &gt; 1 else { return true }<br/>  var array = array<br/>  var maxChange = 1<br/>  // 2.<br/>  for i in 1..&lt;array.count {<br/>    if array[i] &lt; array[i - 1] {<br/>      // 3.<br/>      if i - 2 &lt; 0 || array[i - 2] &lt;= array[i] {<br/>        array[i - 1] = array[i];<br/>      } else {<br/>        array[i] = array[i - 1];<br/>      }<br/>      // 4.<br/>      maxChange -= 1<br/>      if maxChange &lt; 0 { return false }<br/>    }<br/>  }<br/>  // 5.<br/>  return true<br/>}</span></pre><h2 id="3bf6" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated">解释:</h2><p id="2eab" class="pw-post-body-paragraph kq kr it ks b kt mf ju kv kw mg jx ky kz mh lb lc ld mi lf lg lh mj lj lk ll im bi translated">1.如果数组只包含一个元素，那么它是非递减的。</p><pre class="kj kk kl km gt mk ml mm bn mn mo bi"><span id="9492" class="mp ln it ml b be mq mr l ms mt">guard array.count &gt; 1 else { return true }</span></pre><p id="b5d5" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">2.让我们迭代数组的其他每个元素。</p><pre class="kj kk kl km gt mk ml mm bn mn mo bi"><span id="d7d2" class="mp ln it ml b be mq mr l ms mt">for i in 1..&lt;array.count {</span></pre><p id="999b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">3.如果前一个元素大于当前元素，我们有一个减少。现在有两个选项使它不递减:</p><p id="960d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">-我们没有两个先前的元素，或者第二个先前的元素低于当前的元素，则为先前的元素分配与当前元素相同的值，</p><p id="9f8b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">-否则，将前一个元素的值赋给当前元素。</p><pre class="kj kk kl km gt mk ml mm bn mn mo bi"><span id="90d6" class="mp ln it ml b be mq mr l ms mt">if array[i] &lt; array[i - 1] {<br/>  if i - 2 &lt; 0 || array[i - 2] &lt;= array[i] {<br/>    array[i - 1] = array[i];<br/>  } else {<br/>    array[i] = array[i - 1];<br/>  }</span></pre><p id="6b9c" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">4.如果我们已经做了改变，返回false，因为我们需要更多的改变来使它不减少。</p><pre class="kj kk kl km gt mk ml mm bn mn mo bi"><span id="1c98" class="mp ln it ml b be mq mr l ms mt">maxChange -= 1<br/>if maxChange &lt; 0 { return false }</span></pre><p id="2baa" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">5.当我们到达这里时，数组几乎是不递减的。</p><pre class="kj kk kl km gt mk ml mm bn mn mo bi"><span id="91dc" class="mp ln it ml b be mq mr l ms mt">return true</span></pre><h2 id="87cc" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated">复杂性:</h2><p id="3d05" class="pw-post-body-paragraph kq kr it ks b kt mf ju kv kw mg jx ky kz mh lb lc ld mi lf lg lh mj lj lk ll im bi translated">-时间复杂度:当我们迭代数组时，这是线性时间复杂度O(n)，</p><p id="117a" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">-空间复杂度:由于我们仅使用一个额外的变量来存储改变的数量，这是在恒定的间距O(1)中进行的。</p><h2 id="366f" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated">测试案例:</h2><pre class="kj kk kl km gt mk ml mm bn mn mo bi"><span id="94db" class="mp ln it ml b be mq mr l ms mt">public func testAlmostNonDecreasing() {<br/>  assert(almostNonDecreasing(array: [12, 6, 8]) == true, "almostNonDecreasing 1 not equal")<br/>  assert(almostNonDecreasing(array: [8, 6, 3]) == false, "almostNonDecreasing 2 not equal")<br/>  assert(almostNonDecreasing(array: [7, 8, 9, 10, 5, 1]) == false, "almostNonDecreasing 3 not equal")<br/>  assert(almostNonDecreasing(array: [7, 8, 9, 10, 5, 9]) == false, "almostNonDecreasing 4 not equal")<br/>  assert(almostNonDecreasing(array: [7, 8, 9, 10, 5, 16]) == true, "almostNonDecreasing 5 not equal")<br/>}</span></pre><h2 id="6150" class="lm ln it bd lo lp lq dn lr ls lt dp lu kz lv lw lx ld ly lz ma lh mb mc md me bi translated">后续行动:</h2><p id="9799" class="pw-post-body-paragraph kq kr it ks b kt mf ju kv kw mg jx ky kz mh lb lc ld mi lf lg lh mj lj lk ll im bi translated">没有后续问题。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><p id="4404" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated"><a class="ae nb" href="https://medium.com/@jbstevenard/learn-data-structures-and-algorithms-with-swift-5-6-d9f36a4027dd" rel="noopener"> &lt; &lt;数据结构、算法&amp;面试题&gt; &gt; </a></p><div class="nc nd gp gr ne nf"><a href="https://medium.com/@jbstevenard/membership" rel="noopener follow" target="_blank"><div class="ng ab fo"><div class="nh ab ni cl cj nj"><h2 class="bd iu gy z fp nk fr fs nl fu fw is bi translated">通过我的推荐链接加入Medium—JB stevenard</h2><div class="nm l"><h3 class="bd b gy z fp nk fr fs nl fu fw dk translated">阅读jb stevenard的每一个故事(以及媒体上成千上万的其他作家)。你的会员费直接支持jb…</h3></div><div class="nn l"><p class="bd b dl z fp nk fr fs nl fu fw dk translated">medium.com</p></div></div><div class="no l"><div class="np l nq nr ns no nt ko nf"/></div></div></a></div></div></div>    
</body>
</html>