<html>
<head>
<title>Am I Overreacting? Or is React Over-Reacting?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æˆ‘ååº”è¿‡åº¦äº†å—ï¼Ÿè¿˜æ˜¯Reactååº”è¿‡åº¦äº†ï¼Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://levelup.gitconnected.com/am-i-overreacting-or-is-react-over-reacting-d3e7d0cb4d37?source=collection_archive---------1-----------------------#2022-12-28">https://levelup.gitconnected.com/am-i-overreacting-or-is-react-over-reacting-d3e7d0cb4d37?source=collection_archive---------1-----------------------#2022-12-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/56eaa711b6ba410ab0b1eff0b395e8fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oq11KE9qUSdyIuTDo23O_A.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk translated">ä¸€ä¸ªçœŸæ­£çš„å›¾ä¹¦é¦†</figcaption></figure><p id="ab4b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><em class="ld">åŸè½½äº</em><a class="ae le" href="https://devtails.xyz/@adam/am-i-overreacting-or-is-react-over-reacting" rel="noopener ugc nofollow" target="_blank"><em class="ld">https://devtails . XYZ</em></a><em class="ld">ã€‚</em></p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="4ca8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu"> <em class="ld">ç¼–è¾‘2023å¹´1æœˆ4æ—¥</em> </strong></p><p id="4d11" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><em class="ld">ä¸å‡ºæ‰€æ–™ï¼Œè¿™ä¸ªå…·ä½“çš„ä¾‹å­å¼•èµ·äº†å¾ˆå¤šå…³æ³¨ã€‚è™½ç„¶æœ‰äº›æ‰¹è¯„æ˜¯æœ‰æ ¹æ®çš„ï¼Œä½†è¿™ç¯‡æ–‡ç« çš„é‡ç‚¹å¹¶ä¸æ˜¯æ‰€å±•ç¤ºçš„å…·ä½“è¡Œä¸ºã€‚ç›¸åï¼Œå®ƒæ˜¯å…³äºæ¼”ç¤ºå…·æœ‰å¤§é‡å…ƒç´ çš„å•ä¸ªReactæ¸²æŸ“çš„å¼€é”€ï¼Œå¹¶æ˜¾ç¤ºæ‚¨éœ€è¦æ·»åŠ å¤šå°‘é¢å¤–çš„å±‚æ¥æ’¤æ¶ˆReactæä¾›çš„è‡ªåŠ¨æ¸²æŸ“ã€‚å¦‚æœæˆ‘èƒ½æƒ³å‡ºä¸€ä¸ªæ›´å¥½çš„ä¾‹å­ï¼Œæˆ‘å¯èƒ½ä¼šåšåç»­å·¥ä½œã€‚</em></p><p id="6ce5" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¿™ç¯‡æ–‡ç« çš„ä»£ç å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<a class="ae le" href="https://github.com/adamjberg/react-overreact" rel="noopener ugc nofollow" target="_blank">ã€‚</a></p><p id="3d26" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">å½“æˆ‘ç¬¬ä¸€æ¬¡å¼€å§‹åšwebå¼€å‘æ—¶ï¼Œä¸»è¦æ˜¯ç”¨Python/Djangoã€‚ä¸€åˆ‡éƒ½æ˜¯æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„ï¼Œæˆ‘ä»æ¥æ²¡æœ‰æƒ³è¿‡â€œæ¸²æŸ“æ€§èƒ½â€ã€‚10å¹´åï¼Œéšç€è®¡ç®—æœºé€Ÿåº¦è‡³å°‘æé«˜ä¸€å€ï¼Œæ¸²æŸ“æ€§èƒ½ç°åœ¨æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´æˆé—®é¢˜ã€‚åƒReactè¿™æ ·çš„å•é¡µåº”ç”¨ç¨‹åºå’Œå‰ç«¯åº“é¼“åŠ±å¹¶æ”¯æŒé«˜åº¦åŠ¨æ€çš„ç½‘é¡µã€‚ä¸å¹¸çš„æ˜¯ï¼Œæ ¹æ®æˆ‘çš„ç»éªŒï¼Œé»˜è®¤æ¨èçš„Reactä»£ç ç¼–å†™æ–¹å¼å®é™…ä¸Šå¹¶ä¸èƒ½å¾ˆå¥½åœ°æ”¯æŒé«˜åº¦åŠ¨æ€çš„é¡µé¢ã€‚</p><p id="25b1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†æ¢ç´¢æ ‡å‡†Reactä»£ç å¸¦æ¥çš„é—®é¢˜ï¼Œæ”¹è¿›Reactæ€§èƒ½çš„æ¨èé€‰é¡¹ï¼Œæœ€åç”¨vanilla JSä¸­çš„ä¾‹å­æ¥åé©³è¿™äº›é—®é¢˜ã€‚</p><h2 id="5e62" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">æˆ‘ä»¬æ­£åœ¨å»ºé€ çš„ä¸œè¥¿</h2><p id="9f4e" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">æƒ³å‡ºä¸€ä¸ªç®€æ´çš„ä¾‹å­æ˜¯å›°éš¾çš„ï¼Œå› ä¸ºçœŸå®é¡¹ç›®çš„å¤æ‚æ€§æ›´å¥½åœ°å±•ç¤ºäº†æ‰€æœ‰äº‹æƒ…æ˜¯å¦‚ä½•ç»“åˆåœ¨ä¸€èµ·çš„ã€‚è¿™ç¯‡æ–‡ç« å°†ä»‹ç»ä¸€ä¸ªåŸºæœ¬çš„â€œåŠ¨æ€â€ä¾‹å­ï¼Œçªå‡ºReactåœ¨çŠ¶æ€é¢‘ç¹å˜åŒ–æ—¶çš„è¡¨ç°ã€‚è¿™ä¸ªä¾‹å­æ˜¯500ä¸ªæ–‡æœ¬divï¼Œå½“é¼ æ ‡æ‚¬åœåœ¨å…¶ä¸­ä¸€ä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œå®ƒä»¬çš„èƒŒæ™¯é¢œè‰²ä¼šæ›´æ–°ã€‚åœ¨æ¯ä¸€ç»„ä¿®æ”¹ä¹‹åï¼Œæˆ‘ä¼šåŒ…å«æ¦‚è¦åˆ†æå™¨çš„æºä»£ç å’Œæˆªå›¾ï¼Œä»¥æ˜¾ç¤ºReactåœ¨æ¸²æŸ“ä¸ŠèŠ±è´¹äº†å¤šå°‘æ—¶é—´ã€‚</p><h2 id="7ccd" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä½¿ç”¨åˆ›å»ºReactåº”ç”¨ç¨‹åºåˆå§‹åŒ–é¡¹ç›®</h2><p id="c444" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">æ­¤ä»£ç çš„åˆå§‹åŸºç¡€æ¥è‡ªcreate-react-app typescriptæ¨¡æ¿ã€‚æˆ‘åªä¿®æ”¹äº†ç¤ºä¾‹ä¸­çš„<code class="fe mk ml mm mn b">App.tsx</code>æ–‡ä»¶ï¼Œä»¥ä¾¿æ›´å®¹æ˜“ä¸€æ¬¡çœ‹åˆ°æ‰€æœ‰çš„å˜åŒ–ã€‚</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="5078" class="lm ln it mn b gy mw mx l my mz">npx create-react-app react-overreact --template typescript</span></pre><h2 id="9429" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ç®€å•ååº”æº¶æ¶²</h2><p id="cb4e" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">åœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†æ•è·å½“å‰æ‚¬åœçš„å…ƒç´ ä½œä¸ºçŠ¶æ€ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥æ›´æ–°å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ã€‚åœ¨ä½ ä¸¾èµ·ä½ çš„å¹²è‰å‰è¯´è¿™å¯ä»¥ç®€å•åœ°ç”¨CSS <code class="fe mk ml mm mn b">:hover</code>å®Œæˆä¹‹å‰ï¼Œæƒ³è±¡ä¸€ä¸‹è¿™ä¸ªæ‚¬åœçŠ¶æ€æ˜¯å…¶ä»–äº‹æƒ…æ‰€éœ€è¦çš„ï¼Œæˆ‘ä»¬åªæ˜¯ä½¿ç”¨<code class="fe mk ml mm mn b">backgroundColor</code>å±æ€§ä½œä¸ºä¸€ç§å¯è§†åŒ–çŠ¶æ€å˜åŒ–çš„æ–¹å¼ã€‚</p><p id="de52" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¯·å‚è§ä¸‹é¢çš„ä»£ç ã€‚</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="cc59" class="lm ln it mn b gy mw mx l my mz">// App.tsx<br/>import React, { useState } from "react";<br/>import "./App.css";<br/><br/>function App() {<br/>  const [hoveredElementId, setHoveredElementId] = useState("");<br/><br/>  const elements = [];<br/><br/>  for (let i = 0; i &lt; 500; i++) {<br/>    const elementId = String(i);<br/>    const isHovered = hoveredElementId === elementId;<br/><br/>    elements.push(<br/>      &lt;div <br/>        key={i}<br/>        style={ { marginBottom: 8, backgroundColor: isHovered ? "#eee" : "" } }<br/>        onMouseEnter={() =&gt; {<br/>          setHoveredElementId(elementId);<br/>        }}<br/>        onMouseLeave={()=&gt; {<br/>          if (elementId == hoveredElementId) {<br/>            setHoveredElementId("");<br/>          }<br/>        }}<br/>      &gt;<br/>        div<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/><br/>  return &lt;&gt;{elements}&lt;/&gt;;<br/>}<br/><br/>export default App;</span></pre><h2 id="6e5d" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä»¿å½¢é“£åºŠ</h2><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/e50f1797017a166c0d4d4dfc5dac00e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kAG6CT30NXY2TBBW.png"/></div></div></figure><p id="c839" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨M1 Macbook Pro <strong class="kh iu">ä¸Šï¼Œå•ä¸ªæ¸²æŸ“æ—¶é’Ÿåœ¨3æ¯«ç§’åˆ°9æ¯«ç§’ä¹‹é—´ã€‚</strong>ä½ è¿˜å¯ä»¥çœ‹åˆ°ï¼Œæ¯å½“ä¸€ä¸ªæ–°å…ƒç´ è¢«æ‚¬åœæ—¶ï¼Œä¸€ä¸ªæ–°çš„æ¸²æŸ“è¢«è§¦å‘ã€‚å¦‚æœä½ è®¤ä¸º10æ¯«ç§’ä»¥ä¸‹å¬èµ·æ¥å¾ˆå¿«ï¼Œè¯·è®°ä½ï¼ŒM1èŠ¯ç‰‡æ˜¯ç›®å‰æœ€å¿«çš„å•çº¿ç¨‹æ‰§è¡ŒCPUä¹‹ä¸€ã€‚å¾ˆå®¹æ˜“æƒ³è±¡ä¼šæœ‰æ¯”è¿™è‡³å°‘æ…¢ä¸¤å€çš„æ—§è®¾å¤‡ã€‚è¿™ä¹Ÿæ˜¯æ‰€æœ‰æœ€ç®€å•çš„æ–‡æœ¬å…ƒç´ ã€‚å³ä½¿åªæ˜¯é‡å¤å…ƒç´ ä¸­çš„å‡ ä¸ªå…ƒç´ ä¹Ÿä¼šå¢åŠ å‡ æ¯«ç§’çš„æ¸²æŸ“æ—¶é—´ã€‚</p><p id="0966" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æˆ‘æ‰¿è®¤ä½¿ç”¨å¼€å‘æ„å»ºä¼šæœ‰â€œä¸€äº›â€å¼€é”€ï¼Œä½†æ˜¯æˆ‘ä¸è®¤ä¸ºæ‰“å¼€ç”Ÿäº§æ¨¡å¼ä¼šå¯¹è¿™ä¸ªä¾‹å­æœ‰å®è´¨æ€§çš„å½±å“ã€‚</p><p id="e8bc" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh iu">æ›´æ–°:</strong></p><p id="5563" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æˆ‘å°è¯•äº†å‡ ç§ä¸åŒçš„æ–¹æ³•åœ¨ç”Ÿäº§ä¸­è¿›è¡Œåˆ†æï¼Œä½†æ˜¯æ¯ç§æ–¹æ³•éƒ½å¾—å‡ºäº†ç›¸åŒçš„ç»“è®ºã€‚ä¸æˆ‘åœ¨æœ¬æ–‡ç»“å°¾çš„æœ€åä¸€ä¸ªä¾‹å­ç›¸æ¯”ï¼Œæœ€å…¬å¹³çš„æ¯”è¾ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„ç”Ÿäº§ç‰ˆæœ¬(<code class="fe mk ml mm mn b">yarn build</code>)å’ŒChrome Performanceæ ‡ç­¾ã€‚</p><h2 id="e0e8" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">Chromeæ€§èƒ½æ ‡ç­¾</h2><p id="24c1" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">ä¸‹é¢ä½ å¯ä»¥çœ‹åˆ°æ²¡æœ‰ä»»ä½•é¢å¤–Reactå¼€å‘å¼€é”€çš„æ•°å­—çœ‹èµ·æ¥ä¸Reactå¼€å‘å·¥å…·æ˜¾ç¤ºçš„éå¸¸ç›¸ä¼¼ã€‚</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/7c2ac1e88cff71b572157223343d8358.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bLM90ZxGBCwAJG1s.png"/></div></div></figure><p id="40ee" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æˆ‘æ¥è‡ªä¸€ä¸ªæ¸¸æˆå¼€å‘èƒŒæ™¯ï¼Œåœ¨é‚£é‡Œä½ æ ¹æ·±è’‚å›ºåœ°è®¤ä¸ºï¼Œä¸ºäº†ä¿æŒæ¯ç§’60å¸§ï¼Œä½ çš„å¸§éœ€è¦åœ¨16æ¯«ç§’å†…å®Œæˆæ‰€æœ‰å¤„ç†ã€‚ä»…ä»…ç”¨äº†500ä¸ªå…ƒç´ ï¼Œæˆ‘å°±å·²ç»ç”¨Reactæ¥è¿‘è¿™ä¸ªé—¨æ§›äº†ã€‚ä¸€æ—¦ä¸€å¸§è¶…è¿‡16æ¯«ç§’ï¼Œåœé¡¿å˜å¾—æ˜æ˜¾ï¼Œå¹¶å¯¼è‡´æ’é˜Ÿï¼Œå¯¼è‡´å¯æ€•çš„ç”¨æˆ·ä½“éªŒã€‚</p><h2 id="8a6c" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä¼˜åŒ–Reactçš„æ€§èƒ½</h2><p id="cb7f" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">åœ¨Reactçš„<a class="ae le" href="https://reactjs.org/docs/optimizing-performance.html" rel="noopener ugc nofollow" target="_blank">ä¼˜åŒ–æ€§èƒ½é¡µé¢</a>ä¸Šï¼Œä»–ä»¬å£°ç§°â€œå¯¹äºè®¸å¤šåº”ç”¨ç¨‹åºæ¥è¯´ï¼Œä½¿ç”¨Reactå°†å¯¼è‡´å¿«é€Ÿçš„ç”¨æˆ·ç•Œé¢ï¼Œè€Œæ— éœ€åšå¤ªå¤šå·¥ä½œæ¥ä¸“é—¨ä¼˜åŒ–æ€§èƒ½ã€‚â€åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™åº”è¯¥é‡æ–°æªè¾ä¸ºâ€œå¤§å¤šæ•°åº”ç”¨ä¸ä¼šæœ‰è¶³å¤Ÿçš„å…ƒç´ æ¥æ‹…å¿ƒReactçš„é»˜è®¤è¿‡åº¦æ¸²æŸ“â€ã€‚</p><p id="9d9a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¿™ä¸ªåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå»ºè®®æ˜¯<a class="ae le" href="https://reactjs.org/docs/optimizing-performance.html#virtualize-long-lists" rel="noopener ugc nofollow" target="_blank">è™šæ‹ŸåŒ–é•¿åˆ—è¡¨</a>ã€‚æ ¹æ®ä»–ä»¬çš„æ–‡æ¡£:â€œå¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå‘ˆç°å¾ˆé•¿çš„æ•°æ®åˆ—è¡¨(æ•°ç™¾æˆ–æ•°åƒè¡Œ)ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ä¸€ç§ç§°ä¸ºâ€œçª—å£â€çš„æŠ€æœ¯â€ã€‚è¿™åœ¨æ— é™åˆ—è¡¨çš„é¢†åŸŸä¸­æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä½†æ˜¯åœ¨100å¤šä¸ªå…ƒç´ ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸å¿…è¦çš„å¤æ‚é—®é¢˜ã€‚åœ¨æˆ‘æ’°å†™æœ¬æ–‡çš„çœŸå®ç¤ºä¾‹ä¸­ï¼Œæœ‰é«˜åº¦åµŒå¥—çš„ç»„ä»¶ï¼Œè¿™æ„å‘³ç€æœ‰æ—¶å•ä¸ªå…ƒç´ éå¸¸ç®€å•ï¼Œè€Œæœ‰æ—¶å•ä¸ªå…ƒç´ å¯èƒ½æœ‰å‡ ä¸ªå…¶ä»–ç»„ä»¶ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•è®¾ç½®çª—å£éœ€è¦è®¡ç®—æ¯ä¸ªå…ƒç´ çš„åŠ¨æ€é«˜åº¦ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ¯”ä¸€å¼€å§‹å°±æ˜¾ç¤ºæ‰€æœ‰å…ƒç´ æ›´å·®çš„æ€§èƒ½ã€‚</p><p id="379d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ä¸‹ä¸€ä¸ªä¾‹å­å»ºè®®<a class="ae le" href="https://reactjs.org/docs/optimizing-performance.html#avoid-reconciliation" rel="noopener ugc nofollow" target="_blank">é¿å…å’Œè§£</a>ã€‚æœ¬è´¨ä¸Šæ˜¯å»ºè®®æ›´æ–°ç»„ä»¶ï¼Œè¿™æ ·å¦‚æœé“å…·æ²¡æœ‰æ”¹å˜ï¼Œç»„ä»¶å°±ä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚å½“æˆ‘ç¬¬ä¸€æ¬¡äº†è§£åˆ°è¿™ä¸€ç‚¹æ—¶ï¼Œæˆ‘ä¸å¾—ä¸é‡å¤ä¸€éã€‚æˆ‘è®¤ä¸ºReactçš„æ•´ä¸ªè¦ç‚¹æ˜¯ï¼Œå¦‚æœé“å…·æ²¡æœ‰æ”¹å˜ï¼Œé‚£ä¹ˆç»„ä»¶ä¸­å°±æ²¡æœ‰å·¥ä½œè¦åšã€‚ä½†ç»“æœæ˜¯<strong class="kh iu">ååº”åªæ˜¯ç›²ç›®åœ°é‡æ–°æ¸²æŸ“æ•´ä¸ªå­æ ‘ï¼Œå¦‚æœä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å±æ€§æ”¹å˜çš„è¯ã€‚</strong></p><p id="56f7" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¿˜è®°å¾—å»ºè®®è¿™ä¸€ç‚¹çš„æœ‰ç”¨é¡µé¢å—ï¼Ÿå®é™…ä¸Šï¼Œæ²¡æœ‰ä¸€ä¸ªå‘Šè¯‰ä½ å¦‚ä½•ç”¨åŠŸèƒ½ç»„ä»¶åšåˆ°è¿™ä¸€ç‚¹ã€‚reactç½‘ç«™ä¸Šå”¯ä¸€ä¸€ä¸ªè‡´åŠ›äºæ€§èƒ½ä¼˜åŒ–çš„é¡µé¢å¹¶æ²¡æœ‰ç»™å‡ºä»»ä½•å…³äºå¦‚ä½•ä½¿ç”¨é’©å­è¿›è¡Œä¼˜åŒ–çš„ä¿¡æ¯(è¿™æ˜¯ç°åœ¨æ¨èçš„Reactä½¿ç”¨æ–¹å¼)ã€‚ç›¸åï¼Œå…³äºé’©å­ä¼˜åŒ–çš„ç»†èŠ‚éšè—åœ¨<a class="ae le" href="https://reactjs.org/docs/hooks-faq.html#performance-optimizations" rel="noopener ugc nofollow" target="_blank">é’©å­å¸¸è§é—®é¢˜</a>ä¸­ï¼Œä¸€æ—¦å‘ç°å°±å¤ªæ™šäº†ã€‚</p><h2 id="9de3" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">é¿å…ä¸React.memoåè°ƒ(æˆ–ä¸åè°ƒ)</h2><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="c8cd" class="lm ln it mn b gy mw mx l my mz">import React, { useState } from "react";<br/>import "./App.css";<br/><br/>type ElementProps = {<br/>  id: string;<br/>  hoveredElementId: string;<br/>  onMouseEnter: (id: string) =&gt; void;<br/>  onMouseLeave: (id: string) =&gt; void;<br/>};<br/><br/>function Div(props: ElementProps) {<br/>  const isHovered = props.hoveredElementId === props.id;<br/><br/>  return (<br/>    &lt;div<br/>      style={ { marginBottom: 8, backgroundColor: isHovered ? "#eee" : "" } }<br/>      onMouseEnter={() =&gt; {<br/>        props.onMouseEnter(props.id);<br/>      }}<br/>      onMouseLeave={() =&gt; {<br/>        props.onMouseLeave(props.id);<br/>      }}<br/>    &gt;<br/>      div<br/>    &lt;/div&gt;<br/>  );<br/>}<br/><br/>function App() {<br/>  const [hoveredElementId, setHoveredElementId] = useState("");<br/><br/>  const handleMouseEnter = (id: string) =&gt; {<br/>    setHoveredElementId(id);<br/>  };<br/><br/>  const handleMouseLeave = (id: string) =&gt; {<br/>    if (id == hoveredElementId) {<br/>      setHoveredElementId("");<br/>    }<br/>  };<br/><br/>  const elements = [];<br/><br/>  for (let i = 0; i &lt; 500; i++) {<br/>    elements.push(<br/>      &lt;Div<br/>        key={i}<br/>        id={String(i)}<br/>        hoveredElementId={hoveredElementId}<br/>        onMouseEnter={handleMouseEnter}<br/>        onMouseLeave={handleMouseLeave}<br/>      /&gt;<br/>    );<br/>  }<br/><br/>  return &lt;&gt;{elements}&lt;/&gt;;<br/>}<br/><br/>export default App;</span></pre><p id="2d34" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬å°†å†…éƒ¨å…ƒç´ æ”¾å…¥å®ƒè‡ªå·±çš„Reactç»„ä»¶ä¸­ï¼Œä»¥ä¾¿ä»é˜²æ­¢é‡æ–°æ¸²æŸ“çš„èƒ½åŠ›ä¸­å—ç›Šã€‚ä»åŠŸèƒ½ä¸Šè®²ï¼Œè¿™åº”è¯¥ä¸æˆ‘ä»¬å¼€å§‹çš„ç¬¬ä¸€ä¸ªä»£ç å—éå¸¸ç›¸ä¼¼ã€‚åˆ†æå™¨æ˜¾ç¤ºæˆ‘ä»¬ç°åœ¨åœ¨4æ¯«ç§’åˆ°16æ¯«ç§’ä¹‹é—´ã€‚æœ€åä¸€ä¸ªæ•°å­—åº”è¯¥çœ‹èµ·æ¥å¾ˆç†Ÿæ‚‰â€¦æˆ‘ä»¬å·²ç»ä»å¼•å…¥ä¸€ä¸ªReactç»„ä»¶æ¥åŒ…è£…æˆ‘ä»¬çš„åŸºæœ¬divå¼€å§‹æ¥è¿‘60fpsäº†(æ‚¨å¯ä»¥å‘æŒ¥æƒ³è±¡åŠ›æ¥æƒ³è±¡å½“å†…éƒ¨ç»„ä»¶æœ‰å¤šä¸ªè‡ªå·±çš„å­ç»„ä»¶æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ)ã€‚</p><h2 id="b314" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä»¿å½¢é“£åºŠ</h2><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/d27027c7e2f360decad0a2983adbc1b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jjba3UjXZfDjnJXo.png"/></div></div></figure><p id="b0fd" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ¯å½“æ‚¬åœçš„å…ƒç´ idæ”¹å˜æ—¶ï¼Œ<strong class="kh iu">ä¸Šé¢çš„ä»£ç ä»ç„¶è§¦å‘å®Œå…¨æ¸²æŸ“ã€‚</strong>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å°†<code class="fe mk ml mm mn b">hoveredElementId</code>ä¼ é€’ç»™å…ƒç´ ï¼Œå› æ­¤æ¯æ¬¡æ‚¬åœçš„å…ƒç´ æ”¹å˜æ—¶ï¼Œæ¯ä¸ªå­©å­çš„é“å…·éƒ½ä¼šæ”¹å˜ï¼Œä»è€Œè§¦å‘æ‰€æœ‰å†…å®¹çš„å®Œå…¨é‡æ–°æ¸²æŸ“ã€‚</p><h2 id="993f" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä½¿ç”¨<code class="fe mk ml mm mn b">React.memo</code>å’Œ<code class="fe mk ml mm mn b">propsAreEqual</code>å›è°ƒ</h2><p id="9a80" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">å¦‚æœ<code class="fe mk ml mm mn b">hoveredElementId</code>æ˜¯å½“å‰å…ƒç´ (åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°backgroundColor)ï¼Œæˆ–è€…å‰ä¸€ä¸ª<code class="fe mk ml mm mn b">hoveredElementId</code>ä¸å½“å‰å…ƒç´ åŒ¹é…(åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ç§»é™¤backgroundColoræ ·å¼)ï¼Œåˆ™å…ƒç´ åªéœ€è¦é‡æ–°å‘ˆç°ã€‚</p><p id="6c9d" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ£€æŸ¥<code class="fe mk ml mm mn b">prevProps.hoveredElementId</code>æˆ–<code class="fe mk ml mm mn b">nextProps.hoveredElementId</code>æ˜¯å¦åŒ¹é…æˆ‘ä»¬çš„å…ƒç´ çš„idã€‚å¦‚æœæ˜¯ï¼Œæˆ‘ä»¬è¿”å›<code class="fe mk ml mm mn b">false</code>æ¥æŒ‡ç¤ºç»„ä»¶åº”è¯¥è¢«é‡æ–°æ¸²æŸ“ã€‚æˆ‘ä»¬è¿˜éœ€è¦ç¡®ä¿å¯¹å…¶ä»–å±æ€§çš„æ›´æ”¹ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼Œå› æ­¤æˆ‘ä»¬è¦ç¡®ä¿ä½¿ç”¨lodashçš„<code class="fe mk ml mm mn b">isEqual</code>å¯¹å…¶ä½™å±æ€§æ‰§è¡Œç›¸ç­‰æ£€æŸ¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒReact.memoè¿›è¡Œæµ…å±‚æ¯”è¾ƒï¼Œä½†æ®æˆ‘æ‰€çŸ¥ï¼Œå®ƒä»¬å®é™…ä¸Šå¹¶æ²¡æœ‰å…¬å¼€ä¸€ä¸ªæ–¹ä¾¿çš„å‡½æ•°ä¾›æ‚¨ç”¨æ¥è¿›è¡Œè‡ªå·±çš„æµ…å±‚æ¯”è¾ƒã€‚</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="fac7" class="lm ln it mn b gy mw mx l my mz">import _ from "lodash";<br/>import React, { useState } from "react";<br/>import "./App.css";<br/><br/>type ElementProps = {<br/>  id: string;<br/>  hoveredElementId: string;<br/>  onMouseEnter: (id: string) =&gt; void;<br/>  onMouseLeave: (id: string) =&gt; void;<br/>};<br/><br/>function Element(props: ElementProps) {<br/>  const isHovered = props.hoveredElementId === props.id;<br/><br/>  return (<br/>    &lt;div<br/>      style={ { marginBottom: 8, backgroundColor: isHovered ? "#eee" : "" } }<br/>      onMouseEnter={() =&gt; {<br/>        props.onMouseEnter(props.id);<br/>      }}<br/>      onMouseLeave={() =&gt; {<br/>        props.onMouseLeave(props.id);<br/>      }}<br/>    &gt;<br/>      div<br/>    &lt;/div&gt;<br/>  );<br/>}<br/><br/>const MemoedElement = React.memo(Element, (prevProps, nextProps) =&gt; {<br/>  const { hoveredElementId: oldHoveredElementId, ...oldProps } = prevProps;<br/>  const { hoveredElementId: newHoveredElementId, ...newProps } = nextProps;<br/><br/>  if (oldHoveredElementId === nextProps.id) {<br/>    return false;<br/>  }<br/>  if (newHoveredElementId === nextProps.id) {<br/>    return false;<br/>  }<br/>  return _.isEqual(oldProps, newProps);<br/>});<br/><br/>function App() {<br/>  const [hoveredElementId, setHoveredElementId] = useState("");<br/><br/>  const handleMouseEnter = (id: string) =&gt; {<br/>    setHoveredElementId(id);<br/>  };<br/><br/>  const handleMouseLeave = (id: string) =&gt; {<br/>    if (id === hoveredElementId) {<br/>      setHoveredElementId("");<br/>    }<br/>  };<br/><br/>  const elements = [];<br/><br/>  for (let i = 0; i &lt; 500; i++) {<br/>    elements.push(<br/>      &lt;MemoedElement<br/>        key={i}<br/>        id={String(i)}<br/>        hoveredElementId={hoveredElementId}<br/>        onMouseEnter={handleMouseEnter}<br/>        onMouseLeave={handleMouseLeave}<br/>      /&gt;<br/>    );<br/>  }<br/><br/>  return &lt;&gt;{elements}&lt;/&gt;;<br/>}<br/><br/>export default App;</span></pre><h2 id="5571" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä»¿å½¢é“£åºŠ</h2><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/e1b49274d770faf8632d5db378f90303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oauQ1aphn6DpnZ_0.png"/></div></div></figure><p id="a3b4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ä¸å¹¸çš„æ˜¯ï¼Œç¬¬ä¸€æ¬¡å°è¯•å¤±è´¥äº†ã€‚å…¶åŸå› éå¸¸ä¸æ˜æ˜¾ã€‚å½“<code class="fe mk ml mm mn b">hoveredElementId</code>çŠ¶æ€æ”¹å˜æ—¶ï¼Œå®ƒè§¦å‘<code class="fe mk ml mm mn b">App</code>ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶ï¼Œ<code class="fe mk ml mm mn b">handleMouseEnter</code>å’Œ<code class="fe mk ml mm mn b">handleMouseLeave</code>å›è°ƒè¢«é‡æ–°å®šä¹‰ã€‚è¿™æ„å‘³ç€å½“å®ƒä»¬è¢«ä¼ é€’å›<code class="fe mk ml mm mn b">MemoedElement</code>æ—¶ï¼Œå®ƒä»¬ä¸å†æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œè¿™å¯¼è‡´<code class="fe mk ml mm mn b">MemoedElement</code>å†æ¬¡å®Œå…¨é‡æ–°å‘ˆç°è‡ªèº«ã€‚</p><p id="b3fb" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æˆ‘å·²ç»åšäº†å­¦ä¹ Reactå†…éƒ¨å¦‚ä½•å·¥ä½œçš„å·¥ä½œï¼Œä½†æ˜¯å¿…é¡»å‘åˆçº§å¼€å‘äººå‘˜è§£é‡Šè¿™è¶…å‡ºäº†ä¸€ä¸ªåº”è¯¥ç®€åŒ–è¿™ç±»äº‹æƒ…çš„åº“æ‰€éœ€è¦çš„ã€‚</p><h2 id="2c04" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä½¿ç”¨å›è°ƒæ¥é˜²æ­¢å›è°ƒè§¦å‘ä¸å¿…è¦çš„å‘ˆç°</h2><p id="d9da" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">é’©å­å¸¸è§é—®é¢˜è§£ç­”çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯<a class="ae le" href="https://reactjs.org/docs/hooks-faq.html#are-hooks-slow-because-of-creating-functions-in-render" rel="noopener ugc nofollow" target="_blank">â€œé’©å­æ…¢æ˜¯å› ä¸ºåœ¨renderä¸­åˆ›å»ºå‡½æ•°å—â€</a>ã€‚</p><blockquote class="nb nc nd"><p id="51de" class="kf kg ld kh b ki kj kk kl km kn ko kp ne kr ks kt nf kv kw kx ng kz la lb lc im bi translated">ä¼ ç»Ÿä¸Šï¼ŒReactä¸­å†…è”å‡½æ•°çš„æ€§èƒ½é—®é¢˜ä¸åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶ä¼ é€’æ–°å›è°ƒå¦‚ä½•ç ´åå­ç»„ä»¶ä¸­çš„shouldComponentUpdateä¼˜åŒ–æœ‰å…³</p></blockquote><p id="24b1" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¿™é‡ŒReactæ‰¿è®¤äº†è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³åŠŸèƒ½ç»„ä»¶ä¸­çš„å›è°ƒåœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸­æ–­çš„ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘æ›´æ–°äº†æˆ‘çš„å›è°ƒå‡½æ•°ï¼Œç”¨ç¥å¥‡çš„<code class="fe mk ml mm mn b">useCallback</code>æ¥åŒ…è£…ã€‚</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="5dfa" class="lm ln it mn b gy mw mx l my mz">import _ from "lodash";<br/>import React, { useCallback, useState } from "react";<br/>import "./App.css";<br/><br/>type ElementProps = {<br/>  id: string;<br/>  hoveredElementId: string;<br/>  onMouseEnter: (id: string) =&gt; void;<br/>  onMouseLeave: (id: string) =&gt; void;<br/>};<br/><br/>function Element(props: ElementProps) {<br/>  const isHovered = props.hoveredElementId === props.id;<br/><br/>  return (<br/>    &lt;div<br/>      style={ { marginBottom: 8, backgroundColor: isHovered ? "#eee" : "" } }<br/>      onMouseEnter={() =&gt; {<br/>        props.onMouseEnter(props.id);<br/>      }}<br/>      onMouseLeave={() =&gt; {<br/>        props.onMouseLeave(props.id);<br/>      }}<br/>    &gt;<br/>      div<br/>    &lt;/div&gt;<br/>  );<br/>}<br/><br/>const MemoedElement = React.memo(Element, (prevProps, nextProps) =&gt; {<br/>  const { hoveredElementId: oldHoveredElementId, ...oldProps } = prevProps;<br/>  const { hoveredElementId: newHoveredElementId, ...newProps } = nextProps;<br/><br/>  if (oldHoveredElementId === nextProps.id) {<br/>    return false;<br/>  }<br/>  if (newHoveredElementId === nextProps.id) {<br/>    return false;<br/>  }<br/>  return _.isEqual(oldProps, newProps);<br/>});<br/><br/>function App() {<br/>  const [hoveredElementId, setHoveredElementId] = useState("");<br/><br/>  const handleMouseEnter = useCallback((id: string) =&gt; {<br/>    setHoveredElementId(id);<br/>  }, [setHoveredElementId]);<br/><br/>  const handleMouseLeave = useCallback((id: string) =&gt; {<br/>    if (id === hoveredElementId) {<br/>      setHoveredElementId("");<br/>    }<br/>  }, [setHoveredElementId]);<br/><br/>  const elements = [];<br/><br/>  for (let i = 0; i &lt; 500; i++) {<br/>    elements.push(<br/>      &lt;MemoedElement<br/>        key={i}<br/>        id={String(i)}<br/>        hoveredElementId={hoveredElementId}<br/>        onMouseEnter={handleMouseEnter}<br/>        onMouseLeave={handleMouseLeave}<br/>      /&gt;<br/>    );<br/>  }<br/><br/>  return &lt;&gt;{elements}&lt;/&gt;;<br/>}<br/><br/>export default App;</span></pre><h2 id="2170" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä»¿å½¢é“£åºŠ</h2><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/6eb1052c9a552153ace1c383297a4727.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9VzwQhM5InlqPBm5.png"/></div></div></figure><p id="789c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ‚¨å¯ä»¥åœ¨profileræˆªå›¾ä¸­çœ‹åˆ°ï¼Œè¿™å·²ç»æˆåŠŸåœ°å®ç°äº†åœ¨æ¯æ¬¡æ‚¬åœæ—¶ä¸é‡æ–°æ¸²æŸ“æ¯ä¸ªç»„ä»¶çš„ç›®æ ‡ã€‚</p><p id="9184" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œä»»ä½•å­˜åœ¨çš„å›è°ƒéƒ½å¿…é¡»åŒ…è£…åœ¨è¿™ä¸ª<code class="fe mk ml mm mn b">useCallback</code>ä¸­ã€‚ä¸è¦é”™è¿‡ä¾èµ–æ•°ç»„ä¸­çš„ä¸€äº›ä¸œè¥¿ï¼Œå¦åˆ™ä½ ä¼šå‘ç°è‡ªå·±æœ‰ä¸€äº›å¥‡æ€ªçš„è¡Œä¸ºã€‚</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="5fd6" class="lm ln it mn b gy mw mx l my mz">const handleMouseEnter = useCallback((id: string) =&gt; {<br/>  setHoveredElementId(id);<br/>}, [setHoveredElementId]);</span></pre><p id="cdd2" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨ç¼–ç¨‹ä¸­ï¼Œäººä»¬å¸¸è¯´â€œè¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºâ€ã€‚è¿™é€šå¸¸æ˜¯æ­£ç¡®çš„ï¼Œå»ºè®®çš„æ–¹æ³•æ˜¯ï¼Œä»…å½“é—®é¢˜åŒºåŸŸæœ¬èº«æˆä¸ºé—®é¢˜æ—¶ï¼Œæ‰æè¿°å¹¶æ˜ç¡®åœ°é’ˆå¯¹é—®é¢˜åŒºåŸŸã€‚</p><p id="b752" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">è¿™ä¹Ÿé€‚ç”¨äºç¼–å†™Reactä»£ç ï¼Œä½†æ˜¯Reactä¸­äº‹åä¼˜åŒ–çš„è¿‡ç¨‹æ˜¯ä¸æ„‰å¿«çš„ã€‚å½“æ‚¨çŸ¥é“æ€§èƒ½æ˜¯ä¸ªé—®é¢˜æ—¶ï¼Œæ‚¨å·²ç»æœ‰äº†å‡ ä¸ªä¸åŒçš„ç»„ä»¶ï¼Œå®ƒä»¬éƒ½éœ€è¦å•ç‹¬è®°å¿†ã€‚ä¸€æ—¦ä½ åšåˆ°äº†è¿™ä¸€ç‚¹ï¼Œä½ éœ€è¦æ‰¾å‡ºæ‰€æœ‰å›è°ƒç»™ä½ å¸¦æ¥ç—›è‹¦çš„ä¾‹å­ã€‚</p><p id="ee87" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æœ€ç»ˆçš„ä»£ç ä»ç„¶æ˜¯åˆç†çš„(å¦‚æœä½ çŸ¥é“è¿™äº›æ¨¡å¼å’Œé—®é¢˜çš„è¯)ï¼Œä½†æ˜¯ä¾èµ–æ•°ç»„å’ŒarePropsEqualçš„å¾®å¦™ä¹‹å¤„å¾ˆå®¹æ˜“å¼•å…¥æ–°çš„é—®é¢˜ã€‚æ·»åŠ â€œåªéœ€å†åšä¸€ä»¶äº‹â€ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰“ç ´è®°å¿†ï¼Œè®©ä½ å›åˆ°ç³Ÿç³•è¡¨ç°çš„èµ·ç‚¹ã€‚</p><p id="5272" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">FAQæ¥ä¸‹æ¥å»ºè®®<code class="fe mk ml mm mn b"><a class="ae le" href="https://reactjs.org/docs/hooks-faq.html#how-to-avoid-passing-callbacks-down" rel="noopener ugc nofollow" target="_blank">useReducer</a></code> <a class="ae le" href="https://reactjs.org/docs/hooks-faq.html#how-to-avoid-passing-callbacks-down" rel="noopener ugc nofollow" target="_blank">é¿å…åœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´ä¼ é€’å›è°ƒ</a>ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»å®ƒæ˜¯ä»€ä¹ˆæ ·å­çš„(å°½ç®¡æ‚¨å¯èƒ½ä¼šåœ¨å°†æ¥çœ‹åˆ°ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­)ã€‚</p><h2 id="96c3" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">æˆ‘ä»¬éœ€è¦åšå‡ºååº”å—ï¼Ÿ</h2><p id="12f3" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»‹ç»äº†è‡³å°‘3ä¸ªç‹¬ç«‹çš„ä¸»è¦Reactæ¦‚å¿µ(<code class="fe mk ml mm mn b">React.memo</code>ã€<code class="fe mk ml mm mn b">arePropsEqual</code>å’Œ<code class="fe mk ml mm mn b">useCallback</code>)ï¼Œä»¥ä¾¿è·å¾—å¯ä»¥è¯´æ˜¯é»˜è®¤è¡Œä¸ºçš„æ€§èƒ½(å¦ç‡åœ°è¯´ï¼Œå¯¹äº500ä¸ªå…ƒç´ æ¥è¯´ï¼Œ1æ¯«ç§’ä»ç„¶ç›¸å½“å°´å°¬)ã€‚æˆ‘é•¿æœŸä»¥æ¥ä¸€ç›´è´¨ç–‘Reactå®é™…ä¸Šç»™äº†æˆ‘ä»€ä¹ˆå¥½å¤„ï¼Œæˆ‘åœ¨æ€§èƒ½é¢†åŸŸç»å†çš„è¿™äº›æŒ«æŠ˜ä»¤äººæå…¶å¤±æœ›ã€‚</p><p id="4519" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">åœ¨ä»¥åçš„æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³æ¢ç´¢å’Œåˆ†äº«ä¸€äº›æˆ‘ä¸ºäº†æ‘†è„±Reactè€Œåšçš„å®éªŒã€‚ä½†æ˜¯ä½œä¸ºä¸€ä¸ªå¼•å­ï¼Œä¸‹é¢æ˜¯ç”¨æ™®é€šçš„æ—§JavaScriptç¼–å†™çš„ç±»ä¼¼ä¾‹å­çš„ä»£ç ã€‚</p><pre class="mo mp mq mr gt ms mn mt mu aw mv bi"><span id="9e78" class="lm ln it mn b gy mw mx l my mz">const root = document.createElement("div");<br/>document.body.appendChild(root);<br/><br/>for (let i = 0; i &lt; 500; i++) {<br/>  const element = document.createElement('div');<br/>  element.style.marginBottom = "8px";<br/>  element.innerText = "div";<br/><br/>  element.addEventListener("mouseenter", () =&gt; {<br/>    element.style.backgroundColor = "#eee"<br/>  });<br/><br/>  element.addEventListener("mouseleave", () =&gt; {<br/>    element.style.backgroundColor = ""<br/>  });<br/>  <br/>  root.appendChild(element);<br/>}</span></pre><h2 id="1e37" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ä»¿å½¢é“£åºŠ</h2><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/a881b03e50786a8b214f28e649a7e0c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*eZy1sR-kkN0Pnl-r.png"/></div></div></figure><p id="f117" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">React Profilerä¸èƒ½å†ç”¨äº†ï¼Œä½†æ˜¯Chrome Performanceæ ‡ç­¾æ˜¾ç¤ºæœ€å·®çš„å¸§æ˜¯2msçš„è„šæœ¬ã€‚å…¶ä»–çš„éƒ½æ˜¯0æ¯«ç§’ã€‚</p><h2 id="ca24" class="lm ln it bd lo lp lq dn lr ls lt dp lu kq lv lw lx ku ly lz ma ky mb mc md me bi translated">ç»“è®º</h2><p id="4778" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">Reactçš„æ”¯æŒè€…ä¼šå£°ç§°è¿™æ˜¯ä¸€ç§ä¸å…¬å¹³çš„è¡¨ç°ï¼ŒReactçš„å¥½å¤„ä¼šéšç€ä½ çš„é¡¹ç›®å˜å¤§è€Œæ˜¾ç°ã€‚åˆ°æ—¶å€™ï¼Œæˆ‘ä¼šåˆ†äº«å¦‚ä½•ä½¿ç”¨ä¸Šé¢ä»‹ç»çš„ç®€å•ä»£ç æ¥æ¯«æ— é—®é¢˜åœ°ç»´æŒå¤§å‹é¡¹ç›®ã€‚</p><p id="5895" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">æ‚¨ä¸å¿…å­¦ä¹ Reactå¤æ‚çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå·¥ä½œæ–¹å¼ï¼Œè€Œæ˜¯å¯ä»¥å­¦ä¹ è‡ªå·±ç®¡ç†å®ƒã€‚åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘ä¸€ç›´åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­è¿™æ ·åšï¼Œæˆ‘ä¸è®¤ä¸ºæˆ‘ä¼šå›å¤´ã€‚</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h1 id="cc06" class="nh ln it bd lo ni nj nk lr nl nm nn lu no np nq lx nr ns nt ma nu nv nw md nx bi translated">åˆ†çº§ç¼–ç </h1><p id="6a10" class="pw-post-body-paragraph kf kg it kh b ki mf kk kl km mg ko kp kq mh ks kt ku mi kw kx ky mj la lb lc im bi translated">æ„Ÿè°¢æ‚¨æˆä¸ºæˆ‘ä»¬ç¤¾åŒºçš„ä¸€å‘˜ï¼åœ¨ä½ ç¦»å¼€ä¹‹å‰:</p><ul class=""><li id="73d4" class="ny nz it kh b ki kj km kn kq oa ku ob ky oc lc od oe of og bi translated">ğŸ‘ä¸ºæ•…äº‹é¼“æŒï¼Œè·Ÿç€ä½œè€…èµ°ğŸ‘‰</li><li id="fd80" class="ny nz it kh b ki oh km oi kq oj ku ok ky ol lc od oe of og bi translated">ğŸ“°æŸ¥çœ‹<a class="ae le" href="https://levelup.gitconnected.com/?utm_source=pub&amp;utm_medium=post" rel="noopener ugc nofollow" target="_blank">çº§ç¼–ç å‡ºç‰ˆç‰©</a>ä¸­çš„æ›´å¤šå†…å®¹</li><li id="fa24" class="ny nz it kh b ki oh km oi kq oj ku ok ky ol lc od oe of og bi translated">ğŸ””å…³æ³¨æˆ‘ä»¬:<a class="ae le" href="https://twitter.com/gitconnected" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a> | <a class="ae le" href="https://www.linkedin.com/company/gitconnected" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> | <a class="ae le" href="https://newsletter.levelup.dev" rel="noopener ugc nofollow" target="_blank">æ—¶äº‹é€šè®¯</a></li></ul><p id="23a3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">ğŸš€ğŸ‘‰<a class="ae le" href="https://jobs.levelup.dev/talent/welcome?referral=true" rel="noopener ugc nofollow" target="_blank"> <strong class="kh iu">åŠ å…¥å‡çº§äººæ‰é›†ä½“ï¼Œæ‰¾åˆ°ä¸€ä»½æƒŠè‰³çš„å·¥ä½œ</strong> </a></p></div></div>    
</body>
</html>