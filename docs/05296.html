<html>
<head>
<title>Git tagging — A brief guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git标签——简要指南</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/git-tagging-a-brief-guide-1af080b5bb6f?source=collection_archive---------15-----------------------#2020-08-17">https://levelup.gitconnected.com/git-tagging-a-brief-guide-1af080b5bb6f?source=collection_archive---------15-----------------------#2020-08-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/057a253818347a67b475ee3239e746a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*ulVEDlmq5Fi0Zh2c.png"/></div></figure><p id="59db" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Git提供了一个选项来标记(或标记)repo中的特定点，这有助于您在以后识别标记，并在将来的任何时候查看更改。</p><p id="0e55" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">您可以将标签视为repo中的一个检查点。它们就像分支，但是一旦创建了标记，就不能再对其进行更多的更改。简单。</p><p id="c082" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">大多数人使用标签来标记项目中的特定发布。以便他们可以在以后查看这些版本。</p><p id="a17d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">而且使用标签也是一个非常好的做法。它帮助人们理解项目在一段时间内是如何发展的。</p><h2 id="3f79" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">创建标签</h2><p id="5a5c" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">在创建标签之前，我想提一下有两种类型的标签。</p><p id="2838" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu">轻量级标签</strong>只是简单的标签，只是一个指向特定提交散列的指针。大多数情况下，这些标签是出于临时原因而使用的。</p><p id="3fb5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu">带注释的标签</strong>最常用，有附加信息，如标签人姓名、日期和标签信息。如果你正在为一个永久指针做标记，你应该使用带注释的标记。</p><h2 id="6880" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">创建轻量级标签</h2><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="596d" class="kv kw it ly b gy mc md l me mf">git tag &lt;tag_name&gt; <strong class="ly iu">Example</strong>: git tag v1.1-1w</span></pre><p id="ac27" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在上面的命令中，<strong class="jz iu">v 1.1–1w</strong>是标签名。</p><h2 id="4c86" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">创建带注释的标签</h2><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="f54e" class="kv kw it ly b gy mc md l me mf">git tag -a &lt;tag_name&gt; <strong class="ly iu">Example:</strong> git tag -a v1.2</span></pre><p id="cbf0" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu">-</strong>是用于创建带注释标签的选项。</p><p id="1534" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">您将被提示一条标记消息</p><figure class="lt lu lv lw gt ju gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/efe247887853d1723d44a21670687628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/0*A-xcxAq0c1RLyZDr.png"/></div></figure><p id="17ed" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你可以为发布写一些相关的消息并保存文件。</p><p id="2580" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">上述命令的简写如下</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="96fe" class="kv kw it ly b gy mc md l me mf">git tag -a v1.2 -m "Release V1.2"</span></pre><p id="e5b7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">上述命令将采用标记消息选项。</p><p id="1c07" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">还要记住，Git将采用头部提交(最新提交)来创建标签。</p><h2 id="3964" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">将标签推到遥控器上</h2><p id="d242" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">您必须显式地将标签推送到遥控器。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="55e8" class="kv kw it ly b gy mc md l me mf">git push origin v1.2 // Will push the mentioned tag. </span><span id="d88f" class="kv kw it ly b gy mh md l me mf">git push origin --tags // Will push all the tags to the origin.</span></pre><h2 id="8cf4" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">标记旧提交</h2><p id="3834" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">您还可以通过显式提及提交散列来创建标记。正如我之前说过的，默认情况下，Git会将头部提交给tag。</p><p id="fb63" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">标记显式提交</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="ebdf" class="kv kw it ly b gy mc md l me mf">git tag -a &lt;tag_name&gt; &lt;commit_hash&gt; </span><span id="0ea1" class="kv kw it ly b gy mh md l me mf"><strong class="ly iu">Example:</strong> git tag -a v1.1 84b2bbd</span></pre><h2 id="467b" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">列出所有标签</h2><p id="c1e0" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">上述命令将列出repo的所有标签。</p><figure class="lt lu lv lw gt ju gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/4ccfa86ffffb29a52b0d1798b43f7f70.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/0*l43ZcD6W19jvYw9P.png"/></div></figure><p id="4661" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">要搜索标签，您可以使用</p><p id="8878" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu"> -l </strong>将采用搜索模式并列出相关标签。上面的命令将列出v1系列中的所有标签。<strong class="jz iu"> * </strong>充当通配符。</p><h2 id="2760" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">标签信息</h2><p id="30ed" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">您可以使用查看标签信息</p><figure class="lt lu lv lw gt ju gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/b6b2784d8a4067c641eb0b4c6755dbd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/0*RlN4KODnIMoUFr7n.png"/></div></figure><p id="0360" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在上面的例子中，我们已经显示了标签信息。您可以看到标记名、标记者、日期、标记消息和各自的提交。</p><h2 id="8e59" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">签出标签</h2><p id="07fb" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">标记的一个有用的特性是我们可以在将来回顾那个指针。您可以签出类似于分支的标记。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="ea31" class="kv kw it ly b gy mc md l me mf">git checkout &lt;tag_name&gt;</span></pre><p id="c4b5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">但是通过退房，你会进入“超脱头”状态。这意味着您不应该对标记进行任何更改。即使您提交了任何更改，它也不会出现在标记中，甚至不会出现在任何分支中。</p><p id="0bfc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">签出标签有助于您使用该指针并查看更改。</p><h2 id="de26" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">删除标签</h2><p id="7463" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">标签非常轻量级。他们不会在回购中消耗太多空间。但是如果你需要清理标签，你可以删除旧的标签。</p><p id="f128" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">要从遥控器上移除标签</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="ecbe" class="kv kw it ly b gy mc md l me mf">git push origin --delete &lt;tag_name&gt;</span></pre><h2 id="aed9" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">重新标记标签</h2><p id="875e" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">有时，你创建了一个错误的标签。您必须从标记中添加一些提交或删除一些提交。</p><p id="512c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">因为我们不能创建具有相似名称的标签(标签名称是唯一的)，所以最简单的解决方法是删除标签并创建一个具有相同名称的新标签。</p><p id="0ac4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">另一种选择是强制创建标签。</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="47a3" class="kv kw it ly b gy mc md l me mf">git tag -a -f &lt;tag_name&gt; &lt;optional_commit_hash&gt; </span><span id="e033" class="kv kw it ly b gy mh md l me mf"><strong class="ly iu">Example:</strong> <br/>git tag -a -f v1.2 // Considering HEAD commit </span><span id="2cf5" class="kv kw it ly b gy mh md l me mf">git tag -a -f v1.2 84b2bbd // Considering a particular commit</span></pre><p id="6459" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu"> -f </strong>是强制创建标签的选项。因此，已经创建的标记将被新的提交哈希替换。</p><p id="d9e3" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">强制将创建的标签推送到远程</p><pre class="lt lu lv lw gt lx ly lz ma aw mb bi"><span id="1520" class="kv kw it ly b gy mc md l me mf">git push origin -f --tags</span></pre><p id="696a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这将强制将标签推送到遥控器。</p><p id="5b0d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">记住要小心使用这个。如果您强制推送标签，那么在本地拥有标签的团队成员在推送时将会面临冲突。</p><h2 id="d568" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">Github中的标签和发布</h2><p id="e9f4" class="pw-post-body-paragraph jx jy it jz b ka lo kc kd ke lp kg kh ki lq kk kl km lr ko kp kq ls ks kt ku im bi translated">Github中也会列出标签。您可以查看所有标签，编辑和创建新标签。</p><p id="4a42" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Github还有一个功能叫做Releases。版本与标签相关联。每当您按下标签时，也会创建一个释放。你也可以在Github中创建你自己的版本，它也会创建一个标签。</p><p id="7104" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">当产品的新版本发布到生产时，大多数人会创建一个新版本。</p><p id="9afe" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">你可以在这里看到Rails回购<a class="ae mk" href="https://github.com/rails/rails/releases" rel="noopener ugc nofollow" target="_blank"><strong class="jz iu"/></a>的版本</p><p id="de11" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">标记是Git的有用特性之一。它有助于您了解您的项目是如何随着时间的推移而发展的。</p><p id="1d8b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">感谢你的阅读，希望你学到了新的东西:)</p><h2 id="c04a" class="kv kw it bd kx ky kz dn la lb lc dp ld ki le lf lg km lh li lj kq lk ll lm ln bi translated">如果你已经来了这么久，那么我想你会对Git非常感兴趣。你可以订阅我的时事通讯<a class="ae mk" href="https://gitbetter.substack.com/" rel="noopener ugc nofollow" target="_blank"> GitBetter </a>来获得Git的技巧、提示和高级主题。</h2></div></div>    
</body>
</html>