<html>
<head>
<title>Improve Accessibility with focus and focus-visible Outline Styling.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过焦点和焦点可见的轮廓样式提高可访问性。</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/improve-accessibility-with-focus-focus-visible-outline-styling-24468e5295d0?source=collection_archive---------4-----------------------#2022-06-13">https://levelup.gitconnected.com/improve-accessibility-with-focus-focus-visible-outline-styling-24468e5295d0?source=collection_archive---------4-----------------------#2022-06-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f7095a5f2411802123dfd4dff99af450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sLqyaub0J-HCIppEXQUBrA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">照片由<a class="ae kc" href="https://medium.com/@martywallwood?source=post_page-----80a39a7ebe59--------------------------------" rel="noopener">马蒂·沃尔伍德</a>从<a class="ae kc" href="https://uxdesign.cc/what-is-web-accessibility-they-asked-80a39a7ebe59" rel="noopener" target="_blank">中景</a>拍摄</figcaption></figure><p id="7b65" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在浏览网页的时候，你无数次地使用光标与HTML元素进行交互。另一方面，键盘用户依靠tab键焦点样式来识别难以处理的组件，使他们能够有效地导航。</p><p id="5242" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">设计人员和开发人员面临着创建焦点状态的挑战，这些焦点状态要符合他们的设计准则，满足WCAG 2.1标准，并且在不同浏览器中表现一致。此外，<code class="fe lb lc ld le b">outline: none;</code>还不被认为是过去的问题。即使全球各地的监管机构提高了可访问性意识。</p><h1 id="8d74" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">焦点状态要求</h1><p id="0de4" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">在追求增加焦点风格的过程中，不可避免的问题会变得普遍。每个浏览器对焦点环样式都有不同的解释，需要以编程方式统一。</p><p id="5593" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">幸运的是，大多数焦点状态需求已经被明确定义了。还将分析一些隐含的定义。我们可以概述如下:</p><ul class=""><li id="f226" class="mi mj iq kf b kg kh kk kl ko mk ks ml kw mm la mn mo mp mq bi translated">聚焦环应满足前景和背景内容之间的<a class="ae kc" href="https://www.w3.org/TR/WCAG20-TECHS/G183.html%20with%20the%20background" rel="noopener ugc nofollow" target="_blank"> 3:1对比度</a>。应该为具有焦点的组件绘制一个视觉上可识别的轮廓。如果存在多种颜色模式或主题(暗、亮模式)，轮廓应相应调整。</li><li id="c03e" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">自定义组件需要有类似于HTML交互元素的可聚焦状态，如输入、按钮、锚等。此外，定制组件需要使用<code class="fe lb lc ld le b">tabindex</code>按tab键顺序正确插入。</li><li id="9a47" class="mi mj iq kf b kg mr kk ms ko mt ks mu kw mv la mn mo mp mq bi translated">避免在可聚焦状态下使用相同的悬停交互样式。光标用户指向屏幕上的一个位置，因此期望得到交互的微妙确认。然而，键盘用户依赖于更大胆的焦点指示。</li></ul><h1 id="f328" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">实现焦点样式</h1><p id="8885" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">CSS有一个名为<code class="fe lb lc ld le b">outline</code>的显式属性，遵循与<code class="fe lb lc ld le b">border</code>相同的简化约定。与border不同，outline不会改变其元素的框模型。因此，当聚焦的元素被所需的图形轮廓包围时，<a class="ae kc" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" rel="noopener ugc nofollow" target="_blank"> DOM </a>(文档对象模型)结构不会受到影响。</p><figure class="mx my mz na gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/6d66b5d97ded19b2b3bf9f33f4295747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zkt5xGpY9pkbcEYkmUyiCQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图1:<a class="ae kc" href="https://www.webitapp.co/" rel="noopener ugc nofollow" target="_blank">webitapp.co</a>上的一个按钮，轮廓为50px，不干扰DOM。</figcaption></figure><p id="46b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据我们以前的规范，我们可以创建以下CSS声明:</p><pre class="mx my mz na gt nb le nc nd aw ne bi"><span id="4a7f" class="nf lg iq le b gy ng nh l ni nj">*:focus {<br/>    outline: 0.125rem solid #000000;<br/>    outline-offset: 0.125rem;<br/>}</span></pre><p id="607c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们考虑严格的<a class="ae kc" href="https://www.w3.org/TR/WCAG21/#focus-visible" rel="noopener ugc nofollow" target="_blank"> WCAG 2.1 </a>要求，我们前面提到的方法就足够了。然而，当使用光标与输入、披露和按钮(以及其他难以处理的元素)交互时，轮廓将持续存在。</p><figure class="mx my mz na gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/292ad0c0b797be4c609c1519eda09247.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_1lb2B_uAr3Hemsn5F85oQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图2:使用光标时轮廓可见的<a class="ae kc" href="https://www.webitapp.co/" rel="noopener ugc nofollow" target="_blank">webitapp.co</a>的揭示。</figcaption></figure><p id="125e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<a class="ae kc" href="https://www.w3.org/TR/selectors-4/#the-focus-visible-pseudo" rel="noopener ugc nofollow" target="_blank"> CSS4草案</a>中，我们可以发现<code class="fe lb lc ld le b">:focus-visible</code>伪类允许浏览器自动检测输入设备是鼠标还是键盘。默认行为仅在使用键盘时呈现明显的焦点样式。</p><p id="0183" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在撰写本文时，在我们完全取代<code class="fe lb lc ld le b">:focus</code>之前，浏览器对<code class="fe lb lc ld le b">:focus-visible</code>的支持需要改进。虽然，我们可以在支持该功能时启用<code class="fe lb lc ld le b">:focus-visible</code>。结合我们以前的<code class="fe lb lc ld le b">*:focus</code>宣言，我们可以补充以下内容:</p><pre class="mx my mz na gt nb le nc nd aw ne bi"><span id="32e1" class="nf lg iq le b gy ng nh l ni nj">*:focus:not(:focus-visible) {<br/>    <!-- -->/* Remove focus indication when a mouse is used */<br/>    <!-- -->outline: none;<br/>}</span><span id="7f51" class="nf lg iq le b gy nk nh l ni nj">*:focus-visible {<br/>    outline: 0.125rem solid #000000;<br/>    outline-offset: 0.125rem;<br/>}</span></pre><figure class="mx my mz na gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/1805e9ea51e3c48a5f8e087bfd85fe43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*061obQ5lRH11VTVke_ohPg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">图3:与图2相同的公开内容，但使用光标时没有可见的轮廓。</figcaption></figure><h2 id="8de4" class="nf lg iq bd lh nl nm dn ll nn no dp lp ko np nq lt ks nr ns lx kw nt nu mb nv bi translated">不同实现的注意事项</h2><p id="1901" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">还可以使用<code class="fe lb lc ld le b">border</code>、<code class="fe lb lc ld le b">background-color</code>和<code class="fe lb lc ld le b">box-shadow</code>制作聚焦指示器。由于感知轮廓模仿<code class="fe lb lc ld le b">border-radius</code>而<code class="fe lb lc ld le b">outline</code>可能不模仿<code class="fe lb lc ld le b">box-shadow</code>，所以<code class="fe lb lc ld le b">box-shadow</code>经常被使用(取决于所使用的浏览器)。</p><p id="d081" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">应该避免这种方法，因为它可以根据<a class="ae kc" href="https://www.a11yproject.com/posts/operating-system-and-browser-accessibility-display-modes/" rel="noopener ugc nofollow" target="_blank">特定颜色模式</a>被覆盖。如果阴影的使用是必要的，提供透明颜色的轮廓<code class="fe lb lc ld le b">outline: 0.125rem solid transparent;</code>作为所述颜色模式的后备。</p><h1 id="7ceb" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">最后的想法</h1><p id="de60" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">焦点指示器样式可能是网站上可以实现的最简单的可访问性改变，产生巨大的价值。</p><p id="f7f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请满足可访问性要求，并且不要删除大纲，除非您用推荐的替代方法覆盖它们。</p><h1 id="ec67" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">进一步阅读</h1><div class="nw nx gp gr ny nz"><a href="https://hidde.blog/indicating-focus-to-improve-accessibility/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">指明重点以提高可访问性</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">这是一个常见但相当容易解决的可访问性问题:缺少指示焦点。在这篇文章中，我将解释…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">hidde .博客</p></div></div><div class="oi l"><div class="oj l ok ol om oi on jw nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://www.sarasoueidan.com/blog/focus-indicators/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">设计可访问的、符合WCAG标准的焦点指示器指南</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">这篇文章是从我的实践无障碍视频课程中修改的纯文本摘录。我想分享这个指南…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">www.sarasoueidan.com</p></div></div><div class="oi l"><div class="oo l ok ol om oi on jw nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://www.a11yproject.com/posts/never-remove-css-outlines/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">从不删除CSS轮廓</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">移除CSS中的轮廓会给使用键盘浏览网页的人带来问题。使用CSS规则:focus {…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">www.a11yproject.com</p></div></div><div class="oi l"><div class="op l ok ol om oi on jw nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://www.nicchan.me/blog/tips-for-focus-styles/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">焦点样式提示- Nic Chan</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">以下是一系列关于focus风格的注释:对可能正在寻找……</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">www.nicchan.me</p></div></div><div class="oi l"><div class="oq l ok ol om oi on jw nz"/></div></div></a></div><div class="nw nx gp gr ny nz"><a href="https://developers.google.com/web/fundamentals/accessibility/focus" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">焦点简介|网络基础|谷歌开发者</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">在这一课中，我们将讨论焦点以及如何在应用程序中管理它。焦点是指…上的哪个控件</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">developers.google.com</p></div></div><div class="oi l"><div class="or l ok ol om oi on jw nz"/></div></div></a></div><h1 id="e490" class="lf lg iq bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">如果你觉得这篇文章有用，请与他人分享。一些掌声👏🏻下面多多帮忙！</h1><p id="89ee" class="pw-post-body-paragraph kd ke iq kf b kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw mh ky kz la ij bi translated">通过鼓掌，你帮助其他人发现这些内容，并激发更多关于可访问性、设计、反应和JavaScript的文章的写作！</p></div></div>    
</body>
</html>