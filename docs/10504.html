<html>
<head>
<title>Conditionally Creating Array Literals</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有条件地创建数组文字</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/conditionally-creating-array-literals-7d62facbb5ff?source=collection_archive---------19-----------------------#2021-12-14">https://levelup.gitconnected.com/conditionally-creating-array-literals-7d62facbb5ff?source=collection_archive---------19-----------------------#2021-12-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="4c9e" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">JavaScript和类型脚本技巧</h2><div class=""/><div class=""><h2 id="ceee" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">如果您发现自己在创建文字数组后有条件地使用unshift()或push()，有一个更好的解决方案。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ko"><img src="../Images/ba58c4235df971df918ce109c0c9ee6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*V-SN3Ag2myRC0ZuMD1U4eA.jpeg"/></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">操作数组的方法不止一种</figcaption></figure><h1 id="9ca7" class="la lb iq bd lc ld le lf lg lh li lj lk kf ll kg lm ki ln kj lo kl lp km lq lr bi translated">创建文字数组</h1><p id="98ad" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">我发现我有时需要从函数的结果中创建数组。托管函数调用的文字数组创建工作得很好。最近，我需要在一个数组中以特定的顺序放置一些react元素。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/cd9fbe24efd771d124e8eb4a7c6e58ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*KS5sVekTgxvq7W1KS7omrw.png"/></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">简单、干净、文字数组</figcaption></figure><h1 id="1cfa" class="la lb iq bd lc ld le lf lg lh li lj lk kf ll kg lm ki ln kj lo kl lp km lq lr bi translated">事情变得一团糟</h1><p id="3722" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">不断变化的需求的真实世界使事情变得混乱。结果是，当程序处于编辑模式时，有些东西只属于数组，而有些东西只属于显示模式。最初，我将一个标志传递给函数，并返回所需的条目或<code class="fe mp mq mr ms b">null</code>。这使事情井然有序，但是我必须过滤掉空值。它还向不属于那里的函数添加了逻辑。我的下一个解决方案是保持函数无参数，并在创建数组时使用条件逻辑。有些事情必须放在第一位，有些必须放在最后。第一遍看起来像这样:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/90c20ab1128fc362a38c00090a826ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*9m26JMn07LKjWmAeQhhMhA.png"/></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">使用带有unshift和push的if语句</figcaption></figure><p id="90cd" class="pw-post-body-paragraph ls lt iq lu b lv mu ka lx ly mv kd ma mb mw md me mf mx mh mi mj my ml mm mn ij bi translated">这还不算太糟，但是它混淆了存储在比我想要的多一点的地方的内容。另外，你必须仔细观察才能注意到<code class="fe mp mq mr ms b">unshift</code>被用来获取放在数组前面的东西。</p><h1 id="ecaa" class="la lb iq bd lc ld le lf lg lh li lj lk kf ll kg lm ki ln kj lo kl lp km lq lr bi translated">为清晰而展开</h1><p id="6daa" class="pw-post-body-paragraph ls lt iq lu b lv lw ka lx ly lz kd ma mb mc md me mf mg mh mi mj mk ml mm mn ij bi translated">扩展和三元运算符可用于返回到更接近原始值的位置。这是相同的逻辑，但是避免了<code class="fe mp mq mr ms b">push</code>和<code class="fe mp mq mr ms b">unshift.</code>注意到函数的结果被放在一个数组中或者我们返回一个空数组。无论哪种情况，我们都传播结果。这要么把函数的结果放到数组中，要么什么也不做，因为扩展一个空数组不会插入任何东西。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/b8084e95bc215b021b3edd767d0048f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*2KGwMxvWjYep4z6PacAq1g.png"/></div><figcaption class="kw kx gj gh gi ky kz bd b be z dk translated">返回到文字数组</figcaption></figure><p id="4186" class="pw-post-body-paragraph ls lt iq lu b lv mu ka lx ly mv kd ma mb mw md me mf mx mh mi mj my ml mm mn ij bi translated">最终阵列中没有<code class="fe mp mq mr ms b">undefined</code>或<code class="fe mp mq mr ms b">null</code>。</p></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="8e14" class="pw-post-body-paragraph ls lt iq lu b lv mu ka lx ly mv kd ma mb mw md me mf mx mh mi mj my ml mm mn ij bi translated">就这样，一个简单的小提示。如果你想了解更多，我有<a class="ae nh" href="https://gentille.us/typescript-tips-b74925485b78?sk=4c9067cf57be6406abc26e44cb7fb872" rel="noopener ugc nofollow" target="_blank">额外的JavaScript和打字技巧文章</a>。</p><p id="1620" class="pw-post-body-paragraph ls lt iq lu b lv mu ka lx ly mv kd ma mb mw md me mf mx mh mi mj my ml mm mn ij bi translated">代码<a class="ae nh" href="https://github.com/Rolias/blog-posts/blob/master/src/conditional-arrays/conditional-arrays.test.ts" rel="noopener ugc nofollow" target="_blank">在GitHub </a>中可用</p><p id="b37b" class="pw-post-body-paragraph ls lt iq lu b lv mu ka lx ly mv kd ma mb mw md me mf mx mh mi mj my ml mm mn ij bi translated">平静地编码。</p></div></div>    
</body>
</html>