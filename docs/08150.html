<html>
<head>
<title>Installing Helm, Kubernetes Package Manager</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">安装Helm，Kubernetes软件包管理器</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/installing-helm-kubernetes-package-manager-aaa8ca7942e9?source=collection_archive---------11-----------------------#2021-04-05">https://levelup.gitconnected.com/installing-helm-kubernetes-package-manager-aaa8ca7942e9?source=collection_archive---------11-----------------------#2021-04-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/11906c480f1871ccac25dbc003005ec2.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*Z4nr7W3_v0v4sbcfHJ6oTA.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk translated">标志由<a class="ae jy" href="https://helm.sh/" rel="noopener ugc nofollow" target="_blank"> helm.sh </a></figcaption></figure><p id="b864" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">了解如何使用Helm package manager将多个Kubernetes资源的部署配置为一个单元。</p><p id="2bbc" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><a class="ae jy" href="#c0ac" rel="noopener ugc nofollow"> Helm-CLI </a> <br/> ∘ <a class="ae jy" href="#f20b" rel="noopener ugc nofollow">安装</a> <br/> ∘ <a class="ae jy" href="#a398" rel="noopener ugc nofollow">卸载</a> <br/> <a class="ae jy" href="#e295" rel="noopener ugc nofollow">图表</a> <br/> ∘ <a class="ae jy" href="#8403" rel="noopener ugc nofollow">搜索</a> <br/> ∘ <a class="ae jy" href="#749c" rel="noopener ugc nofollow">安装</a> <br/> ∘ <a class="ae jy" href="#b4b9" rel="noopener ugc nofollow">升级</a> <br/> <a class="ae jy" href="#bfa1" rel="noopener ugc nofollow">总结</a></p><blockquote class="kx ky kz"><p id="a8cc" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated"><strong class="kb ir">注:</strong>这个帖子是一个<em class="iq">TL；DR </em>分享Helm v3的基本用法，这是读者入门所需的，其他信息请遵循<a class="ae jy" href="https://helm.sh/docs/" rel="noopener ugc nofollow" target="_blank">官方文档</a>。</p></blockquote><h1 id="c0ac" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">Helm-CLI</h1><p id="58c5" class="pw-post-body-paragraph jz ka iq kb b kc mc ke kf kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw ij bi translated">大多是<em class="la">TL；DRs </em>用于安装舵CLI。​</p><h2 id="f20b" class="mh lf iq bd lg mi mj dn lk mk ml dp lo kk mm mn ls ko mo mp lw ks mq mr ma ms bi translated">安装</h2><p id="8a63" class="pw-post-body-paragraph jz ka iq kb b kc mc ke kf kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw ij bi translated">使用你最喜欢的软件包管理器安装，参考<a class="ae jy" href="https://helm.sh/docs/intro/install/" rel="noopener ugc nofollow" target="_blank">官方文档</a>获取更多信息。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="c4eb" class="mh lf iq my b gy nc nd l ne nf"><em class="la"># tl;dr for macOS</em><br/>brew install helm</span></pre><h2 id="a398" class="mh lf iq bd lg mi mj dn lk mk ml dp lo kk mm mn ls ko mo mp lw ks mq mr ma ms bi translated">从计算机上卸载</h2><p id="1895" class="pw-post-body-paragraph jz ka iq kb b kc mc ke kf kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw ij bi translated">遵循您之前使用的软件包管理器的删除说明。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="31e3" class="mh lf iq my b gy nc nd l ne nf"><em class="la"># tl;dr for macOS</em><br/>brew uninstall helm</span></pre></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="e295" class="le lf iq bd lg lh nn lj lk ll no ln lo lp np lr ls lt nq lv lw lx nr lz ma mb bi translated">图表</h1><p id="eb7b" class="pw-post-body-paragraph jz ka iq kb b kc mc ke kf kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw ij bi translated">舵图是舵管理的实际<em class="la"/>“包”。图表是另一个YAML文件，它由自定义属性组成，最终被转换成Kubernetes YAML资源并部署到集群中。</p><p id="5209" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">为什么？</strong>我们可以将多个资源打包到一个Helm chart中，作为一个单元进行处理，也就是说，使用一个命令就可以安装/更新/卸载，而不是管理我们自己的多个资源以及它们各自的Kubernetes YAML资源文件。图表可以是简单的hello-world应用程序，也可以是成熟的web应用程序，如服务器、数据库、缓存等..</p><blockquote class="kx ky kz"><p id="7f03" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated"><strong class="kb ir">注意:</strong>在接下来的章节中，我将使用<code class="fe ns nt nu my b">traefik</code>代理作为掌舵图的例子。</p></blockquote><h2 id="8403" class="mh lf iq bd lg mi mj dn lk mk ml dp lo kk mm mn ls ko mo mp lw ks mq mr ma ms bi translated">搜索</h2><p id="be61" class="pw-post-body-paragraph jz ka iq kb b kc mc ke kf kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw ij bi translated">为了能够搜索图表，我们必须找到返回其元数据的相应Helm存储库。在<a class="ae jy" href="https://artifacthub.io/" rel="noopener ugc nofollow" target="_blank"> artifacthub.io </a>中搜索您希望使用的图表的舵库。</p><p id="908b" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">1.我们将添加托管<code class="fe ns nt nu my b">traefik</code>图表元数据的<code class="fe ns nt nu my b">containous</code> Helm存储库</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="dedd" class="mh lf iq my b gy nc nd l ne nf">helm repo add traefik <a class="ae jy" href="https://containous.github.io/traefik-helm-chart" rel="noopener ugc nofollow" target="_blank">https://containous.github.io/traefik-helm-chart</a></span></pre><p id="cc7c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">2.更新本地舵图表存储库缓存</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="0099" class="mh lf iq my b gy nc nd l ne nf">helm repo update</span></pre><p id="9251" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">3.按名称搜索特定图表</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="b175" class="mh lf iq my b gy nc nd l ne nf">helm search repo traefik</span><span id="00b0" class="mh lf iq my b gy nv nd l ne nf"><em class="la"># NAME              CHART VERSION   APP VERSION</em><br/><em class="la"># traefik/traefik   9.1.1           2.2.8</em></span></pre><h2 id="749c" class="mh lf iq bd lg mi mj dn lk mk ml dp lo kk mm mn ls ko mo mp lw ks mq mr ma ms bi translated">安装</h2><p id="f9c1" class="pw-post-body-paragraph jz ka iq kb b kc mc ke kf kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw ij bi translated">直接从命令行安装舵图。如需更多安装选项，请阅读此处的<a class="ae jy" href="https://helm.sh/docs/helm/helm_install/" rel="noopener ugc nofollow" target="_blank"/>。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="8f07" class="mh lf iq my b gy nc nd l ne nf">helm install traefik \<br/>    --namespace traefik \<br/>    traefik/traefik \<br/>    --version 9.1.1</span></pre><blockquote class="kx ky kz"><p id="65d9" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated"><strong class="kb ir">提示:</strong>通过提供标志<code class="fe ns nt nu my b">--install</code>，可以对两个安装&amp;升级使用相同的舵命令。如果以所提供的名称命名的版本还不存在，将会触发install命令。<br/>将<code class="fe ns nt nu my b">helm install</code>替换为<code class="fe ns nt nu my b">helm upgrade --install</code></p></blockquote><h2 id="b4b9" class="mh lf iq bd lg mi mj dn lk mk ml dp lo kk mm mn ls ko mo mp lw ks mq mr ma ms bi translated">提升</h2><p id="91e4" class="pw-post-body-paragraph jz ka iq kb b kc mc ke kf kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw ij bi translated">使用新的图表版本升级或覆盖以前部署的图表的现有值。欲了解更多升级选项，请阅读此处的<a class="ae jy" href="https://helm.sh/docs/helm/helm_upgrade/" rel="noopener ugc nofollow" target="_blank"/>。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="bfca" class="mh lf iq my b gy nc nd l ne nf">helm upgrade traefik \<br/>    --namespace traefik \<br/>    --set<strong class="my ir">=</strong>"additionalArguments={--log.level=DEBUG}" \<br/>    traefik/traefik \<br/>    --version 9.1.1</span></pre><blockquote class="kx ky kz"><p id="2ca2" class="jz ka la kb b kc kd ke kf kg kh ki kj lb kl km kn lc kp kq kr ld kt ku kv kw ij bi translated"><strong class="kb ir">重要提示:</strong>当更新预装舵图上的部分属性时，将重新创建与这些特定属性相关的Kubernetes资源窗格，以应用新的更改。</p></blockquote></div><div class="ab cl ng nh hu ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="ij ik il im in"><h1 id="bfa1" class="le lf iq bd lg lh nn lj lk ll no ln lo lp np lr ls lt nq lv lw lx nr lz ma mb bi translated">摘要</h1><p id="cbe3" class="pw-post-body-paragraph jz ka iq kb b kc mc ke kf kg md ki kj kk me km kn ko mf kq kr ks mg ku kv kw ij bi translated">这篇文章只是关于舵图可能性的冰山一角，请参考官方<a class="ae jy" href="https://helm.sh/docs/" rel="noopener ugc nofollow" target="_blank">舵文档</a>进一步阅读。</p><p id="1356" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">请留下您的评论、建议或任何其他您认为与本文相关的意见。</p><p id="dba2" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">喜欢这个帖子？</strong> <br/>您可以通过以下方式了解更多信息:</p><p id="39cf" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">查看我的博客:<a class="ae jy" href="https://blog.zachinachshon.com/" rel="noopener ugc nofollow" target="_blank">https://blog.zachinachshon.com</a><br/>在推特上关注我:<a class="ae jy" href="https://twitter.com/zachinachshon" rel="noopener ugc nofollow" target="_blank"> @zachinachshon </a></p><p id="d10a" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">感谢阅读！❤️</p></div></div>    
</body>
</html>