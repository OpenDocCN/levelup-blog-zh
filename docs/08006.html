<html>
<head>
<title>Create a Search Bar Using Vanilla JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Vanilla JS创建搜索栏</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/create-a-search-bar-using-vanilla-js-af56c80c949a?source=collection_archive---------10-----------------------#2021-03-28">https://levelup.gitconnected.com/create-a-search-bar-using-vanilla-js-af56c80c949a?source=collection_archive---------10-----------------------#2021-03-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f6400c0b62a06dc04a55397165ef2132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2T2-TMJHLPYxwfjA8S4Urg.jpeg"/></div></div></figure><p id="62b0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我正在使用Vanilla JS做一个Instagram克隆项目，这篇文章是关于创建一个搜索栏的。Instagram有一个搜索栏，点击时会移动其占位符和图标，并在搜索框右侧生成一个取消(X)图标。此处提供了图片:</p><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi kw"><img src="../Images/2609ad487a785722aee3f2a7b141c86a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkUeQvIxk5THRb8lTOd_3w.png"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">默认</figcaption></figure><figure class="kx ky kz la gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lf"><img src="../Images/b20916345878de08b1a79faa62a8e606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CvmBEBYcvb6d6hk-yHVHGw.png"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">点击时</figcaption></figure><p id="4ef2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">应该有许多其他可能更有效的方法，但我主要侧重于熟悉JS中的主要方法。</p><pre class="kx ky kz la gt lg lh li lj aw lk bi"><span id="d850" class="ll lm iq lh b gy ln lo l lp lq">const searchIcon = document.getElementById(“search-icon”);<br/>const searchInput = document.getElementById(“search-input”);<br/>const cancelIcon = document.getElementById(“cancel-icon”);</span><span id="477c" class="ll lm iq lh b gy lr lo l lp lq">searchInput.addEventListener(“click”, moveSearchBarElements);</span><span id="f84a" class="ll lm iq lh b gy lr lo l lp lq">function moveSearchBarElements() {<br/>searchIcon.id = “search-icon-moved”;<br/>searchInput.id = “search-placeholder-moved”;<br/>cancelIcon.id = “cancel-icon-enabled”;</span><span id="e47b" class="ll lm iq lh b gy lr lo l lp lq">document.addEventListener(<br/>“click”,function (e) {<br/>  const isClickedInside = searchInput.contains(e.target);<br/>  <em class="ls">if</em> (!isClickedInside) {<br/>      searchIcon.id = “search-icon”;<br/>      searchInput.id = “search-input”;<br/>      cancelIcon.id = “cancel-icon”;<br/>      searchInput.value = “”;<br/>       }<br/>   });<br/>}</span></pre><ol class=""><li id="e490" class="lt lu iq ka b kb kc kf kg kj lv kn lw kr lx kv ly lz ma mb bi translated">首先，我必须为HTML元素设置变量——搜索图标、搜索输入和取消图标。在这里，我有<code class="fe mc md me lh b">id</code>属性，但是<code class="fe mc md me lh b">class</code>可能更好，有多个元素共享同一个类。</li><li id="42e7" class="lt lu iq ka b kb mf kf mg kj mh kn mi kr mj kv ly lz ma mb bi translated">所以，我们正在改变搜索栏“点击”时的外观。因此，我们需要执行带有<code class="fe mc md me lh b">"click"</code>的<code class="fe mc md me lh b">addEventListener()</code>和下面的功能<code class="fe mc md me lh b">moveSearchBarElements</code>。</li><li id="3b8a" class="lt lu iq ka b kb mf kf mg kj mh kn mi kr mj kv ly lz ma mb bi translated">点击后，执行<code class="fe mc md me lh b">moveSearchBarElements</code>功能。首先，我更改了三个变量的<code class="fe mc md me lh b">id</code>，更改后的<code class="fe mc md me lh b">id</code> s — <code class="fe mc md me lh b">search-icon-moved</code>、<code class="fe mc md me lh b">search-placeholder-moved</code>和<code class="fe mc md me lh b">cancel-icon-enabled</code>都在css文件中设置了它们的css属性。通过将它们更改为这些id，将应用它们的位置、显示等。</li><li id="08c6" class="lt lu iq ka b kb mf kf mg kj mh kn mi kr mj kv ly lz ma mb bi translated">然后，我添加了另一个<code class="fe mc md me lh b">addEventListener</code>来删除搜索输入中的搜索值，并使搜索栏元素(图标、占位符)在搜索输入之外被单击后回到它们的初始位置。这个函数有一个参数<code class="fe mc md me lh b">e</code>或<code class="fe mc md me lh b">event</code>，因为我们需要检查事件(点击)的<code class="fe mc md me lh b">target</code>是否在搜索输入中。然后，我添加了<code class="fe mc md me lh b">if</code>语句，说明如果没有在输入中单击它，元素的<code class="fe mc md me lh b">id</code>将返回到输入被单击之前的状态，并且<code class="fe mc md me lh b">searchInput.value</code>将被设置为空。</li></ol></div></div>    
</body>
</html>