<html>
<head>
<title>Beautiful Truchet Tilings For Your Decorative Needs Using JavaScript and SVG</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用JavaScript和SVG为您的装饰需求提供美丽的装饰效果</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/beautiful-truchet-tilings-for-your-decorative-needs-using-javascript-and-svg-6168a60f97f8?source=collection_archive---------24-----------------------#2020-06-01">https://levelup.gitconnected.com/beautiful-truchet-tilings-for-your-decorative-needs-using-javascript-and-svg-6168a60f97f8?source=collection_archive---------24-----------------------#2020-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="55f1" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">辅导的</h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi jw"><img src="../Images/28b62fa5560a8396e317f66c8863bef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s8uhyirjqHALhpkOqwyphA.png"/></div></div></figure><h1 id="5a7f" class="kh ki iq bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">谁被绑架了？</h1><p id="c858" class="pw-post-body-paragraph ln lo iq lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ij bi ml translated">T2:塞巴斯蒂安·特鲁切特(1657-1729)出生于法国里昂，是一位多明尼加人，他因在印刷术、数学和水力学方面的贡献而闻名。</p><figure class="mn mo mp mq gt ka gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/daba691ffa390b1e45421e9b4f8baba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/1*v6AHqNdv9uPmpVUw1a57Zg.jpeg"/></div></figure><p id="07ea" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">在他的一生中，他监督了大多数法国运河的建设；发明了<a class="ae mw" href="https://en.wikipedia.org/wiki/Point_(typography)" rel="noopener ugc nofollow" target="_blank">排印点</a>；<a class="ae mw" href="https://en.wikipedia.org/wiki/Romain_du_Roi" rel="noopener ugc nofollow" target="_blank">字体(<em class="mx"> Romain du roi </em> ) </a>后来成为<em class="mx">Times New Roman</em>；日晷、武器、移植成年树木的引擎；并且——也是这个故事带给我们的——写下了第一份对简单瓷砖(<em class="mx">铺砌</em>)所有组合的系统研究。</p><p id="17a4" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">在监督奥尔良运河的工作时，<a class="ae mw" href="http://www.tug.org/TUGboat/Articles/tb20-1/tb62andr.pdf" rel="noopener ugc nofollow" target="_blank">他写道</a>，</p><blockquote class="my mz na"><p id="c17b" class="ln lo mx lp b lq mr ls lt lu ms lw lx nb mt ma mb nc mu me mf nd mv mi mj mk ij bi translated">“[……]我发现了几块瓷砖，打算用来铺在一个小教堂和其他几个公寓的地板上。它们是正方形的，被一条对角线分成两个彩色的部分。为了能够通过这些瓷砖的排列形成令人愉快的设计和图案，我首先研究了这些瓷砖成对连接在一起的方式，总是以棋盘阵列的方式。”</p></blockquote><p id="b681" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">他的发现不久后于1704年发表在《皇家科学院回忆录》中，书名为《T21联合回忆录》(谷歌图书上有售)。</p><h1 id="4e33" class="kh ki iq bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">Truchet Tilings</h1><p id="2434" class="pw-post-body-paragraph ln lo iq lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ij bi translated">在一个Truchet瓷砖中，只有四个基本的积木:四个正方形被一条对角线分成两个彩色的三角形。</p><figure class="mn mo mp mq gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ne"><img src="../Images/db46c6453b93c045cc178bc64ad9e1a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZDbFOy69f2ZqsfcWYdLJg.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk translated">Truchet镶嵌的四个组成部分。</figcaption></figure><p id="4ddb" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">当这些积木并置在一个表面上时，通常会产生美观的效果，适合展示在例如浴室墙壁或厨房柜台上。事实上，我曾经有几个宜家的抱枕，上面有Truchet图案。</p><figure class="mn mo mp mq gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi nj"><img src="../Images/290ab4b9f52020fbb3afa2bc4b7a5d48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KRviJ41aM46fj8CjKWSc1w.png"/></div></div></figure><h2 id="2e25" class="nk ki iq bd kj nl nm dn kn nn no dp kr ly np nq kv mc nr ns kz mg nt nu ld iw bi translated">Java Script语言</h2><p id="0313" class="pw-post-body-paragraph ln lo iq lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ij bi translated">我们现在开发非常简单的JavaScript代码来生成如此漂亮的镶嵌图。我们从制作文档的框架开始。</p><pre class="mn mo mp mq gt nv nw nx ny aw nz bi"><span id="fc98" class="nk ki iq nw b gy oa ob l oc od">&lt;html&gt;<br/>&lt;svg id="svg" width="800" height="800"&gt;&lt;/svg&gt;<br/>&lt;script&gt;</span><span id="f131" class="nk ki iq nw b gy oe ob l oc od">let svg = document.getElementById('svg')<br/>let tiles = 16<br/>let w = svg.getBoundingClientRect().width / tiles<br/>let h = svg.getBoundingClientRect().height / tiles<br/>let colors = ['#f4f1de','#e07a5f','#3d405b','#81b29a','#f2cc8f']</span><span id="fa7f" class="nk ki iq nw b gy oe ob l oc od">&lt;/script&gt;<br/>&lt;/html&gt;</span></pre><p id="b625" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">到目前为止，我们已经设置了尺寸为<code class="fe of og oh nw b">800x800</code>的<code class="fe of og oh nw b"><a class="ae mw" href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics" rel="noopener ugc nofollow" target="_blank">SVG</a></code>组件，我们将在其上绘制；我们希望每行/每列使用多少瓷砖(参见<code class="fe of og oh nw b">16</code>)及其尺寸(参见<code class="fe of og oh nw b">w</code>和<code class="fe of og oh nw b">h</code>)；和调色板。</p><p id="17bb" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">接下来，我们将在表面放置随机颜色的随机瓷砖。</p><pre class="mn mo mp mq gt nv nw nx ny aw nz bi"><span id="d3fd" class="nk ki iq nw b gy oa ob l oc od">for (let row = 0; row &lt; tiles; row++){<br/>  for (let col = 0; col &lt; tiles; col++) {<br/>    let x = col * w<br/>    let y = row * h<br/>    let r = rand(4)<br/>    let c = colors[rand(colors.length)]<br/>    <br/>    switch (r) {<br/>      case 0:<br/>        triangle0(svg, c, x, y, w, h)<br/>        break<br/>      case 1:<br/>        triangle1(svg, c, x, y, w, h)<br/>        break<br/>      case 2:<br/>        triangle2(svg, c, x, y, w, h)<br/>        break<br/>      case 3:<br/>        triangle3(svg, c, x, y, w, h)<br/>        break<br/>    }<br/>  }<br/>}</span></pre><p id="3df3" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">实际上，上面缺少的只是<code class="fe of og oh nw b">rand</code>和每个独立图块的实现(参见<code class="fe of og oh nw b">triangle*</code>)。<em class="mx">我告诉过你事情会很简单</em>。</p><p id="a917" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated"><code class="fe of og oh nw b">rand</code>的定义如下，用于产生上界伪随机整数:</p><pre class="mn mo mp mq gt nv nw nx ny aw nz bi"><span id="736e" class="nk ki iq nw b gy oa ob l oc od">function rand(m) {<br/>  return Math.floor(Math.random() * Math.floor(m))<br/>}</span></pre><p id="d175" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">为了实现我们所有的图块(参见<code class="fe of og oh nw b">triangle*</code>)，我们将使用一个更通用的版本<code class="fe of og oh nw b">tri</code>，在SVG上绘制一个给定颜色的给定三角形。</p><pre class="mn mo mp mq gt nv nw nx ny aw nz bi"><span id="1578" class="nk ki iq nw b gy oa ob l oc od">function tri(svg, c, x1, y1, x2, y2, x3, y3) {<br/>  let p = document.createElementNS("http://www.w3.org/2000/svg", "polygon");<br/>  p.setAttribute("points", `${x1},${y1} ${x2},${y2} ${x3},${y3}`)<br/>  p.setAttribute("style", `fill:${c}`)<br/>  svg.appendChild(p)<br/>}</span></pre><p id="9063" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">这样，我们所有的图块都可以实现为一行代码，如下所示:</p><pre class="mn mo mp mq gt nv nw nx ny aw nz bi"><span id="4210" class="nk ki iq nw b gy oa ob l oc od">function triangle0(svg, c, x, y, w, h) {<br/>  tri(svg, c, x, y, x + w, y, x, y + h)<br/>}</span><span id="21a8" class="nk ki iq nw b gy oe ob l oc od">function triangle1(svg, c, x, y, w, h) {<br/>  tri(svg, c, x + w, y, x + w, y + h, x, y)<br/>}</span><span id="499e" class="nk ki iq nw b gy oe ob l oc od">function triangle2(svg, c, x, y, w, h) {<br/>  tri(svg, c, x + w, y + h, x, y + h, x + w, y)<br/>}</span><span id="75e2" class="nk ki iq nw b gy oe ob l oc od">function triangle3(svg, c, x, y, w, h) {<br/>  tri(svg, c, x, y + h, x, y, x + w, y + h)<br/>}</span></pre><p id="9b83" class="pw-post-body-paragraph ln lo iq lp b lq mr ls lt lu ms lw lx ly mt ma mb mc mu me mf mg mv mi mj mk ij bi translated">现在，我们在浏览器中打开HTML文件，欣赏我们的工作。每次刷新页面时，都会出现不同的平铺效果。</p><figure class="mn mo mp mq gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi oi"><img src="../Images/e6bfa14976452d329c8db46428066b7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ROPcDQrhCgAiOz1sb_41IA.png"/></div></div></figure><h1 id="6307" class="kh ki iq bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">参考</h1><ul class=""><li id="9fd4" class="oj ok iq lp b lq lr lu lv ly ol mc om mg on mk oo op oq or bi translated">雅克·安德烈的<a class="ae mw" href="http://jacques-andre.fr" rel="noopener ugc nofollow" target="_blank">网站</a>。</li><li id="08ed" class="oj ok iq lp b lq os lu ot ly ou mc ov mg ow mk oo op oq or bi translated"><a class="ae mw" href="https://gist.github.com/xavierpinho/ced97c767ef73b6cbc7cfd077da5ea1f" rel="noopener ugc nofollow" target="_blank">完整源代码</a>在此作为GitHub要点提供。</li><li id="ed03" class="oj ok iq lp b lq os lu ot ly ou mc ov mg ow mk oo op oq or bi translated">使用四分之一圆的Truchet平铺变体的类似教程。</li></ul></div></div>    
</body>
</html>