<html>
<head>
<title>How I Tripled My Return on Bitcoin Using Mathematics, Algorithms, and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何利用数学、算法和Python让我的比特币回报率翻了三倍</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/how-i-tripled-my-return-on-bitcoin-using-mathematics-algorithms-and-python-347edd9b5625?source=collection_archive---------0-----------------------#2021-05-02">https://levelup.gitconnected.com/how-i-tripled-my-return-on-bitcoin-using-mathematics-algorithms-and-python-347edd9b5625?source=collection_archive---------0-----------------------#2021-05-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="73dc" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">面向交易者的Python</h2><div class=""/><div class=""><h2 id="971f" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">利用黄金线算法，我预测了比特币、Ripple、以太坊和Dogecoin的价格演变。完整的Python代码共享。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/37928e5b6fcad71186c3eefcccc7d140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8crsiMA5SvzhC0JRZGkmVg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">作者照片。</figcaption></figure><p id="2df3" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi md translated">他的文章将会与平常略有不同。对于那些在Medium或<a class="ae mm" href="https://www.youtube.com/c/AlgorithmicTradingbySajid" rel="noopener ugc nofollow" target="_blank"> Youtube </a>上关注我几个月的人来说，你已经看到了不同的文章或视频，在这些文章或视频中，我用数学、科学和概率来帮助预测市场。</p><p id="cc24" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">最近，在看到大肆宣传和强劲的购买指标后，我开始对加密货币感兴趣。但是在深入挖掘并开始讨论理论和编码之前，让我们先了解一些背景知识，看看到目前为止我们已经讨论了哪些内容。</p><h2 id="f3a7" class="mn mo it bd mp mq mr dn ms mt mu dp mv lq mw mx my lu mz na nb ly nc nd ne iz bi translated">开始前</h2><p id="58d8" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">在之前的一篇文章中，我们在标准普尔500(美国股票交易所指数)上测试了一个著名的数学技术。我们发现当你想在<strong class="lj jd">美国市场</strong>交易时，布林线理论是多么的准确和棒。</p><div class="nk nl gp gr nm nn"><a href="https://medium.com/analytics-vidhya/python-i-have-tested-a-trading-mathematical-technic-in-realtime-658a80381151" rel="noopener follow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">Python:我已经测试了实时交易数学技术。</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">我用Python实时测试了一个著名的预测市场的数学技术的实现…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">medium.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob lb nn"/></div></div></a></div><p id="e9ac" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">即使所有的交易都不完美，这个以前的算法给我们带来了严肃的趋势指标来预测市场的运动。</p><p id="cdf0" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">然而，经过回溯测试，我注意到约翰·布林格在上面文章中提出的理论并不能准确预测加密货币。</p><p id="5db6" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这就是为什么在进一步的测试和阅读之后，弹出了一个病毒式的算法:<strong class="lj jd">黄金十字vs死亡十字</strong>。</p><p id="e261" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这就是为什么我测试了几个星期，这是我的总结。</p><p id="b9a2" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在探索现场测试的编码脚本之前，让我们开始挖掘一些基础科学和理论问题，看看这些交易信号是如何计算的。</p></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h1 id="b383" class="oj mo it bd mp ok ol om ms on oo op mv ki oq kj my kl or km nb ko os kp ne ot bi translated">黄金十字，死亡十字？</h1><p id="f2af" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">对于有金融背景的人来说，黄金交叉和死亡交叉指标是<strong class="lj jd">均线的<strong class="lj jd">衍生</strong>，</strong>也叫交叉指标。</p><p id="7664" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">例如移动平均线，这两个交叉指标中的每一个都将通过使用下面的公式对某个时间段的市场收盘价进行平均来计算。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/c1f73896b4eb0e11ad5fb66d57f200bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/0*BU3r3RqslfgktiJf.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">在上面的公式中，n对应于使用的周期数。</figcaption></figure><p id="ed63" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这个概念将包括结合两个移动平均线(短期和长期)来获得加密货币的趋势。当短期移动平均线<strong class="lj jd">超过</strong>或<strong class="lj jd">超过长期移动平均线</strong>时，就会出现买入或卖出信号。</p><p id="11ed" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">从数学上讲，如果你选择5个周期的短期移动平均线和20个周期的长期移动平均线，我们将通过以下条件得到我们的<strong class="lj jd">买入</strong>信号:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/d485e8de680b93282d29df22d034062c.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/format:webp/1*44zh4yHfpEH80-WVoYgJoA.png"/></div></figure><p id="8ecd" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">其中MA(5)和MA(20)明显等于:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/6da6a70336f52bcc59ac3d79ecdd41dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*B3YLGIz2r8K7rgo-jT6GdA.png"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/179893d2a22e42e7cbf24e617e598c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*aXy6UGKGpk5lXj_swO8Ddw.png"/></div></figure><p id="d7c5" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd"> <em class="oy"> CPrice </em> </strong> <em class="oy">对应收盘价值。例如，目前比特币的价格为49670美元。而</em> <strong class="lj jd"> <em class="oy"> t </em> </strong> <em class="oy">是定义的时间段。(本文末尾教程视频内有更多解释)。</em></p><p id="e026" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这些交叉指标是等式的一部分，有助于检测所研究的加密货币的全球趋势。这些CI(交叉指标)通常被全球多个交易商和基金用来定义<strong class="lj jd">支撑位、</strong> <strong class="lj jd">阻力位、</strong> <strong class="lj jd">止损位</strong>和<strong class="lj jd">目标</strong>，并了解潜在趋势。</p></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><p id="a061" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在我们已经了解了一些背景知识，让我们开始测试，看看它们如何帮助预测市场。</p><blockquote class="oz pa pb"><p id="445e" class="lh li oy lj b lk ll kd lm ln lo kg lp pc lr ls lt pd lv lw lx pe lz ma mb mc im bi translated">如果您想以同样的速度编码，需要预先安装一些配置和软件包。</p></blockquote><p id="f6fd" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">再者，如果你太心急，想知道如何快速实施这个策略，可以直接看本文末尾的录音。我正在现场应用这个策略，你可以自己看看结果:)。</p><p id="8353" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我记录了自己对理论、代码的解释，并给出了开发过程中的额外提示。可以自己在家涂。</p><h1 id="f540" class="oj mo it bd mp ok pf om ms on pg op mv ki ph kj my kl pi km nb ko pj kp ne ot bi translated">先决条件:</h1><p id="2740" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">首先，如果你想跟踪我的进度，在开始之前，你需要在你的机器上安装一个<strong class="lj jd"> Python 3 </strong>版本和以下软件包:</p><ul class=""><li id="f5eb" class="pk pl it lj b lk ll ln lo lq pm lu pn ly po mc pp pq pr ps bi translated">熊猫</li><li id="2377" class="pk pl it lj b lk pt ln pu lq pv lu pw ly px mc pp pq pr ps bi translated"><strong class="lj jd">数字价格</strong></li><li id="d5de" class="pk pl it lj b lk pt ln pu lq pv lu pw ly px mc pp pq pr ps bi translated"><strong class="lj jd">金融</strong></li><li id="d738" class="pk pl it lj b lk pt ln pu lq pv lu pw ly px mc pp pq pr ps bi translated"><strong class="lj jd">plottly</strong>(<em class="oy">不是强制的，但对plotting </em>有用)</li></ul><p id="51ae" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果这些软件包中的任何一个尚未安装，您可以使用pip命令，如下所示。</p><pre class="ks kt ku kv gt py pz qa qb aw qc bi"><span id="6704" class="mn mo it pz b gy qd qe l qf qg">pip install yfinance<br/>pip install plotly</span></pre><p id="aeb5" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">一旦您确保安装了以下软件包，我们就可以开始讨论我们的数据管道和数据模型了。</p><h2 id="5d22" class="mn mo it bd mp mq mr dn ms mt mu dp mv lq mw mx my lu mz na nb ly nc nd ne iz bi translated">数据管道和建模:</h2><p id="e4cc" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">既然我们已经确认上面的包已经安装在我们的机器中，我们就可以定义数据处理了。</p><p id="b70c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">数据模型将分为3个不同的步骤。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qh"><img src="../Images/159fd92349f4e12637de03afff219ce2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uFmnUy0W8PvGOjWNSHDzHA.png"/></div></div></figure><p id="df72" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">首先</strong>我们将使用<strong class="lj jd">雅虎金融API </strong>查询实时加密货币的数据。</p><p id="7217" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">秒</strong>，定义一段时间，为我们计算的字段创建新列，并每秒更新这些值。</p><p id="74f0" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">第三个</strong>，现场绘制这个图形，检查我们的信号是否准确。</p><p id="9a89" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这篇文章中，我不会过多地谈论关于代码和API的细节；阅读下面的文章，你可以找到更多关于如何获得live market的信息:</p><div class="nk nl gp gr nm nn"><a href="https://towardsdatascience.com/python-how-to-get-live-market-data-less-than-0-1-second-lag-c85ee280ed93" rel="noopener follow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">Python:如何获取实时市场数据(滞后小于0.1秒)。</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">这篇文章会有点特别。我将测试雅虎财经Python API的最新版本…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">towardsdatascience.com</p></div></div><div class="nw l"><div class="qi l ny nz oa nw ob lb nn"/></div></div></a></div><p id="38d0" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在我们已经有了一个清晰的模型计划，我们可以开始编码了！</p><blockquote class="oz pa pb"><p id="b8a3" class="lh li oy lj b lk ll kd lm ln lo kg lp pc lr ls lt pd lv lw lx pe lz ma mb mc im bi translated"><strong class="lj jd"> <em class="it">如果你已经有了使用Python的经验，可以跳到第二步。第一步包括导入包。</em> </strong></p></blockquote><h1 id="fe6b" class="oj mo it bd mp ok pf om ms on pg op mv ki ph kj my kl pi km nb ko pj kp ne ot bi translated">步骤1:导入所需的包。</h1><p id="a20d" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">第一步将包括导入必要的包。</p><p id="9f05" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">首先，您将使用以下代码行导入先前安装的软件包:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qj qk l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">上面几行是查询要导入的numpy，pandas，yfinance &amp; plotly。</figcaption></figure><p id="85a2" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">一旦我们成立了，让我们进行下一步。</p><p id="ce21" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">既然库已经导入，我们现在可以导入加密货币的数据了。</p><h1 id="4428" class="oj mo it bd mp ok pf om ms on pg op mv ki ph kj my kl pi km nb ko pj kp ne ot bi translated">第二步:获取实时市场数据。</h1><p id="6fad" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">既然已经上传了所需的不同包。我们将使用一对<strong class="lj jd">BTC-美元</strong>作为例子，通过Yahoo Finance API设置我们的导入。</p><p id="cc06" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">加密货币的选择列表可以像货币一样扩展。</p><p id="e0c9" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">例如，如果你来自<strong class="lj jd">印度</strong>或<strong class="lj jd">加拿大</strong>，你可以使用<strong class="lj jd">印度卢比</strong>或<strong class="lj jd">CAD；两个</strong>都将正常工作，如果你想要的是波纹或以太坊数据也是如此。</p><blockquote class="oz pa pb"><p id="b640" class="lh li oy lj b lk ll kd lm ln lo kg lp pc lr ls lt pd lv lw lx pe lz ma mb mc im bi translated"><em class="it">为了获得关于如何获得正确报价器的完整解释，我邀请您看一看本文末尾的代码解释视频。</em></p></blockquote><p id="5afc" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们回到我们的API结构。</p></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><p id="361e" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">Yahoo Finance API将需要三个强制参数，顺序如下:</p><ul class=""><li id="6ab4" class="pk pl it lj b lk ll ln lo lq pm lu pn ly po mc pp pq pr ps bi translated">跑马灯<em class="oy"> (1) </em></li><li id="eaef" class="pk pl it lj b lk pt ln pu lq pv lu pw ly px mc pp pq pr ps bi translated"><em class="oy">开始日期+结束日期</em>或期间<em class="oy"> (2) </em></li><li id="e522" class="pk pl it lj b lk pt ln pu lq pv lu pw ly px mc pp pq pr ps bi translated">音程<em class="oy"> (3) </em></li></ul><p id="8a74" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">对于我们的例子，股票代码<em class="oy"> ( </em> <strong class="lj jd"> <em class="oy">自变量1 </em> </strong> <em class="oy"> ) </em>将是一对<strong class="lj jd">BTC-美元</strong>。此外，对于此示例，我们将选择最后7天<strong class="lj jd"/>作为期间<em class="oy"> ( </em> <strong class="lj jd"> <em class="oy">自变量2 </em> </strong> <em class="oy"> ) </em>。并设置了区间<em class="oy"> ( </em> <strong class="lj jd"> <em class="oy">自变量3</em></strong><em class="oy">)</em><strong class="lj jd">90分钟</strong>。</p><p id="3a3b" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要调用您的数据，您必须使用以下结构:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ql"><img src="../Images/07209d3cd778ebbd73ccf4b3705aaf75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*O9y7mtaqTFXPp2zg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">上面描述了获取我们感兴趣的数据的结构。</figcaption></figure><p id="6586" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在继续之前，我将带来一些关于第三个论点的细节(<strong class="lj jd"> <em class="oy">区间</em> </strong>)。</p><h1 id="9754" class="oj mo it bd mp ok pf om ms on pg op mv ki ph kj my kl pi km nb ko pj kp ne ot bi translated">快速查找可能的间隔</h1><p id="9568" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">我想给你一个快速拍摄的不同间隔，你可以使用雅虎财经API设置。</p><p id="4f4e" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面详细列出了可能需要的间隔的完整列表:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qm"><img src="../Images/f2fc92d7b087f42e262bce7bf63d6991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aG-4bjqG-MHCvmz-.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">上面列出了可以选择的不同间隔。</figcaption></figure><p id="d9c5" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在我们已经定义了三个参数，让我们执行查询并检查输出:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qj qk l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">上面一行将请求BTC-美元到雅虎金融API。</figcaption></figure><p id="aecf" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面是您必须得到的输出:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qn"><img src="../Images/9cb15d2ab2695c801dbe79bb9cde41c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxIfdaLu8BIfLqlWYm5fWQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">90分钟间隔的市场输出</figcaption></figure><p id="28b3" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在，我们已经下载并存储了数据，我们可以继续定义我们的移动平均线，买入和卖出信号。</p><p id="f67c" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你想了解更多的信息，你可以点击下面的链接:</p><div class="nk nl gp gr nm nn"><a href="https://www.udemy.com/course/python-for-algorithmic-trading/?couponCode=LOVE_SEPTEMBER" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">2021年:一天学会算法交易</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">你好，我是赛义德·赫萨尼。我一直在伦敦的多家银行担任数据科学家，是一名…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">www.udemy.com</p></div></div><div class="nw l"><div class="qo l ny nz oa nw ob lb nn"/></div></div></a></div><h1 id="fbe6" class="oj mo it bd mp ok pf om ms on pg op mv ki ph kj my kl pi km nb ko pj kp ne ot bi translated">三。部署我们的算法</h1><p id="e61d" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">现在，我们的实时数据已经下载并存储在一个名为“数据”的变量中。下一步包括计算我们的移动平均线和设置我们的买卖信号。</p><p id="6314" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们需要创建以下计算字段:</p><ul class=""><li id="acb9" class="pk pl it lj b lk ll ln lo lq pm lu pn ly po mc pp pq pr ps bi translated"><strong class="lj jd">马(5) </strong></li><li id="e071" class="pk pl it lj b lk pt ln pu lq pv lu pw ly px mc pp pq pr ps bi translated">【马(20)】</li></ul><p id="2290" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为此，我们将使用Python中包含的滚动函数来获得n个最新周期的平均值。关于MA(5)，我们将在最后90分钟内应用我们的策略。这意味着我们将计算最近7小时30分钟的平均收盘价(5乘以90分钟)。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/6da6a70336f52bcc59ac3d79ecdd41dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*B3YLGIz2r8K7rgo-jT6GdA.png"/></div></figure><p id="a70f" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">对于MA(20 ),我们将使用滚动函数，但我们将计算20个最新周期的平均值，而不是计算5个最新的90分钟周期。</p><p id="0da9" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">所以，让我们用Python来编码:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qj qk l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">上面这条线是用Python滚动函数得到的移动平均线。</figcaption></figure><p id="f335" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">上面的代码一旦执行，将为您的数据框创建2个新列，如下所示:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qp"><img src="../Images/b8752df87ba10bdd320e02f138605469.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X0DhztcTmIEjxnSDcKvhYg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">现在，您已经定义了您的波段，必须创建2个额外的列。</figcaption></figure><p id="8f97" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们终于可以部署并测试我们的策略了。</p><h1 id="ab9f" class="oj mo it bd mp ok pf om ms on pg op mv ki ph kj my kl pi km nb ko pj kp ne ot bi translated">实时绘制这个图表</h1><p id="c608" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">我们计划的最后一步是绘制我们的数据，并检查我们是否能预测市场运动。我在下面的视频中现场录制了这一部分:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qq qk l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">这个视频是编码黄金十字策略的一步一步的教程。</figcaption></figure><p id="9388" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">嘣！我们成功了。</p><p id="390d" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">如果你不能播放视频，请观看结果并听听我的评论。这里有一个你绘制图表后应该有的样本。</p><p id="7b23" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在下图中，我用绿色表示好的预测，黑色表示错误的预测。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qr"><img src="../Images/7a602e012bba335288e4e921a0db8601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nEo8kZOnHqFvYPASWCWGJw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">有买入和卖出信号的预期输出</figcaption></figure><p id="1c91" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">此外，我已经上传了上面视频中描述的完整Python脚本，您现在可以在家开发它了:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="qj qk l"/></div></figure></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h1 id="e3be" class="oj mo it bd mp ok ol om ms on oo op mv ki oq kj my kl or km nb ko os kp ne ot bi translated">最终想法</h1><p id="2ef0" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated">即使并非所有的交易都是完美的，有时我们倾向于滞后进入或离开市场，但在比特币稳定的时期，黄金交叉策略一直是提高我们利润的有用策略。</p><p id="b8d4" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">经过短暂的计算，并使用我的个人经纪人的滑点费，我们将在一周内获得<strong class="lj jd">7.1%</strong>的回报，而比特币在同一时期稳定在<strong class="lj jd">1.7%</strong>左右。</p><p id="9b6a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这一直是个很有意思的概念，探讨<strong class="lj jd">抵抗</strong>和<strong class="lj jd">支持</strong> <strong class="lj jd">级</strong>的实况。这是我经常和我的同事和朋友讨论的一个话题，在一个真实的案例上开发它更有见地。</p><p id="baa2" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是一次见识理论如何在现实中发挥作用的经历。</p><p id="cf9d" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">请随时提供反馈，并询问您是否有任何问题；我会尽全力帮你解锁。</p></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><p id="4617" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">感谢你的关注。</p><p id="e7a0" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">编码快乐！</p><p id="486a" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">赛义德</p><h1 id="a115" class="oj mo it bd mp ok pf om ms on pg op mv ki ph kj my kl pi km nb ko pj kp ne ot bi translated">来源和进一步了解算法交易:</h1><div class="nk nl gp gr nm nn"><a href="https://www.udemy.com/course/python-for-algorithmic-trading/?couponCode=LOVE_SEPTEMBER" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">2021年:一天学会算法交易</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">你好，我是赛义德·赫萨尼。我一直在伦敦的多家银行担任数据科学家，是一名…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">www.udemy.com</p></div></div><div class="nw l"><div class="qo l ny nz oa nw ob lb nn"/></div></div></a></div></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><h1 id="8d6a" class="oj mo it bd mp ok ol om ms on oo op mv ki oq kj my kl or km nb ko os kp ne ot bi translated">之前必须阅读的文章:</h1><p id="e3f9" class="pw-post-body-paragraph lh li it lj b lk nf kd lm ln ng kg lp lq nh ls lt lu ni lw lx ly nj ma mb mc im bi translated"><strong class="lj jd">算法交易A到Z的Python:</strong></p><div class="nk nl gp gr nm nn"><a href="https://medium.com/analytics-vidhya/python-i-have-tested-a-trading-mathematical-technic-in-realtime-658a80381151" rel="noopener follow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">Python:我已经测试了实时交易数学技术。</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">我用Python实时测试了一个著名的预测市场的数学技术的实现…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">medium.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob lb nn"/></div></div></a></div><p id="436e" class="pw-post-body-paragraph lh li it lj b lk ll kd lm ln lo kg lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jd">如何获取实时市场数据:</strong></p><div class="nk nl gp gr nm nn"><a href="https://towardsdatascience.com/python-how-to-get-live-market-data-less-than-0-1-second-lag-c85ee280ed93" rel="noopener follow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd jd gy z fp ns fr fs nt fu fw jc bi translated">Python:如何获取实时市场数据(滞后小于0.1秒)。</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">这篇文章会有点特别。我将测试雅虎财经Python API的最新版本…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">towardsdatascience.com</p></div></div><div class="nw l"><div class="qi l ny nz oa nw ob lb nn"/></div></div></a></div></div></div>    
</body>
</html>