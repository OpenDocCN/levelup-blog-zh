<html>
<head>
<title>Microservices are great. But Don’t Use Microservices for the Heck of It!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务很棒。但是不要使用微服务！</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/microservices-are-great-but-dont-use-microservices-for-the-heck-of-it-12d8ed75550a?source=collection_archive---------10-----------------------#2021-08-03">https://levelup.gitconnected.com/microservices-are-great-but-dont-use-microservices-for-the-heck-of-it-12d8ed75550a?source=collection_archive---------10-----------------------#2021-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b51b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">管理微服务可能会变得很困难</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/35cd78475f8631b1a4d11fec51919a52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SEFDLtknFG6fODlI"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">德米特里·马什金在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="cbeb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">整体服务与微服务的争论已经持续了一段时间。我知道许多开发人员开始将他们的单片应用程序分解成几个微服务。我是其中之一。</p><p id="5cdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">微服务已经在开发人员社区中获得了很大的人气，我们不能忽视单片架构在某些应用中的优势。</p><p id="828b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您需要根据许多因素做出正确的体系结构选择，比如您团队的能力和您项目的部署是如何完成的。</p><h2 id="ab36" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">将整体服务转换为微服务</h2><p id="835c" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们有一个单片应用程序，随着时间的推移，它变得很大，内存占用也增加了。我们花了几年的时间，我们庞大的项目代码库爆炸了。我们不得不转移到更大的服务器来容纳应用程序。由于单个应用程序中有太多的功能，甚至代码库也变得难以管理。</p><p id="1a60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们有一个大项目，有很多后台工作人员和数百个API。我们希望减少内存占用以提高性能，并减少EC2实例的大小。</p><p id="c84c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始将项目分解成多个逻辑部分。这样做有各种各样的<strong class="lb iu">挑战</strong>:</p><ul class=""><li id="b735" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">重组代码。<em class="nc">无法避免</em>。</li><li id="21b1" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">维护多个项目和存储库。</li><li id="c163" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">部署脚本中的更改</li><li id="34c3" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">需要完整的测试周期。</li></ul><p id="e5d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同时，我们看到了微服务的以下优点:</p><ul class=""><li id="0d3a" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">更小的内存占用</li><li id="da3a" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">不同的项目可以独立扩展</li><li id="7d75" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">云基础设施的成本节约</li></ul><p id="9ac1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们把这个项目分成5个较小的项目。分开他们是一场噩梦。我们将许多公共代码转移到了不同的库中。重新组织代码，对测试用例进行变更，以及部署变更所花费的时间比我们估计的要多得多(像往常一样)。</p><blockquote class="ni nj nk"><p id="38e6" class="kz la nc lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated">几周后我们开始看到优势。我们可以分别扩展不同的功能，这是我们以前无法做到的。它还降低了我们的云基础架构成本。</p></blockquote></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="5240" class="nv lw it bd lx nw nx ny ma nz oa ob md jz oc ka mg kc od kd mj kf oe kg mm of bi translated">看好微服务</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/f38b6eb4f22b6fe77705c9a8e694e4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5mnJBtIfBua6C6JS"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@japhethmast?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Japheth桅杆</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="1a84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最初对系统的改变反应良好。感觉微服务方法是解决所有问题的灵丹妙药。我们开始把同样的哲学应用到每一件事情上，实际上是每一件事情。在接下来的几个月里，我们创建了许多微服务。</p><blockquote class="ni nj nk"><p id="921c" class="kz la nc lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated">创建新的代码库是令人兴奋的，这些代码库被单独部署并得到适当的维护。</p></blockquote><p id="68d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们忘乎所以，很快我们就有了20多个独立运行的服务。</p><h1 id="aa51" class="nv lw it bd lx nw oh ny ma nz oi ob md jz oj ka mg kc ok kd mj kf ol kg mm of bi translated">严酷的事实</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/4844d191f10a895714bdc917cb177b62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*St-viKcAmCDSWsHp"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">奥崔·塔赫里在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="6f8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没过多久，我们就开始面临这么多存储库的问题。在以下情况下更改如此多的代码库并不容易:</p><ul class=""><li id="55d3" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated">依赖代码库。</li><li id="8d40" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">配置更改。</li><li id="31d1" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">获得各种资源。</li><li id="90c8" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">一项服务中的变化会影响其他服务。</li><li id="7f52" class="mt mu it lb b lc nd lf ne li nf lm ng lq nh lu my mz na nb bi translated">基础设施变化</li></ul><p id="1757" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们重新分析了我们的方法，并停止创建不必要的服务。事实上，我们联合了一些服务来简化变更。可维护性工作也减少了。</p><p id="75ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个过程中，我们创建了一些微服务，但我们这样做是因为需要它们。</p><h1 id="b7cf" class="nv lw it bd lx nw oh ny ma nz oi ob md jz oj ka mg kc ok kd mj kf ol kg mm of bi translated">包装它</h1><p id="0976" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">微服务是一个很棒的概念，我喜欢它，并以一种好的和坏的方式使用它。我们将它视为解决问题的方法，同时，由于过度使用微服务，我们制造了相当多的复杂性。</p><p id="8592" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我看来，就像任何其他概念一样，在有需要的时候使用微服务。不要因为是热门话题就随便用。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><p id="bf5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nc">喜欢体验媒介的自己？考虑通过注册会员</em>   <em class="nc">来支持我和其他作家</em> <a class="ae ky" href="https://singhamrit.medium.com/membership" rel="noopener"> <strong class="lb iu"> <em class="nc">。会员每月只需5美元，它支持我们，作家，没有额外的费用。如果你这样做，我会收到一部分费用，不会多花你多少钱。谢谢大家！</em></strong></a></p></div></div>    
</body>
</html>