<html>
<head>
<title>Space Shooter Challenge: Ammo Count</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">太空射击挑战:弹药计数</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/space-shooter-challenge-ammo-count-4e053f418a38?source=collection_archive---------6-----------------------#2021-05-26">https://levelup.gitconnected.com/space-shooter-challenge-ammo-count-4e053f418a38?source=collection_archive---------6-----------------------#2021-05-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/9519fc0c660c2ce85db6c306fcbc4888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/1*os45WsLUa8J6l8W0pcUFlQ.gif"/></div></figure><p id="e9ac" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们增加限制玩家弹药数量的能力，让游戏比滥发空格键更具挑战性。</p><p id="4960" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">首先，我需要为弹药计数创建一个int变量。现在，我们可以在检查器中将其赋值为15。在未来，我们可以考虑增加一个最大弹药数，这样玩家就不会积累太多的火力，但是现在15似乎是一个不错的起始值。</p><p id="b540" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在在我们的<strong class="jw ir"> FireLaser方法</strong>中，我们可以将整个代码块包含在一个<strong class="jw ir"> if语句</strong>中，检查弹药计数是否大于0。如果是这样的话，<strong class="jw ir">火激光法</strong>继续，然后弹药数应该减1。我们还可以创建一个<strong class="jw ir"> else语句</strong>来指示当玩家没有弹药时会发生什么。现在，一个简单的<strong class="jw ir">调试。日志</strong>可以向我们展示事情正在按照它们应该的方式工作。</p><figure class="kt ku kv kw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ks"><img src="../Images/6171250332aa166c2d39ff763e5605f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R6qxj5omwrsgor5OYRBa6A.png"/></div></div></figure><p id="9a2b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们添加一些用户界面来记录他们的弹药数量。为此，我在<strong class="jw ir">画布</strong>中创建了一个<strong class="jw ir">空游戏对象</strong>，我这样做是因为我想存储一个<strong class="jw ir">图像</strong>和<strong class="jw ir">文本。</strong>对于<strong class="jw ir">的图像，</strong>我使用了三个激光精灵。文本可以简单地说“弹药:”。</p><figure class="kt ku kv kw gt jr gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/98bba649a3ea3ec400bdc30daf6162cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*IZAnPrO5bx1T5EZOcrC0eA.png"/></div></figure><p id="8b9b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了给UI一些功能，我们可以在<strong class="jw ir"> UIManager脚本中创建一个<strong class="jw ir">文本变量</strong>。</strong>接下来，我创建了一个名为<strong class="jw ir"> UpdateAmmoUI、</strong>的<strong class="jw ir">公共方法</strong>，并分配了一个名为<strong class="jw ir"> _ammoCount </strong>的<strong class="jw ir"> int变量来调用它。</strong></p><p id="ad9b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在方法内部，我将<strong class="jw ir">_ amcount变量</strong>附加到<strong class="jw ir">文本变量。</strong></p><figure class="kt ku kv kw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ks"><img src="../Images/1ef6ccd0282358d14c8bdae41942259c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vxpxDWFoIYiyjfQLQfmutw.png"/></div></div></figure><p id="fca3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">玩家脚本</strong>已经有了对<strong class="jw ir"> UIManager </strong>的引用，所以我们可以在扣除弹药数量后简单地调用新的<strong class="jw ir">公共方法</strong>，传入变量<strong class="jw ir"> _ammoCount。</strong></p><figure class="kt ku kv kw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ks"><img src="../Images/126fc1fc568840199c7bade400c07bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPKgHu55Fys7X4glMjNIpQ.png"/></div></div><figcaption class="lc ld gj gh gi le lf bd b be z dk translated">在FireLaser方法的if (_ammoCount &gt; 0)函数内</figcaption></figure><p id="b827" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果弹药数达到0，我希望用户的视线被吸引到弹药数上，这样他们就知道了。为此，我可以使用一个<strong class="jw ir"> if语句</strong>并在其中<strong class="jw ir">启动</strong>一个<strong class="jw ir">协程。</strong></p><figure class="kt ku kv kw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ks"><img src="../Images/bcc656e08e0b54f1a7ce6fb0b651527f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xxoT4CuwHYA0yu2IeGXYfg.png"/></div></div></figure><p id="629b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这个<strong class="jw ir">协程</strong>看起来将非常类似于<strong class="jw ir">gameeflockerroutine，</strong>每0.5f秒启用和禁用<strong class="jw ir">弹药文本</strong>。</p><p id="1048" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了整理一下，我们可以创建一个<strong class="jw ir"> WaitForSeconds变量</strong>供两个<strong class="jw ir">协程</strong>使用，而不是不断地创建一个<strong class="jw ir">新的WaitForSeconds </strong>。</p><figure class="kt ku kv kw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ks"><img src="../Images/16073090f3b379bed4ac0d7d8094d0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EyOyItc_zZPoU3ebDaSufQ.png"/></div></div></figure></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><p id="797b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">除了<strong class="jw ir">弹药文本闪烁，</strong>我还决定有一个弹药耗尽的音频提示。为了创造这一点，我将一些不同的卡嗒声分层。再次，制作一个新的<strong class="jw ir">事件</strong>，然后替换<strong class="jw ir">调试。用新的<strong class="jw ir">事件发布记录<strong class="jw ir"> FireLaser方法</strong>的<strong class="jw ir"> Else语句</strong>中的</strong>代码。</strong></p></div></div>    
</body>
</html>