<html>
<head>
<title>“../../../are-we/there/yet” — or how to improve TypeScript &amp; Sass imports</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">"../../../are-we/there/yet”——或者如何改进TypeScript &amp; Sass导入</h1>
<blockquote>原文：<a href="https://levelup.gitconnected.com/are-we-there-yet-or-how-to-improve-typescript-sass-imports-bce09ecea164?source=collection_archive---------0-----------------------#2018-03-02">https://levelup.gitconnected.com/are-we-there-yet-or-how-to-improve-typescript-sass-imports-bce09ecea164?source=collection_archive---------0-----------------------#2018-03-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="cde7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为你的Angular应用程序提供两个简单的配置选项来减轻嵌套路径的困扰。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/de25bd4814a9503bc0a70ee2cdf40c1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RYFxXSxNkrYN0kUy4h1TLA.jpeg"/></div></div></figure><h1 id="7051" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">问题是</h1><p id="6a55" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">如果您曾经开发过稍微大一点的Angular应用程序，您可能很清楚需要遍历目录结构来查找需要包含在TypeScript中的文件的问题。通常看起来是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/e38f168f79a5a37e72b51fc35c64bd9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5OMusvmk7tyI8fuZ6BiHxw.png"/></div></div></figure><p id="fd47" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">看起来不太好，也不太适合重构或移动东西。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/28c69835fb90c3b5272396d32f8c1da4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JDoCyLBt9UkIaP1874b_5A.png"/></div></div></figure><p id="33d3" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">当导入<strong class="ll ir"> scss </strong>时，可能会更烦人，因为这是您可能会在组件的样式表中经常做的事情。更糟糕的是，ide中通常不支持自动导入…</p><h1 id="fad5" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">解决方案</h1><h2 id="b799" class="mm ks iq bd kt mn mo dn kx mp mq dp lb ls mr ms ld lw mt mu lf ma mv mw lh mx bi translated">TypeScript导入</h2><p id="474e" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">进入你的<code class="fe my mz na nb b"><strong class="ll ir">tsconfig.json</strong></code>文件。在<code class="fe my mz na nb b">compilerOptions</code>部分添加一个<code class="fe my mz na nb b">paths</code>设置。它将是一个对象，它的键是路径别名，您将能够在您的代码中使用，值是别名将被解析到的路径的数组。</p><p id="4ded" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">更改应该是这样的:<em class="nc">(为了简洁起见，已经删除了大部分不相关的代码)</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/93fccc92fab24b6208dc436c44700bbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YjVSwmwbg2DJpHn1OB8-VQ.png"/></div></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">只需将“路径”设置添加到您的“tsconfig.json”中</figcaption></figure><p id="34f8" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">您可以随意命名您的别名，但如果您需要一些建议:</p><ul class=""><li id="3a05" class="ni nj iq ll b lm mg lp mh ls nk lw nl ma nm me nn no np nq bi translated">名字以<code class="fe my mz na nb b">@</code>开头似乎是惯例</li><li id="8176" class="ni nj iq ll b lm nr lp ns ls nt lw nu ma nv me nn no np nq bi translated">这也有助于限制与您可能在同一个项目中使用的一些npm库的名称冲突的危险</li><li id="2cb4" class="ni nj iq ll b lm nr lp ns ls nt lw nu ma nv me nn no np nq bi translated">由于这种危险，有些人喜欢在所有路径前面加上前缀，使路径更加具体，例如<code class="fe my mz na nb b">@abc/core/*</code>、<code class="fe my mz na nb b">@abc/settings/*</code>等。</li></ul><p id="a8a0" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">有什么效果？让我们来看改变后的第一个例子:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/082cff00bb0b396d85d1d3b44801d441.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BX4ijCIl__vOfTqRRNL3Cw.png"/></div></div></figure><p id="ff62" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">这可能看起来不太像，但请记住，这些导入现在在您的代码库中保持不变，无论您决定移动您的<code class="fe my mz na nb b">my.component.ts</code>文件，还是这个“auth”和“settings”代码(在后一种情况下，您显然只需要更新<code class="fe my mz na nb b">tsconfig.json</code>)。</p><p id="b1de" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">这将如何与您的代码编辑器一起工作？当考虑目前最流行的Angular开发人员的ide时，Visual Studio代码可以流利地使用TypeScript，而且不费吹灰之力，Webstorm在我编辑了<code class="fe my mz na nb b">tsconfig.json</code>之后就做出了回应。当我回到我的打字稿文件时，它甚至建议我可以将我的“<em class="nc">导入缩短为</em>”干得好，伊德斯！</p></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h2 id="ce52" class="mm ks iq bd kt mn mo dn kx mp mq dp lb ls mr ms ld lw mt mu lf ma mv mw lh mx bi translated"><strong class="ak"> Sass/Less/Stylus导入</strong></h2><p id="0ed5" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">顺便说一下，TypeScript解决方案并不特定于Angular——您也可以在其他设置中使用它。另一方面，Sass(或任何其他cli支持的预处理器)解决方案将涉及添加Angular CLI的配置。没有CLI，你仍然可以直接用webpack做类似的事情(你用webpack做了哪些<em class="nc">不能</em>做的事情？)，但我们现在不关注那个。</p><p id="f3db" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">让我们进入<code class="fe my mz na nb b">.angular-cli.json</code>(或<code class="fe my mz na nb b">angular-cli.json</code>——您知道吗，您实际上可以更改文件名并省略第一个点，这样文件就不会那么“隐藏”了🤓)并查看更改:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/0e7a5eb700a80b89b3f95cc2d3279f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VMw_rGhwh5Owb3xRBd5OuA.png"/></div></div><figcaption class="ne nf gj gh gi ng nh bd b be z dk translated">“style preprocessor options . include paths”——非常具有描述性</figcaption></figure><p id="7657" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">经过这一简单的更改，我们的Sass代码现在将如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/bb80491b2c3382a216dd3d38bc59f324.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*Uy_QErm0ZkmuvkYbieQBqA.png"/></div></figure><p id="d93f" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">IDEs呢？我无法让Visual Studio代码理解这一点，但至少它不会对我大喊无法识别的路径。WebStorm需要一些鼓励:当我右击“included”目录(来自我的例子中的<code class="fe my mz na nb b">styles/special-theme</code>)并选择:<br/>“<em class="nc">将目录标记为</em> <em class="nc">资源根</em>”时，它就更新了。</p><h1 id="4dac" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">实际应用</h1><p id="469c" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">您可能已经有了一些想法，知道在哪里可以使用这些配置。尽管如此，这里还是有一些常用的场景:</p><ul class=""><li id="b2ba" class="ni nj iq ll b lm mg lp mh ls nk lw nl ma nm me nn no np nq bi translated">我通常将我的TypeScript接口分成几个文件，我称之为“模型”你可以想象，它们是一个应用程序中最重要的导入文件之一，所以毫无疑问，我不得不经常这样做:<br/> <code class="fe my mz na nb b">import { TileType } from '@models/tile.models'</code></li><li id="ffd2" class="ni nj iq ll b lm nr lp ns ls nt lw nu ma nv me nn no np nq bi translated">如果你用Ngrx工作，你也可以让你的动作和reducers更易访问:<code class="fe my mz na nb b">import { Search, Add } from '@actions/tiles'</code>等。</li><li id="36aa" class="ni nj iq ll b lm nr lp ns ls nt lw nu ma nv me nn no np nq bi translated">对于我的风格，我通常至少把我的颜色保存在<code class="fe my mz na nb b">src/styles/</code>目录下的一个单独的文件中。有了这一点点配置，我就可以从目录结构中的任何地方开始。</li></ul><p id="ecb5" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">原来如此。这可能不会让你的开发人员的生活发生翻天覆地的变化，但是希望它能让你在日常的代码工作中获得稍微好一点的体验。祝你好运！</p><p id="ae69" class="pw-post-body-paragraph lj lk iq ll b lm mg jr lo lp mh ju lr ls mi lu lv lw mj ly lz ma mk mc md me ij bi translated">你学到新东西了吗？如果有，可以:<br/> →鼓掌👏按钮 below️这样更多的人可以看到这个<strong class="ll ir"> <br/> → </strong> <a class="ae og" href="https://twitter.com/sulco" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir">在Twitter上关注我</strong>(@ sulco)</a>这样你就不会错过以后的帖子了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><a href="https://levelup.gitconnected.com"><div class="gh gi oh"><img src="../Images/d9fe9ae1a34de6a28338eae427dd6438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8lHUzxrIT5VDhu7fUS6gg.png"/></div></a></figure></div></div>    
</body>
</html>